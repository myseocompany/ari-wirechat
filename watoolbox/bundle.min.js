!function n(o,i,a){function s(t,e){if(!i[t]){if(!o[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(l)return l(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}r=i[t]={exports:{}},o[t][0].call(r.exports,function(e){return s(o[t][1][e]||e)},r,r.exports,n,o,i,a)}return i[t].exports}for(var l="function"==typeof require&&require,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(require,module,exports){!function(process,setImmediate){!function(){(()=>{var __webpack_modules__={67526(e,t){t.byteLength=function(e){var e=d(e),t=e[0],e=e[1];return 3*(t+e)/4-e},t.toByteArray=function(e){for(var t,r=d(e),n=r[0],r=r[1],o=new c(3*(n+r)/4-r),i=0,a=0<r?n-4:n,s=0;s<a;s+=4)t=u[e.charCodeAt(s)]<<18|u[e.charCodeAt(s+1)]<<12|u[e.charCodeAt(s+2)]<<6|u[e.charCodeAt(s+3)],o[i++]=t>>16&255,o[i++]=t>>8&255,o[i++]=255&t;return 2===r&&(t=u[e.charCodeAt(s)]<<2|u[e.charCodeAt(s+1)]>>4,o[i++]=255&t),1===r&&(t=u[e.charCodeAt(s)]<<10|u[e.charCodeAt(s+1)]<<4|u[e.charCodeAt(s+2)]>>2,o[i++]=t>>8&255,o[i++]=255&t),o},t.fromByteArray=function(e){for(var t,r=e.length,n=r%3,o=[],i=16383,a=0,s=r-n;a<s;a+=i)o.push(function(e,t,r){for(var n,o=[],i=t;i<r;i+=3)n=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),o.push(function(e){return l[e>>18&63]+l[e>>12&63]+l[e>>6&63]+l[63&e]}(n));return o.join("")}(e,a,s<a+i?s:a+i));return 1==n?(t=e[r-1],o.push(l[t>>2]+l[t<<4&63]+"==")):2==n&&(t=(e[r-2]<<8)+e[r-1],o.push(l[t>>10]+l[t>>4&63]+l[t<<2&63]+"=")),o.join("")};for(var l=[],u=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0;n<64;++n)l[n]=r[n],u[r.charCodeAt(n)]=n;function d(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");e=e.indexOf("=");return[e=-1===e?t:e,e===t?0:4-e%4]}u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},48287(N,r,e){let m=e(67526),i=e(251),t="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null,n=(r.hp=c,r.IS=50,2147483647);function u(e){if(e>n)throw new RangeError('The value "'+e+'" is invalid for option "size"');e=new Uint8Array(e);return Object.setPrototypeOf(e,c.prototype),e}function c(e,t,r){if("number"!=typeof e)return o(e,t,r);if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return s(e)}function o(t,r,e){if("string"==typeof t){var n=t,o=r;if(!c.isEncoding(o="string"==typeof o&&""!==o?o:"utf8"))throw new TypeError("Unknown encoding: "+o);var i=0|g(n,o);let e=u(i);return n=e.write(n,o),e=n!==i?e.slice(0,n):e}if(ArrayBuffer.isView(t))return B(o=t,Uint8Array)?p((i=new Uint8Array(o)).buffer,i.byteOffset,i.byteLength):d(o);if(null!=t){if(B(t,ArrayBuffer)||t&&B(t.buffer,ArrayBuffer))return p(t,r,e);if("undefined"!=typeof SharedArrayBuffer&&(B(t,SharedArrayBuffer)||t&&B(t.buffer,SharedArrayBuffer)))return p(t,r,e);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return c.from(n,r,e);var a,s,l=c.isBuffer(a=t)?(0!==(s=u(l=0|f(a.length))).length&&a.copy(s,0,0,l),s):void 0!==a.length?"number"!=typeof a.length||k(a.length)?u(0):d(a):"Buffer"===a.type&&Array.isArray(a.data)?d(a.data):void 0;if(l)return l;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return c.from(t[Symbol.toPrimitive]("string"),r,e)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function a(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function s(e){return a(e),u(e<0?0:0|f(e))}function d(t){var r=t.length<0?0:0|f(t.length),n=u(r);for(let e=0;e<r;e+=1)n[e]=255&t[e];return n}function p(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');e=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r);return Object.setPrototypeOf(e,c.prototype),e}function f(e){if(e>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return 0|e}function g(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||B(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=2<arguments.length&&!0===arguments[2];if(!n&&0===r)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return T(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return U(e).length;default:if(o)return n?-1:T(e).length;t=(""+t).toLowerCase(),o=!0}}function R(e,n,o){let t=!1;if((n=void 0===n||n<0?0:n)>this.length)return"";if((o=void 0===o||o>this.length?this.length:o)<=0)return"";if((o>>>=0)<=(n>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":{var r=this;var i=n;var a=o;var s=r.length;(!i||i<0)&&(i=0),(!a||a<0||s<a)&&(a=s);let t="";for(let e=i;e<a;++e)t+=G[r[e]];return t;return}case"utf8":case"utf-8":return b(this,n,o);case"ascii":{var l=this;s=n;var u=o;let t="";u=Math.min(l.length,u);for(let e=s;e<u;++e)t+=String.fromCharCode(127&l[e]);return t;return}case"latin1":case"binary":{var c=this;i=n;var d=o;let t="";d=Math.min(c.length,d);for(let e=i;e<d;++e)t+=String.fromCharCode(c[e]);return t;return}case"base64":return p=this,g=o,0===(f=n)&&g===p.length?m.fromByteArray(p):m.fromByteArray(p.slice(f,g));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":{p=this;f=n;g=o;let t=p.slice(f,g),r="";for(let e=0;e<t.length-1;e+=2)r+=String.fromCharCode(t[e]+256*t[e+1]);return r;return}default:if(t)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),t=!0}var p,f,g}function l(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):2147483647<r?r=2147483647:r<-2147483648&&(r=-2147483648),(r=(r=k(r=+r)?o?0:e.length-1:r)<0?e.length+r:r)>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:h(e,t,r,n,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?(o?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(e,t,r):h(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function h(r,n,t,e,o){let i,a=1,s=r.length,l=n.length;if(void 0!==e&&("ucs2"===(e=String(e).toLowerCase())||"ucs-2"===e||"utf16le"===e||"utf-16le"===e)){if(r.length<2||n.length<2)return-1;a=2,s/=2,l/=2,t/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){let e=-1;for(i=t;i<s;i++)if(u(r,i)===u(n,-1===e?0:i-e)){if(-1===e&&(e=i),i-e+1===l)return e*a}else-1!==e&&(i-=i-e),e=-1}else for(t+l>s&&(t=s-l),i=t;0<=i;i--){let t=!0;for(let e=0;e<l;e++)if(u(r,i+e)!==u(n,e)){t=!1;break}if(t)return i}return-1}function b(s,e,t){t=Math.min(s.length,t);var r=[];let l=e;for(;l<t;){let o=s[l],i=null,a=239<o?4:223<o?3:191<o?2:1;if(l+a<=t){let e,t,r,n;switch(a){case 1:o<128&&(i=o);break;case 2:128==(192&(e=s[l+1]))&&127<(n=(31&o)<<6|63&e)&&(i=n);break;case 3:e=s[l+1],t=s[l+2],128==(192&e)&&128==(192&t)&&2047<(n=(15&o)<<12|(63&e)<<6|63&t)&&(n<55296||57343<n)&&(i=n);break;case 4:e=s[l+1],t=s[l+2],r=s[l+3],128==(192&e)&&128==(192&t)&&128==(192&r)&&65535<(n=(15&o)<<18|(63&e)<<12|(63&t)<<6|63&r)&&n<1114112&&(i=n)}}null===i?(i=65533,a=1):65535<i&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),l+=a}{var n=r,o=n.length;if(o<=v)return String.fromCharCode.apply(String,n);let e="",t=0;for(;t<o;)e+=String.fromCharCode.apply(String,n.slice(t,t+=v));return e}}c.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=o,Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,r){return t=t,r=r,a(e=e),!(e<=0)&&void 0!==t?"string"==typeof r?u(e).fill(t,r):u(e).fill(t):u(e)},c.allocUnsafe=s,c.allocUnsafeSlow=s,c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(r,n){if(B(r,Uint8Array)&&(r=c.from(r,r.offset,r.byteLength)),B(n,Uint8Array)&&(n=c.from(n,n.offset,n.byteLength)),!c.isBuffer(r)||!c.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(r===n)return 0;let o=r.length,i=n.length;for(let e=0,t=Math.min(o,i);e<t;++e)if(r[e]!==n[e]){o=r[e],i=n[e];break}return o<i?-1:i<o?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=c.allocUnsafe(e);let o=0;for(r=0;r<t.length;++r){let e=t[r];if(B(e,Uint8Array))o+e.length>n.length?(e=c.isBuffer(e)?e:c.from(e)).copy(n,o):Uint8Array.prototype.set.call(n,e,o);else{if(!c.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(n,o)}o+=e.length}return n},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)l(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)l(this,e,e+3),l(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)l(this,e,e+7),l(this,e+1,e+6),l(this,e+2,e+5),l(this,e+3,e+4);return this},c.prototype.toLocaleString=c.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?b(this,0,e):R.apply(this,arguments)},c.prototype.equals=function(e){if(c.isBuffer(e))return this===e||0===c.compare(this,e);throw new TypeError("Argument must be a Buffer")},c.prototype.inspect=function(){let e="";var t=r.IS;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},t&&(c.prototype[t]=c.prototype.inspect),c.prototype.compare=function(e,t,r,n,o){if(B(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),(t=void 0===t?0:t)<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(o<=n&&r<=t)return 0;if(o<=n)return-1;if(r<=t)return 1;if(this===e)return 0;let i=(o>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0);var s=Math.min(i,a),l=this.slice(n,o),u=e.slice(t,r);for(let e=0;e<s;++e)if(l[e]!==u[e]){i=l[e],a=u[e];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},c.prototype.write=function(e,r,n,t){if(void 0===r)t="utf8",n=this.length,r=0;else if(void 0===n&&"string"==typeof r)t=r,n=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r>>>=0,isFinite(n)?(n>>>=0,void 0===t&&(t="utf8")):(t=n,n=void 0)}var o,i,a,s,l,u,c=this.length-r;if((void 0===n||c<n)&&(n=c),0<e.length&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");t=t||"utf8";let d=!1;for(;;)switch(t){case"hex":{var p=this;var f=e;var g=r;var m=n;g=Number(g)||0;var y=p.length-g,y=((!m||(m=Number(m))>y)&&(m=y),f.length);let t;for(y/2<m&&(m=y/2),t=0;t<m;++t){let e=parseInt(f.substr(2*t,2),16);if(k(e))return t;p[g+t]=e}return t;return}case"utf8":case"utf-8":return y=r,u=n,E(T(e,(l=this).length-y),l,y,u);case"ascii":case"latin1":case"binary":return l=this,u=r,s=n,E(function(t){var r=[];for(let e=0;e<t.length;++e)r.push(255&t.charCodeAt(e));return r}(e),l,u,s);case"base64":return s=this,i=r,a=n,E(U(e),s,i,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i=r,a=n,E(function(t,r){var n,o,i=[];for(let e=0;e<t.length&&!((r-=2)<0);++e)o=(n=t.charCodeAt(e))>>8,i.push(n%256),i.push(o);return i}(e,(o=this).length-i),o,i,a);default:if(d)throw new TypeError("Unknown encoding: "+t);t=(""+t).toLowerCase(),d=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};let v=4096;function _(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(r<e+t)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,r,n,o,i){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(o<t||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function P(e,t,r,n,o){D(t,n,o,e,r,7);n=Number(t&BigInt(4294967295)),e[r++]=n,e[r++]=n>>=8,e[r++]=n>>=8,e[r++]=n>>=8,o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,e[r++]=o>>=8,e[r++]=o>>=8,e[r++]=o>>=8,r}function w(e,t,r,n,o){D(t,n,o,e,r,7);n=Number(t&BigInt(4294967295)),e[r+7]=n,e[r+6]=n>>=8,e[r+5]=n>>=8,e[r+4]=n>>=8,o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,e[r+2]=o>>=8,e[r+1]=o>>=8,e[r]=o>>=8,r+8}function O(e,t,r,n){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function j(e,t,r,n,o){return t=+t,r>>>=0,o||O(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function S(e,t,r,n,o){return t=+t,r>>>=0,o||O(e,0,r,8),i.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){var r=this.length,r=((e=~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),t<e&&(t=e),this.subarray(e,t));return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||_(e,t,this.length);let n=this[e],o=1,i=0;for(;++i<t&&(o*=256);)n+=this[e+i]*o;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||_(e,t,this.length);let n=this[e+--t],o=1;for(;0<t&&(o*=256);)n+=this[e+--t]*o;return n},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||_(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||_(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||_(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||_(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||_(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=L(function(e){A(e>>>=0,"offset");var t=this[e],r=this[e+7],t=(void 0!==t&&void 0!==r||I(e,this.length-8),t+256*this[++e]+65536*this[++e]+this[++e]*2**24),e=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(t)+(BigInt(e)<<BigInt(32))}),c.prototype.readBigUInt64BE=L(function(e){A(e>>>=0,"offset");var t=this[e],r=this[e+7],t=(void 0!==t&&void 0!==r||I(e,this.length-8),t*2**24+65536*this[++e]+256*this[++e]+this[++e]),e=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(t)<<BigInt(32))+BigInt(e)}),c.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||_(e,t,this.length);let n=this[e],o=1,i=0;for(;++i<t&&(o*=256);)n+=this[e+i]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||_(e,t,this.length);let n=t,o=1,i=this[e+--n];for(;0<n&&(o*=256);)i+=this[e+--n]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return e>>>=0,t||_(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||_(e,2,this.length);t=this[e]|this[e+1]<<8;return 32768&t?4294901760|t:t},c.prototype.readInt16BE=function(e,t){e>>>=0,t||_(e,2,this.length);t=this[e+1]|this[e]<<8;return 32768&t?4294901760|t:t},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||_(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||_(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=L(function(e){A(e>>>=0,"offset");var t=this[e],r=this[e+7],r=(void 0!==t&&void 0!==r||I(e,this.length-8),this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24));return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)}),c.prototype.readBigInt64BE=L(function(e){A(e>>>=0,"offset");var t=this[e],r=this[e+7],t=(void 0!==t&&void 0!==r||I(e,this.length-8),(t<<24)+65536*this[++e]+256*this[++e]+this[++e]);return(BigInt(t)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)}),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||_(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||_(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||_(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||_(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||M(this,e,t,r,Math.pow(2,8*r)-1,0);let o=1,i=0;for(this[t]=255&e;++i<r&&(o*=256);)this[t+i]=e/o&255;return t+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||M(this,e,t,r,Math.pow(2,8*r)-1,0);let o=r-1,i=1;for(this[t+o]=255&e;0<=--o&&(i*=256);)this[t+o]=e/i&255;return t+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=L(function(e,t=0){return P(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=L(function(e,t=0){return w(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(t,r,n,e){if(t=+t,r>>>=0,!e){let e=Math.pow(2,8*n-1);M(this,t,r,n,e-1,-e)}let o=0,i=1,a=0;for(this[r]=255&t;++o<n&&(i*=256);)t<0&&0===a&&0!==this[r+o-1]&&(a=1),this[r+o]=(t/i|0)-a&255;return r+n},c.prototype.writeIntBE=function(t,r,n,e){if(t=+t,r>>>=0,!e){let e=Math.pow(2,8*n-1);M(this,t,r,n,e-1,-e)}let o=n-1,i=1,a=0;for(this[r+o]=255&t;0<=--o&&(i*=256);)t<0&&0===a&&0!==this[r+o+1]&&(a=1),this[r+o]=(t/i|0)-a&255;return r+n},c.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,1,127,-128),this[t]=255&(e=e<0?255+e+1:e),t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,2147483647,-2147483648),this[t]=(e=e<0?4294967295+e+1:e)>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=L(function(e,t=0){return P(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=L(function(e,t=0){return w(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeFloatLE=function(e,t,r){return j(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return j(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return S(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return S(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r=r||0,n||0===n||(n=this.length),t>=e.length&&(t=e.length),(n=0<n&&n<r?r:n)===r)return 0;if(0===e.length||0===this.length)return 0;if((t=t||0)<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length);var o=(n=e.length-t<n-r?e.length-t+r:n)-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),o},c.prototype.fill=function(t,r,n,o){if("string"==typeof t){if("string"==typeof r?(o=r,r=0,n=this.length):"string"==typeof n&&(o=n,n=this.length),void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!c.isEncoding(o))throw new TypeError("Unknown encoding: "+o);if(1===t.length){let e=t.charCodeAt(0);("utf8"===o&&e<128||"latin1"===o)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(!(n<=r)){let e;if(r>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(t=t||0))for(e=r;e<n;++e)this[e]=t;else{var i=c.isBuffer(t)?t:c.from(t,o),a=i.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(e=0;e<n-r;++e)this[e+r]=i[e%a]}}return this};let C={};function x(e,t,r){C[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=this.name+` [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return this.name+` [${e}]: `+this.message}}}function F(e){let t="",r=e.length;for(var n="-"===e[0]?1:0;r>=4+n;r-=3)t="_"+e.slice(r-3,r)+t;return""+e.slice(0,r)+t}function D(t,r,n,e,o,i){if(n<t||t<r){let e="bigint"==typeof r?"n":"";r=3<i?0===r||r===BigInt(0)?`>= 0${e} and < 2${e} ** `+8*(i+1)+e:`>= -(2${e} ** ${8*(i+1)-1}${e}) and < 2 ** `+(8*(i+1)-1)+e:`>= ${r}${e} and <= `+n+e;throw new C.ERR_OUT_OF_RANGE("value",r,t)}n=e,r=i,A(t=o,"offset"),void 0!==n[t]&&void 0!==n[t+r]||I(t,n.length-(r+1))}function A(e,t){if("number"!=typeof e)throw new C.ERR_INVALID_ARG_TYPE(t,"number",e)}function I(e,t,r){if(Math.floor(e)!==e)throw A(e,r),new C.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new C.ERR_BUFFER_OUT_OF_BOUNDS;throw new C.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= `+t,e)}x("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?e+" is outside of buffer bounds":"Attempt to access memory outside buffer bounds"},RangeError),x("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type `+typeof t},TypeError),x("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,o=r;return Number.isInteger(r)&&Math.abs(r)>2**32?o=F(String(r)):"bigint"==typeof r&&(o=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(o=F(o)),o+="n"),n+=` It must be ${t}. Received `+o},RangeError);let W=/[^+/0-9A-Za-z-_]/g;function T(t,r){let n;r=r||1/0;var o=t.length;let i=null;var a=[];for(let e=0;e<o;++e){if(55295<(n=t.charCodeAt(e))&&n<57344){if(!i){if(56319<n){-1<(r-=3)&&a.push(239,191,189);continue}if(e+1===o){-1<(r-=3)&&a.push(239,191,189);continue}i=n;continue}if(n<56320){-1<(r-=3)&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&-1<(r-=3)&&a.push(239,191,189);if(i=null,n<128){if(--r<0)break;a.push(n)}else if(n<2048){if((r-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((r-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function U(e){return m.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(W,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function E(e,t,r,n){let o;for(o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}function B(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function k(e){return e!=e}let G=function(){var r="0123456789abcdef",n=new Array(256);for(let t=0;t<16;++t){var o=16*t;for(let e=0;e<16;++e)n[o+e]=r[t]+r[e]}return n}();function L(e){return"undefined"==typeof BigInt?q:e}function q(){throw new Error("BigInt not supported")}},38385(e,t,r){r.r(t),r.d(t,{compare:()=>f,compareVersions:()=>s,satisfies:()=>g,validate:()=>m,validateStrict:()=>y});let n=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,d=e=>{if("string"!=typeof e)throw new TypeError("Invalid argument expected string");var t=e.match(n);if(t)return t.shift(),t;throw new Error(`Invalid argument not valid semver ('${e}' received)`)},o=e=>"*"===e||"x"===e||"X"===e,i=e=>{var t=parseInt(e,10);return isNaN(t)?e:t},a=(e,t)=>{return o(e)||o(t)?0:([e,t]=(e=i(e),t=i(t),typeof e!=typeof t?[String(e),String(t)]:[e,t]),t<e?1:e<t?-1:0)},p=(t,r)=>{for(let e=0;e<Math.max(t.length,r.length);e++){var n=a(t[e]||"0",r[e]||"0");if(0!==n)return n}return 0},s=(e,t)=>{var e=d(e),t=d(t),r=e.pop(),n=t.pop(),e=p(e,t);return 0!==e?e:r&&n?p(r.split("."),n.split(".")):r||n?r?-1:1:0},f=(e,t,r)=>{c(r);e=s(e,t);return l[r].includes(e)},l={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},u=Object.keys(l),c=e=>{if("string"!=typeof e)throw new TypeError("Invalid operator type, expected string but got "+typeof e);if(-1===u.indexOf(e))throw new Error("Invalid operator, expected one of "+u.join("|"))},g=(r,n)=>{if((n=n.replace(/([><=]+)\s+/g,"$1")).includes("||"))return n.split("||").some(e=>g(r,e));if(n.includes(" - ")){let[e,t]=n.split(" - ",2);return g(r,`>=${e} <=`+t)}if(n.includes(" "))return n.trim().replace(/\s{2,}/g," ").split(" ").every(e=>g(r,e));let e=n.match(/^([<>=~^]+)/),t=e?e[1]:"=";if("^"!==t&&"~"!==t)return f(r,n,t);var[o,i,a,,s]=d(r),[n,l,u,,c]=d(n),o=[o,i,a],i=[n,null!=l?l:"x",null!=u?u:"x"];if(c){if(!s)return!1;if(0!==p(o,i))return!1;if(-1===p(s.split("."),c.split(".")))return!1}a=i.findIndex(e=>"0"!==e)+1,n="~"===t?2:1<a?a:1;return 0===p(o.slice(0,n),i.slice(0,n))&&-1!==p(o.slice(n),i.slice(n))},m=e=>"string"==typeof e&&/^[v\d]/.test(e)&&n.test(e),y=e=>"string"==typeof e&&/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/.test(e)},23807(e){function t(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function o(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?t(Object(o),!0).forEach(function(e){var t,r;t=n,r=o[e=e],(e=i(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e){e=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if("object"!=typeof(r=r.call(e,t||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==typeof e?e:String(e)}function w(e){return 0<e&&e<1/0}function O(e){return Array.from?Array.from(e):y.call(e)}function j(e){return h.test(e)}function S(e,t){for(var r=[],n=new Uint8Array(e);0<n.length;)r.push(b.apply(null,O(n.subarray(0,8192)))),n=n.subarray(8192);return"data:".concat(t,";base64,").concat(v(r.join("")))}function u(e){var t,r,n,o,i,a,s,l=new DataView(e);try{if(255===l.getUint8(0)&&216===l.getUint8(1))for(var u=l.byteLength,c=2;c+1<u;){if(255===l.getUint8(c)&&225===l.getUint8(c+1)){n=c;break}c+=1}if(n&&(i=n+10,"Exif"!==function(e,t,r){var n,o="";for(r+=t,n=t;n<r;n+=1)o+=b(e.getUint8(n));return o}(l,n+4,4)||!(r=18761===(a=l.getUint16(i)))&&19789!==a||42!==l.getUint16(i+2,r)||8<=(s=l.getUint32(i+4,r))&&(o=i+s)),o)for(var d,p=l.getUint16(o,r),f=0;f<p;f+=1)if(d=o+12*f+2,274===l.getUint16(d,r)){d+=8,t=l.getUint16(d,r),l.setUint16(d,1,r);break}}catch(e){t=1}return t}function C(e,t){t=1<arguments.length&&void 0!==t?t:1e11;return _.test(e)?Math.round(e*t)/t:e}function x(e,t){var r,n=e.aspectRatio,o=e.height,e=e.width,t=1<arguments.length&&void 0!==t?t:"none",i=w(e),a=w(o);return i&&a?(r=o*n,("contain"===t||"none"===t)&&e<r||"cover"===t&&r<e?o=e/n:e=o*n):i?o=e/n:a&&(e=o*n),{width:e,height:o}}function n(e,t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.file=e,this.exif=[],this.image=new Image,this.options=o(o({},g),t),this.aborted=!1,this.result=null,this.init()}var a,s,c,d,p,f,A,g,m,y,h,b,v,_,M,P,I,T,E,B,k;e.exports=(M=e={exports:{}},"undefined"!=typeof window&&(a=(P=window).HTMLCanvasElement&&P.HTMLCanvasElement.prototype,s=P.Blob&&function(){try{return Boolean(new Blob)}catch(e){return!1}}(),c=s&&P.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}}(),d=P.BlobBuilder||P.WebKitBlobBuilder||P.MozBlobBuilder||P.MSBlobBuilder,p=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,f=(s||d)&&P.atob&&P.ArrayBuffer&&P.Uint8Array&&function(e){var t,r,n,o,i,a;if(!(n=e.match(p)))throw new Error("invalid data URI");for(t=n[2]?n[1]:"text/plain"+(n[3]||";charset=US-ASCII"),a=!!n[4],e=e.slice(n[0].length),r=(a?atob:decodeURIComponent)(e),n=new ArrayBuffer(r.length),o=new Uint8Array(n),i=0;i<r.length;i+=1)o[i]=r.charCodeAt(i);return s?new Blob([c?o:n],{type:t}):((a=new d).append(n),a.getBlob(t))},P.HTMLCanvasElement&&!a.toBlob&&(a.mozGetAsFile?a.toBlob=function(e,t,r){var n=this;setTimeout(function(){r&&a.toDataURL&&f?e(f(n.toDataURL(t,r))):e(n.mozGetAsFile("blob",t))})}:a.toDataURL&&f&&(a.msToBlob?a.toBlob=function(e,t,r){var n=this;setTimeout(function(){(t&&"image/png"!==t||r)&&a.toDataURL&&f?e(f(n.toDataURL(t,r))):e(n.msToBlob(t))})}:a.toBlob=function(e,t,r){var n=this;setTimeout(function(){e(f(n.toDataURL(t,r)))})})),M.exports?M.exports=f:P.dataURLtoBlob=f),A=e.exports,g={strict:!0,checkOrientation:!0,retainExif:!1,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},m="undefined"!=typeof window&&void 0!==window.document?window:{},y=Array.prototype.slice,h=/^image\/.+$/,b=String.fromCharCode,v=m.btoa,_=/\.\d*(?:0|9){12}\d*$/,I=m.ArrayBuffer,T=m.FileReader,E=m.URL||m.webkitURL,B=/\.\w+$/,k=m.Compressor,M=n,P=[{key:"noConflict",value:function(){return window.Compressor=k,n}},{key:"setDefaults",value:function(e){l(g,e)}}],(e=[{key:"init",value:function(){var n,o,i,e,a=this,s=this.file,t=this.options;e=s,"undefined"!=typeof Blob&&(e instanceof Blob||"[object Blob]"===Object.prototype.toString.call(e))?j(n=s.type)?E&&T?(I||(t.checkOrientation=!1,t.retainExif=!1),o=(e="image/jpeg"===n)&&t.checkOrientation,i=e&&t.retainExif,!E||o||i?(e=new T,(this.reader=e).onload=function(e){var e=e.target.result,t={},r=1;o&&1<(r=u(e))&&l(t,function(e){var t=0,r=1,n=1;switch(e){case 2:r=-1;break;case 3:t=-180;break;case 4:n=-1;break;case 5:t=90,n=-1;break;case 6:t=90;break;case 7:t=90,r=-1;break;case 8:t=-90}return{rotate:t,scaleX:r,scaleY:n}}(r)),i&&(a.exif=function(e){for(var t=O(new Uint8Array(e)),r=t.length,n=[],o=0;o+3<r;){var i=t[o],a=t[o+1];if(255===i&&218===a)break;255===i&&216===a?o+=2:(i=o+(256*t[o+2]+t[o+3])+2,a=t.slice(o,i),n.push(a),o=i)}return n.reduce(function(e,t){return 255===t[0]&&225===t[1]?e.concat(t):e},[])}(e)),t.url=o||i?!E||1<r?S(e,n):E.createObjectURL(s):e,a.load(t)},e.onabort=function(){a.fail(new Error("Aborted to read the image with FileReader."))},e.onerror=function(){a.fail(new Error("Failed to read the image with FileReader."))},e.onloadend=function(){a.reader=null},o||i?e.readAsArrayBuffer(s):e.readAsDataURL(s)):this.load({url:E.createObjectURL(s)})):this.fail(new Error("The current browser does not support image compression.")):this.fail(new Error("The first argument must be an image File or Blob object.")):this.fail(new Error("The first argument must be a File or Blob object."))}},{key:"load",value:function(e){var t=this,r=this.file,n=this.image;n.onload=function(){t.draw(o(o({},e),{},{naturalWidth:n.naturalWidth,naturalHeight:n.naturalHeight}))},n.onabort=function(){t.fail(new Error("Aborted to load the image."))},n.onerror=function(){t.fail(new Error("Failed to load the image."))},m.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(m.navigator.userAgent)&&(n.crossOrigin="anonymous"),n.alt=r.name,n.src=e.url}},{key:"draw",value:function(e){var o=this,i=e.naturalWidth,a=e.naturalHeight,t=e.rotate,t=void 0===t?0:t,r=e.scaleX,r=void 0===r?1:r,e=e.scaleY,e=void 0===e?1:e,n=this.file,s=this.image,l=this.options,u=document.createElement("canvas"),c=u.getContext("2d"),d=Math.abs(t)%180==90,p=("contain"===l.resize||"cover"===l.resize)&&w(l.width)&&w(l.height),f=Math.max(l.maxWidth,0)||1/0,g=Math.max(l.maxHeight,0)||1/0,m=Math.max(l.minWidth,0)||0,y=Math.max(l.minHeight,0)||0,h=i/a,b=l.width,v=l.height,_=(d&&(f=(_=[g,f])[0],g=_[1],m=(_=[y,m])[0],y=_[1],b=(_=[v,b])[0],v=_[1]),x({aspectRatio:h=p?b/v:h,width:f,height:g},"contain")),_=(f=_.width,g=_.height,x({aspectRatio:h,width:m,height:y},"cover")),_=(m=_.width,y=_.height,v=p?(b=(_=x({aspectRatio:h,width:b,height:v},l.resize)).width,_.height):(b=void 0===(M=(_=x({aspectRatio:h,width:b,height:v})).width)?i:M,void 0===(M=_.height)?a:M),-(b=Math.floor(C(Math.min(Math.max(b,m),f))))/2),M=-(v=Math.floor(C(Math.min(Math.max(v,y),g))))/2,m=b,f=v,y=[],g=(p&&(0,g=(h=x({aspectRatio:h,width:g=i,height:p=a},{contain:"cover",cover:"contain"}[l.resize])).width,p=h.height,y.push((i-g)/2,(a-p)/2,g,p)),y.push(_,M,m,f),d&&(b=(h=[v,b])[0],v=h[1]),u.width=b,u.height=v,j(l.mimeType)||(l.mimeType=n.type),"transparent"),P=(n.size>l.convertSize&&0<=l.convertTypes.indexOf(l.mimeType)&&(l.mimeType="image/jpeg"),"image/jpeg"===l.mimeType);c.fillStyle=g=P?"#fff":g,c.fillRect(0,0,b,v),l.beforeDraw&&l.beforeDraw.call(this,c,u),this.aborted||(c.save(),c.translate(b/2,v/2),c.rotate(t*Math.PI/180),c.scale(r,e),c.drawImage.apply(c,[s].concat(y)),c.restore(),l.drew&&l.drew.call(this,c,u),this.aborted)||(p=function(e){var n,t,r;o.aborted||(n=function(e){return o.done({naturalWidth:i,naturalHeight:a,result:e})},e&&P&&l.retainExif&&o.exif&&0<o.exif.length?(t=function(e){return n(A(S((e=e,t=o.exif,255!==(r=O(new Uint8Array(e)))[2]||224!==r[3]?e:(e=256*r[4]+r[5],t=[255,216].concat(t,r.slice(4+e)),new Uint8Array(t))),l.mimeType)));var t,r},e.arrayBuffer?e.arrayBuffer().then(t).catch(function(){o.fail(new Error("Failed to read the compressed image with Blob.arrayBuffer()."))}):(r=new T,(o.reader=r).onload=function(e){e=e.target;t(e.result)},r.onabort=function(){o.fail(new Error("Aborted to read the compressed image with FileReader."))},r.onerror=function(){o.fail(new Error("Failed to read the compressed image with FileReader."))},r.onloadend=function(){o.reader=null},r.readAsArrayBuffer(e))):n(e))},u.toBlob?u.toBlob(p,l.mimeType,l.quality):p(A(u.toDataURL(l.mimeType,l.quality))))}},{key:"done",value:function(e){var t=e.naturalWidth,r=e.naturalHeight,e=e.result,n=this.file,o=this.image,i=this.options;E&&0===o.src.indexOf("blob:")&&E.revokeObjectURL(o.src),!e||i.strict&&!i.retainExif&&e.size>n.size&&i.mimeType===n.type&&!(i.width>t||i.height>r||i.minWidth>t||i.minHeight>r||i.maxWidth<t||i.maxHeight<r)?e=n:(o=new Date,e.lastModified=o.getTime(),e.lastModifiedDate=o,e.name=n.name,e.name&&e.type!==n.type&&(e.name=e.name.replace(B,(t=j(t=e.type)?t.substr(6):"",".".concat(t="jpeg"===t?"jpg":t))))),this.result=e,i.success&&i.success.call(this,e)}},{key:"fail",value:function(e){var t=this.options;if(!t.error)throw e;t.error.call(this,e)}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}])&&r(M.prototype,e),P&&r(M,P),Object.defineProperty(M,"prototype",{writable:!1}),n)},17833(t,r,e){r.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");let t=0,r=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(t++,"%c"===e)&&(r=t)}),e.splice(r,0,n)}},r.save=function(e){try{e?r.storage.setItem("debug",e):r.storage.removeItem("debug")}catch(e){}},r.load=function(){let e;try{e=r.storage.getItem("debug")||r.storage.getItem("DEBUG")}catch(e){}return e=!e&&void 0!==process&&"env"in process?process.env.DEBUG:e},r.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&31<=parseInt(e[1],10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},r.storage=function(){try{return localStorage}catch(e){}}(),r.destroy=(()=>{let e=!1;return()=>{e=e||!0}})(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],r.log=console.debug||console.log||(()=>{}),t.exports=e(40736)(r);e=t.exports.formatters;e.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},40736(e,t,r){e.exports=function(t){function s(e){let r,t,n,o=null;function a(...i){if(a.enabled){let n=a,e=Number(new Date),t=e-(r||e),o=(n.diff=t,n.prev=r,n.curr=e,r=e,i[0]=s.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O"),0);i[0]=i[0].replace(/%([a-zA-Z%])/g,(t,r)=>{if("%%"===t)return"%";o++;r=s.formatters[r];if("function"==typeof r){let e=i[o];t=r.call(n,e),i.splice(o,1),o--}return t}),s.formatArgs.call(n,i),(n.log||s.log).apply(n,i)}}return a.namespace=e,a.useColors=s.useColors(),a.color=s.selectColor(e),a.extend=i,a.destroy=s.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==o?o:(t!==s.namespaces&&(t=s.namespaces,n=s.enabled(e)),n),set:e=>{o=e}}),"function"==typeof s.init&&s.init(a),a}function i(e,t){t=s(this.namespace+(void 0===t?":":t)+e);return t.log=this.log,t}function n(e,t){let r=0,n=0,o=-1,i=0;for(;r<e.length;)if(n<t.length&&(t[n]===e[r]||"*"===t[n]))"*"===t[n]?(o=n,i=r):r++,n++;else{if(-1===o)return;n=o+1,i++,r=i}for(;n<t.length&&"*"===t[n];)n++;return n===t.length}return((s.debug=s).default=s).coerce=function(e){return e instanceof Error?e.stack||e.message:e},s.disable=function(){var e=[...s.names,...s.skips.map(e=>"-"+e)].join(",");return s.enable(""),e},s.enable=function(e){s.save(e),s.namespaces=e,s.names=[],s.skips=[];var t=("string"==typeof e?e:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let e of t)"-"===e[0]?s.skips.push(e.slice(1)):s.names.push(e)},s.enabled=function(e){for(var t of s.skips)if(n(e,t))return!1;for(var r of s.names)if(n(e,r))return!0;return!1},s.humanize=r(6585),s.destroy=function(){},Object.keys(t).forEach(e=>{s[e]=t[e]}),s.names=[],s.skips=[],s.formatters={},s.selectColor=function(t){let r=0;for(let e=0;e<t.length;e++)r=(r<<5)-r+t.charCodeAt(e),r|=0;return s.colors[Math.abs(r)%s.colors.length]},s.enable(s.load()),s}},53011(e,t,r){var p,f,g,l,d,n,u,M,s,o,i;function m(){this._events={},this._conf&&a.call(this,this._conf)}function a(e){e&&((this._conf=e).delimiter&&(this.delimiter=e.delimiter),e.maxListeners!==p&&(this._maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),e.ignoreErrors&&(this.ignoreErrors=e.ignoreErrors),this.wildcard)&&(this.listenerTree={})}function y(e,t){var r="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";this.verboseMemoryLeak&&(r+=" Event name: "+t+"."),void 0!==process&&process.emitWarning?((t=new Error(r)).name="MaxListenersExceededWarning",t.emitter=this,t.count=e,process.emitWarning(t)):console.trace}function c(e,t,r){var n=arguments.length;switch(n){case 0:return[];case 1:return[e];case 2:return[e,t];case 3:return[e,t,r];default:for(var o=new Array(n);n--;)o[n]=arguments[n];return o}}function h(e,t){for(var r={},n=e.length,o=t?t.length:0,i=0;i<n;i++)r[e[i]]=i<o?t[i]:p;return r}function b(e,t,r){var n,o;if(this._emitter=e,this._target=t,this._listeners={},this._listenersCount=0,(r.on||r.off)&&(n=r.on,o=r.off),t.addEventListener?(n=t.addEventListener,o=t.removeEventListener):t.addListener?(n=t.addListener,o=t.removeListener):t.on&&(n=t.on,o=t.off),!n&&!o)throw Error("target does not implement any known event API");if("function"!=typeof n)throw TypeError("on method must be a function");if("function"!=typeof o)throw TypeError("off method must be a function");this._on=n,this._off=o;r=e._observers;r?r.push(this):e._observers=[this]}function v(e,t,r,n){var o=Object.assign({},t);if(e){if("object"!=typeof e)throw TypeError("options must be an object");for(var i,a,s,l=Object.keys(e),u=l.length,c=0;c<u;c++){if(i=l[c],!n&&!f.call(t,i))throw Error('Unknown "'+i+'" option');(a=e[i])!==p&&(s=r[i],o[i]=s?s(a,d):a)}}return o;function d(e){throw Error('Invalid "'+i+'" option value'+(e?". Reason: "+e:""))}}function _(e,t){return"function"==typeof e&&e.hasOwnProperty("prototype")||t("value must be a constructor"),e}function P(o){var i="value must be type of "+o.join("|"),a=o.length,n=o[0],s=o[1];return 1===a?function(e,t){if(typeof e===n)return e;t(i)}:2===a?function(e,t){var r=typeof e;if(r===n||r===s)return e;t(i)}:function(e,t){for(var r=typeof e,n=a;0<n--;)if(r===o[n])return e;t(i)}}function w(a,s,l){var u,c,d,p=0,f=new a(function(t,r,e){function n(){c=c&&null,p&&(clearTimeout(p),p=0)}l=v(l,{timeout:0,overload:!1},{timeout:function(e,t){return("number"!=typeof(e*=1)||e<0||!Number.isFinite(e))&&t("timeout must be a positive number"),e}}),u=!l.overload&&"function"==typeof a.prototype.cancel&&"function"==typeof e;function o(e){n(),t(e)}function i(e){n(),r(e)}u?s(o,i,e):(c=[function(e){i(e||Error("canceled"))}],s(o,i,function(e){if(d)throw Error("Unable to subscribe on cancel event asynchronously");if("function"!=typeof e)throw TypeError("onCancel callback must be a function");c.push(e)}),d=!0),0<l.timeout&&(p=setTimeout(function(){var e=Error("timeout");e.code="ETIMEDOUT",p=0,f.cancel(e),r(e)},l.timeout))});return u||(f.cancel=function(e){if(c){for(var t=c.length,r=1;r<t;r++)c[r](e);c[0](e),c=null}}),f}function O(e){var t=this._observers;if(t)for(var r=t.length,n=0;n<r;n++)if(t[n]._target===e)return n;return-1}function j(e,t,r,n,o){if(!r)return null;if(0===n){var i=typeof t;if("string"==i){var a,s,l=0,u=0,c=this.delimiter,d=c.length;if(-1!==(s=t.indexOf(c))){for(a=new Array(5);a[l++]=t.slice(u,s),-1!==(s=t.indexOf(c,u=s+d)););a[l++]=t.slice(u),t=a,o=l}else t=[t],o=1}else o="object"==i?t.length:(t=[t],1)}var p,f,g,m,y,h,b=null,v=t[n],_=t[n+1];if(n===o)r._listeners&&(b=("function"==typeof r._listeners?e&&e.push(r._listeners):e&&e.push.apply(e,r._listeners),[r]));else{if("*"===v){for(s=(y=M(r)).length;0<s--;)"_listeners"!==(p=y[s])&&(h=j(e,t,r[p],n+1,o))&&(b?b.push.apply(b,h):b=h);return b}if("**"===v){for((m=n+1===o||n+2===o&&"*"===_)&&r._listeners&&(b=j(e,t,r,o,o)),s=(y=M(r)).length;0<s--;)"_listeners"!==(p=y[s])&&(h="*"===p||"**"===p?(r[p]._listeners&&!m&&(h=j(e,t,r[p],o,o))&&(b?b.push.apply(b,h):b=h),j(e,t,r[p],n,o)):j(e,t,r[p],p===_?n+2:n,o))&&(b?b.push.apply(b,h):b=h);return b}r[v]&&(b=j(e,t,r[v],n+1,o))}if((i=r["*"])&&j(e,t,i,n+1,o),f=r["**"])if(n<o)for(f._listeners&&j(e,t,f,o,o),s=(y=M(f)).length;0<s--;)"_listeners"!==(p=y[s])&&(p===_?j(e,t,f[p],n+2,o):p===v?j(e,t,f[p],n+1,o):((g={})[p]=f[p],j(e,t,{"**":g},n+1,o)));else f._listeners?j(e,t,f,o,o):f["*"]&&f["*"]._listeners&&j(e,t,f["*"],o,o);return b}function S(e,t,r,n){for(var o,i,a,s=M(e),l=s.length,u=e._listeners;0<l--;)o=e[a=s[l]],i="_listeners"===a?r:r?r.concat(a):[a],a=n||"symbol"==typeof a,u&&t.push(a?i:i.join(this.delimiter)),"object"==typeof o&&S.call(this,o,t,i,a);return t}function C(e){for(var t,r,n,o=M(e),i=o.length;0<i--;)(t=e[r=o[i]])&&(n=!0,"_listeners"===r||C(t)||delete e[r]);return n}function x(e,t,r){this.emitter=e,this.event=t,this.listener=r}function A(e){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,a.call(this,e)}f=Object.hasOwnProperty,g=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},l="object"==typeof process&&"function"==typeof process.nextTick,d="function"==typeof Symbol,n="object"==typeof Reflect,u="function"==typeof setImmediate?setImmediate:setTimeout,M=d?n&&"function"==typeof Reflect.ownKeys?Reflect.ownKeys:function(e){var t=Object.getOwnPropertyNames(e);return t.push.apply(t,Object.getOwnPropertySymbols(e)),t}:Object.keys,Object.assign(b.prototype,{subscribe:function(r,n,o){function t(){var e=c.apply(null,arguments),t={data:e,name:n,original:r};o?!1!==o.call(a,t)&&s.emit.apply(s,[t.name].concat(e)):s.emit.apply(s,[n].concat(e))}var i=this,a=this._target,s=this._emitter,l=this._listeners;if(l[r])throw Error("Event '"+r+"' is already listening");this._listenersCount++,s._newListener&&s._removeListener&&!i._onNewListener?(this._onNewListener=function(e){e===n&&null===l[r]&&(l[r]=t,i._on.call(a,r,t))},s.on("newListener",this._onNewListener),this._onRemoveListener=function(e){e===n&&!s.hasListeners(e)&&l[r]&&(l[r]=null,i._off.call(a,r,t))},l[r]=null,s.on("removeListener",this._onRemoveListener)):(l[r]=t,i._on.call(a,r,t))},unsubscribe:function(e){var t,r,n,o=this,i=this._listeners,a=this._emitter,s=this._off,l=this._target;if(e&&"string"!=typeof e)throw TypeError("event must be a string");function u(){o._onNewListener&&(a.off("newListener",o._onNewListener),a.off("removeListener",o._onRemoveListener),o._onNewListener=null,o._onRemoveListener=null);var e=O.call(a,o);a._observers.splice(e,1)}if(e)(t=i[e])&&(s.call(l,e,t),delete i[e],--this._listenersCount||u());else{for(n=(r=M(i)).length;0<n--;)e=r[n],s.call(l,e,i[e]);this._listeners={},this._listenersCount=0,u()}}}),s=P(["function"]),o=P(["object","function"]),x.prototype.off=function(){return this.emitter.off(this.event,this.listener),this},(A.EventEmitter2=A).prototype.listenTo=function(u,e,c){if("object"!=typeof u)throw TypeError("target musts be an object");var d=this;function t(e){if("object"!=typeof e)throw TypeError("events must be an object");for(var t,r=c.reducers,n=O.call(d,u),o=-1===n?new b(d,u,c):d._observers[n],i=M(e),a=i.length,s="function"==typeof r,l=0;l<a;l++)t=i[l],o.subscribe(t,e[t]||t,s?r:r&&r[t])}return c=v(c,{on:p,off:p,reducers:p},{on:s,off:s,reducers:o}),g(e)?t(h(e)):t("string"==typeof e?h(e.split(/\s+/)):e),this},A.prototype.stopListeningTo=function(e,t){var r=this._observers;if(!r)return!1;var n,o=r.length,i=!1;if(e&&"object"!=typeof e)throw TypeError("target should be an object");for(;0<o--;)n=r[o],e&&n._target!==e||(n.unsubscribe(t),i=!0);return i},A.prototype.delimiter=".",A.prototype.setMaxListeners=function(e){e!==p&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},A.prototype.getMaxListeners=function(){return this._maxListeners},A.prototype.event="",A.prototype.once=function(e,t,r){return this._once(e,t,!1,r)},A.prototype.prependOnceListener=function(e,t,r){return this._once(e,t,!0,r)},A.prototype._once=function(e,t,r,n){return this._many(e,1,t,r,n)},A.prototype.many=function(e,t,r,n){return this._many(e,t,r,!1,n)},A.prototype.prependMany=function(e,t,r,n){return this._many(e,t,r,!0,n)},A.prototype._many=function(e,t,r,n,o){var i=this;if("function"!=typeof r)throw new Error("many only accepts instances of Function");function a(){return 0==--t&&i.off(e,a),r.apply(this,arguments)}return a._origin=r,this._on(e,a,n,o)},A.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||m.call(this);var e,t,r,n,o,i,a=arguments[0],s=this.wildcard;if("newListener"===a&&!this._newListener&&!this._events.newListener)return!1;if(s&&"newListener"!==(e=a)&&"removeListener"!==a&&"object"==typeof a){if(r=a.length,d)for(n=0;n<r;n++)if("symbol"==typeof a[n]){i=!0;break}i||(a=a.join(this.delimiter))}var l,u=arguments.length;if(this._all&&this._all.length)for(n=0,r=(l=this._all.slice()).length;n<r;n++)switch(this.event=a,u){case 1:l[n].call(this,a);break;case 2:l[n].call(this,a,arguments[1]);break;case 3:l[n].call(this,a,arguments[1],arguments[2]);break;default:l[n].apply(this,arguments)}if(s)j.call(this,l=[],e,this.listenerTree,0,r);else{if("function"==typeof(l=this._events[a])){switch(this.event=a,u){case 1:l.call(this);break;case 2:l.call(this,arguments[1]);break;case 3:l.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(u-1),o=1;o<u;o++)t[o-1]=arguments[o];l.apply(this,t)}return!0}l=l&&l.slice()}if(l&&l.length){if(3<u)for(t=new Array(u-1),o=1;o<u;o++)t[o-1]=arguments[o];for(n=0,r=l.length;n<r;n++)switch(this.event=a,u){case 1:l[n].call(this);break;case 2:l[n].call(this,arguments[1]);break;case 3:l[n].call(this,arguments[1],arguments[2]);break;default:l[n].apply(this,t)}return!0}if(this.ignoreErrors||this._all||"error"!==a)return!!this._all;throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.")},A.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||m.call(this);var e,t,r,n,o,i,a=arguments[0],s=this.wildcard;if("newListener"===a&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(s&&"newListener"!==(e=a)&&"removeListener"!==a&&"object"==typeof a){if(n=a.length,d)for(o=0;o<n;o++)if("symbol"==typeof a[o]){t=!0;break}t||(a=a.join(this.delimiter))}var l,u=[],c=arguments.length;if(this._all)for(o=0,n=this._all.length;o<n;o++)switch(this.event=a,c){case 1:u.push(this._all[o].call(this,a));break;case 2:u.push(this._all[o].call(this,a,arguments[1]));break;case 3:u.push(this._all[o].call(this,a,arguments[1],arguments[2]));break;default:u.push(this._all[o].apply(this,arguments))}if(s?j.call(this,l=[],e,this.listenerTree,0):l=this._events[a],"function"==typeof l)switch(this.event=a,c){case 1:u.push(l.call(this));break;case 2:u.push(l.call(this,arguments[1]));break;case 3:u.push(l.call(this,arguments[1],arguments[2]));break;default:for(r=new Array(c-1),i=1;i<c;i++)r[i-1]=arguments[i];u.push(l.apply(this,r))}else if(l&&l.length){if(l=l.slice(),3<c)for(r=new Array(c-1),i=1;i<c;i++)r[i-1]=arguments[i];for(o=0,n=l.length;o<n;o++)switch(this.event=a,c){case 1:u.push(l[o].call(this));break;case 2:u.push(l[o].call(this,arguments[1]));break;case 3:u.push(l[o].call(this,arguments[1],arguments[2]));break;default:u.push(l[o].apply(this,r))}}else if(!this.ignoreErrors&&!this._all&&"error"===a)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(u)},A.prototype.on=function(e,t,r){return this._on(e,t,!1,r)},A.prototype.prependListener=function(e,t,r){return this._on(e,t,!0,r)},A.prototype.onAny=function(e){return this._onAny(e,!1)},A.prototype.prependAny=function(e){return this._onAny(e,!0)},A.prototype.addListener=A.prototype.on,A.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},A.prototype._on=function(e,t,r,n){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");this._events||m.call(this);var o=this;return n!==p&&(t=(n=function(e,t,r){if(!0===r)o=!0;else if(!1===r)n=!0;else{if(!r||"object"!=typeof r)throw TypeError("options should be an object or true");var n=r.async,o=r.promisify,i=r.nextTick,a=r.objectify}if(n||i||o){var s=t,r=t._origin||t;if(i&&!l)throw Error("process.nextTick is not supported");o===p&&(o="AsyncFunction"===t.constructor.name),(t=function(){var e=arguments,t=this,r=this.event;return o?i?Promise.resolve():new Promise(function(e){u(e)}).then(function(){return t.event=r,s.apply(t,e)}):(i?process.nextTick:u)(function(){t.event=r,s.apply(t,e)})})._async=!0,t._origin=r}return[t,a?new x(this,e,t):this]}.call(this,e,t,n))[0],o=n[1]),this._newListener&&this.emit("newListener",e,t),this.wildcard?function(e,t,r){var n,o=0,i=0,a=this.delimiter,s=a.length;if("string"==typeof e)if(-1!==(c=e.indexOf(a))){for(n=new Array(5);n[o++]=e.slice(i,c),-1!==(c=e.indexOf(a,i=c+s)););n[o++]=e.slice(i)}else n=[e],o=1;else o=(n=e).length;if(1<o)for(c=0;c+1<o;c++)if("**"===n[c]&&"**"===n[c+1])return;for(var l,u=this.listenerTree,c=0;c<o;c++)if(u=u[l=n[c]]||(u[l]={}),c===o-1)return u._listeners?("function"==typeof u._listeners&&(u._listeners=[u._listeners]),r?u._listeners.unshift(t):u._listeners.push(t),!u._listeners.warned&&0<this._maxListeners&&u._listeners.length>this._maxListeners&&(u._listeners.warned=!0,y.call(this,u._listeners.length,l))):u._listeners=t,!0;return!0}.call(this,e,t,r):this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),r?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&0<this._maxListeners&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,y.call(this,this._events[e].length,e))):this._events[e]=t,o},A.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var r=[];if(this.wildcard){var n="string"==typeof e?e.split(this.delimiter):e.slice();if(!(r=j.call(this,null,n,this.listenerTree,0)))return this}else{if(!this._events[e])return this;a=this._events[e],r.push({_listeners:a})}for(var o=0;o<r.length;o++){var i=r[o],a=i._listeners;if(g(a)){for(var s=-1,l=0,u=a.length;l<u;l++)if(a[l]===t||a[l].listener&&a[l].listener===t||a[l]._origin&&a[l]._origin===t){s=l;break}if(s<0)continue;return(this.wildcard?i._listeners:this._events[e]).splice(s,1),0===a.length&&(this.wildcard?delete i._listeners:delete this._events[e]),this._removeListener&&this.emit("removeListener",e,t),this}(a===t||a.listener&&a.listener===t||a._origin&&a._origin===t)&&(this.wildcard?delete i._listeners:delete this._events[e],this._removeListener)&&this.emit("removeListener",e,t)}return this.listenerTree&&C(this.listenerTree),this},A.prototype.offAny=function(e){var t,r=0,n=0;if(e&&this._all&&0<this._all.length){for(r=0,n=(t=this._all).length;r<n;r++)if(e===t[r])return t.splice(r,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(r=0,n=t.length;r<n;r++)this.emit("removeListenerAny",t[r]);this._all=[]}return this},A.prototype.removeListener=A.prototype.off,A.prototype.removeAllListeners=function(e){if(e===p)this._events&&m.call(this);else if(this.wildcard){var t,r=j.call(this,null,e,this.listenerTree,0);if(!r)return this;for(t=0;t<r.length;t++)r[t]._listeners=null;this.listenerTree&&C(this.listenerTree)}else this._events&&(this._events[e]=null);return this},A.prototype.listeners=function(e){var t,r,n,o,i,a,s,l=this._events;if(e!==p)return this.wildcard?(i=this.listenerTree)?(a=[],s="string"==typeof e?e.split(this.delimiter):e.slice(),j.call(this,a,s,i,0),a):[]:l&&(r=l[e])?"function"==typeof r?[r]:r:[];if(this.wildcard)throw Error("event name required for wildcard emitter");if(!l)return[];for(o=(t=M(l)).length,n=[];0<o--;)"function"==typeof(r=l[t[o]])?n.push(r):n.push.apply(n,r);return n},A.prototype.eventNames=function(e){var t=this._events;return this.wildcard?S.call(this,this.listenerTree,[],null,e):t?M(t):[]},A.prototype.listenerCount=function(e){return this.listeners(e).length},A.prototype.hasListeners=function(e){var t,r;return this.wildcard?(r=[],t="string"==typeof e?e.split(this.delimiter):e.slice(),j.call(this,r,t,this.listenerTree,0),0<r.length):(t=this._events,!!((r=this._all)&&r.length||t&&(e===p?M(t).length:t[e])))},A.prototype.listenersAny=function(){return this._all||[]},A.prototype.waitFor=function(o,i){var a=this,e=typeof i;return"number"==e?i={timeout:i}:"function"==e&&(i={filter:i}),w((i=v(i,{timeout:0,filter:p,handleError:!1,Promise:Promise,overload:!1},{filter:s,Promise:_})).Promise,function(t,r,e){function n(){var e=i.filter;e&&!e.apply(a,arguments)||(a.off(o,n),i.handleError?(e=arguments[0])?r(e):t(c.apply(null,arguments).slice(1)):t(c.apply(null,arguments)))}e(function(){a.off(o,n)}),a._on(o,n,!1)},{timeout:i.timeout,overload:i.overload})},i=A.prototype,Object.defineProperties(A,{defaultMaxListeners:{get:function(){return i._maxListeners},set:function(e){if("number"!=typeof e||e<0||Number.isNaN(e))throw TypeError("n must be a non-negative number");i._maxListeners=e},enumerable:!0},once:{value:function(a,s,e){return w((e=v(e,{Promise:Promise,timeout:0,overload:!1},{Promise:_})).Promise,function(e,t,r){var n;if("function"==typeof a.addEventListener)return n=function(){e(c.apply(null,arguments))},r(function(){a.removeEventListener(s,n)}),a.addEventListener(s,n,{once:!0});function o(){i&&a.removeListener("error",i),e(c.apply(null,arguments))}var i;"error"!==s&&(i=function(e){a.removeListener(s,o),t(e)},a.once("error",i)),r(function(){i&&a.removeListener("error",i),a.removeListener(s,o)}),a.once(s,o)},{timeout:e.timeout,overload:e.overload})},writable:!0,configurable:!0}}),Object.defineProperties(i,{_maxListeners:{value:10,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),(n=function(){return A}.call(t,r,t,e))!==p&&(e.exports=n)},5707(module,__unused_webpack_exports,__webpack_require__){var Buffer=__webpack_require__(48287).hp;let Token=__webpack_require__(44266),strtok3=__webpack_require__(96452),{stringToBytes,tarHeaderChecksumMatches,uint32SyncSafeToken}=__webpack_require__(86760),supported=__webpack_require__(71664),minimumBytes=4100;async function fromStream(e){e=await strtok3.fromStream(e);try{return await fromTokenizer(e)}finally{await e.close()}}async function fromBuffer(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||Buffer.isBuffer(e)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof e}\``);e=e instanceof Buffer?e:Buffer.from(e);if(e&&1<e.length)return fromTokenizer(strtok3.fromBuffer(e))}function _check(e,t,r){r={offset:0,...r};for(var[n,o]of t.entries())if(r.mask){if(o!==(r.mask[n]&e[n+r.offset]))return!1}else if(o!==e[n+r.offset])return!1;return!0}async function fromTokenizer(e){try{return _fromTokenizer(e)}catch(e){if(!(e instanceof strtok3.EndOfStreamError))throw e}}async function _fromTokenizer(o){let r=Buffer.alloc(minimumBytes),n=(e,t)=>_check(r,e,t),e=(e,t)=>n(stringToBytes(e),t);if(o.fileInfo.size||(o.fileInfo.size=Number.MAX_SAFE_INTEGER),await o.peekBuffer(r,{length:12,mayBeLess:!0}),n([66,77]))return{ext:"bmp",mime:"image/bmp"};if(n([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(n([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(n([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(n([37,33]))return await o.peekBuffer(r,{length:24,mayBeLess:!0}),e("PS-Adobe-",{offset:2})&&e(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(n([31,160])||n([31,157]))return{ext:"Z",mime:"application/x-compress"};if(n([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(n([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(n([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(n([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(e("ID3"))return await o.ignore(6),c=await o.readToken(uint32SyncSafeToken),o.position+c>o.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await o.ignore(c),fromTokenizer(o));if(e("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((67===r[0]||70===r[0])&&n([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(n([71,73,70]))return{ext:"gif",mime:"image/gif"};if(e("FLIF"))return{ext:"flif",mime:"image/flif"};if(e("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(e("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(e("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(e("FORM"))return{ext:"aif",mime:"audio/aiff"};if(e("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(n([80,75,3,4])){try{for(;o.position+30<o.fileInfo.size;){await o.readBuffer(r,{length:30});var t={compressedSize:r.readUInt32LE(18),uncompressedSize:r.readUInt32LE(22),filenameLength:r.readUInt16LE(26),extraFieldLength:r.readUInt16LE(28)};if(t.filename=await o.readToken(new Token.StringType(t.filenameLength,"utf-8")),await o.ignore(t.extraFieldLength),"META-INF/mozilla.rsa"===t.filename)return{ext:"xpi",mime:"application/x-xpinstall"};if(t.filename.endsWith(".rels")||t.filename.endsWith(".xml"))switch(t.filename.split("/")[0]){case"_rels":default:break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}}if(t.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(t.filename.startsWith("3D/")&&t.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if("mimetype"===t.filename&&t.compressedSize===t.uncompressedSize)switch(await o.readToken(new Token.StringType(t.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"}}if(0===t.compressedSize){let e=-1;for(;e<0&&o.position<o.fileInfo.size;)await o.peekBuffer(r,{mayBeLess:!0}),e=r.indexOf("504B0304",0,"hex"),await o.ignore(0<=e?e:r.length)}else await o.ignore(t.compressedSize)}}catch(e){if(!(e instanceof strtok3.EndOfStreamError))throw e}return{ext:"zip",mime:"application/zip"}}if(e("OggS"))return await o.ignore(28),c=Buffer.alloc(8),await o.readBuffer(c),_check(c,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:_check(c,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(c,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(c,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(c,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(c,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(n([80,75])&&(3===r[2]||5===r[2]||7===r[2])&&(4===r[3]||6===r[3]||8===r[3]))return{ext:"zip",mime:"application/zip"};if(e("ftyp",{offset:4})&&96&r[8]){var i=r.toString("binary",8,12).replace("\0"," ").trim();switch(i){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return i.startsWith("3g")?i.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(e("MThd"))return{ext:"mid",mime:"audio/midi"};if(e("wOFF")&&(n([0,1,0,0],{offset:4})||e("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(e("wOF2")&&(n([0,1,0,0],{offset:4})||e("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(n([212,195,178,161])||n([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(e("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(e("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(e("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(n([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(e("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(e("%PDF"))return await o.ignore(1350),c=Buffer.alloc(Math.min(10485760,o.fileInfo.size)),await o.readBuffer(c,{mayBeLess:!0}),c.includes(Buffer.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"};if(n([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(n([73,73,42,0]))return e("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:n([28,0,254,0],{offset:8})||n([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:n([8,0,0,0],{offset:4})&&(n([45,0,254,0],{offset:8})||n([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(r=Buffer.alloc(24),await o.peekBuffer(r),(n([16,251,134,1],{offset:4})||n([8,0,0,0],{offset:4}))&&n([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"});if(n([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(e("MAC "))return{ext:"ape",mime:"audio/ape"};if(n([26,69,223,163])){async function a(){var e=await o.peekNumber(Token.UINT8);let t=128,r=0;for(;0==(e&t)&&0!==t;)++r,t>>=1;var n=Buffer.alloc(r+1);return await o.readBuffer(n),n}async function s(){var e=await a(),t=await a(),r=(t[0]^=128>>t.length-1,Math.min(6,t.length));return{id:e.readUIntBE(0,e.length),len:t.readUIntBE(t.length-r,r)}}switch(await async function(t){for(;0<t;){let e=await s();if(17026===e.id)return o.readToken(new Token.StringType(e.len,"utf-8"));await o.ignore(e.len),--t}}((await s()).len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(n([82,73,70,70])){if(n([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(n([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(n([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(e("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(n([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(e("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(e("MSCF")||e("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(n([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(n([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(n([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(n([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(e("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(e("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(n([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(e("IMPM"))return{ext:"it",mime:"audio/x-it"};if(e("-lh0-",{offset:2})||e("-lh1-",{offset:2})||e("-lh2-",{offset:2})||e("-lh3-",{offset:2})||e("-lh4-",{offset:2})||e("-lh5-",{offset:2})||e("-lh6-",{offset:2})||e("-lh7-",{offset:2})||e("-lzs-",{offset:2})||e("-lz4-",{offset:2})||e("-lz5-",{offset:2})||e("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(n([0,0,1,186])){if(n([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(n([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(e("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(n([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(e("<?xml "))return{ext:"xml",mime:"application/xml"};if(n([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(n([82,97,114,33,26,7])&&(0===r[6]||1===r[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(e("solid "))return{ext:"stl",mime:"model/stl"};if(e("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(e("!<arch>"))return await o.ignore(8),"debian-binary"===await o.readToken(new Token.StringType(13,"ascii"))?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(n([137,80,78,71,13,10,26,10])){await o.ignore(8);do{var l=await{length:await o.readToken(Token.INT32_BE),type:await o.readToken(new Token.StringType(4,"binary"))};if(l.length<0)return;switch(l.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await o.ignore(l.length+4)}}while(o.position+8<o.fileInfo.size);return{ext:"png",mime:"image/png"}}if(n([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(n([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(n([102,114,101,101],{offset:4})||n([109,100,97,116],{offset:4})||n([109,111,111,118],{offset:4})||n([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(n([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(e("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(n([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(n([48,38,178,117,142,102,207,17,166,217])){for(await o.ignore(30);o.position+24<o.fileInfo.size;){u=void 0,u=Buffer.alloc(16),await o.readBuffer(u);var u=await{id:u,size:Number(await o.readToken(Token.UINT64_LE))};let e=u.size-24;if(_check(u.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){u=Buffer.alloc(16);if(e-=await o.readBuffer(u),_check(u,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(u,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await o.ignore(e)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(n([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((n([126,16,4])||n([126,24,4]))&&n([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(n([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(n([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await o.ignore(20),await o.readToken(new Token.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(n([255,10])||n([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(n([0,0,1,186])||n([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(n([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(n([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(n([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(n([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await o.peekBuffer(r,{length:Math.min(256,o.fileInfo.size),mayBeLess:!0}),e("BEGIN:")){if(e("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(e("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(e("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(e("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(e("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(n([4,0,0,0])&&16<=r.length){var c=r.readUInt32LE(12);if(12<c&&r.length>=c+16)try{var d=r.slice(16,c+16).toString();if(JSON.parse(d).files)return{ext:"asar",mime:"application/x-asar"}}catch(e){}}return n([6,14,43,52,2,5,1,1,13,1,2,1,1,2])?{ext:"mxf",mime:"application/mxf"}:e("SCRM",{offset:44})?{ext:"s3m",mime:"audio/x-s3m"}:n([71],{offset:4})&&(n([71],{offset:192})||n([71],{offset:196}))?{ext:"mts",mime:"video/mp2t"}:n([66,79,79,75,77,79,66,73],{offset:60})?{ext:"mobi",mime:"application/x-mobipocket-ebook"}:n([68,73,67,77],{offset:128})?{ext:"dcm",mime:"application/dicom"}:n([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70])?{ext:"lnk",mime:"application/x.ms.shortcut"}:n([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0])?{ext:"alias",mime:"application/x.apple.alias"}:n([76,80],{offset:34})&&(n([0,0,1],{offset:8})||n([1,0,2],{offset:8})||n([2,0,2],{offset:8}))?{ext:"eot",mime:"application/vnd.ms-fontobject"}:n([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29])?{ext:"indd",mime:"application/x-indesign"}:(await o.peekBuffer(r,{length:Math.min(512,o.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(r)?{ext:"tar",mime:"application/x-tar"}:n([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0])?{ext:"skp",mime:"application/vnd.sketchup.skp"}:e("-----BEGIN PGP MESSAGE-----")?{ext:"pgp",mime:"application/pgp-encrypted"}:2<=r.length&&n([255,224],{offset:0,mask:[255,224]})?n([16],{offset:1,mask:[22]})?(n([8],{offset:1,mask:[8]}),{ext:"aac",mime:"audio/aac"}):n([2],{offset:1,mask:[6]})?{ext:"mp3",mime:"audio/mpeg"}:n([4],{offset:1,mask:[6]})?{ext:"mp2",mime:"audio/mpeg"}:n([6],{offset:1,mask:[6]})?{ext:"mp1",mime:"audio/mpeg"}:void 0:void 0)}let stream=readableStream=>new Promise((resolve,reject)=>{let stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",async()=>{var t=new stream.PassThrough;let e;e=stream.pipeline?stream.pipeline(readableStream,t,()=>{}):readableStream.pipe(t);var r=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{let e=await fromBuffer(r);t.fileType=e}catch(t){reject(t)}resolve(e)})}),fileType={fromStream:fromStream,fromTokenizer:fromTokenizer,fromBuffer:fromBuffer,stream:stream};Object.defineProperty(fileType,"extensions",{get:()=>new Set(supported.extensions)}),Object.defineProperty(fileType,"mimeTypes",{get:()=>new Set(supported.mimeTypes)}),module.exports=fileType},53846(e,t,r){let n=r(80363),o=r(5707);r={fromFile:async function(e){e=await n.fromFile(e);try{return await o.fromTokenizer(e)}finally{await e.close()}}};Object.assign(r,o),Object.defineProperty(r,"extensions",{get:()=>o.extensions}),Object.defineProperty(r,"mimeTypes",{get:()=>o.mimeTypes}),e.exports=r},71664(e){e.exports={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]}},86760(e,t){t.stringToBytes=e=>[...e].map(e=>e.charCodeAt(0)),t.tarHeaderChecksumMatches=(t,r=0)=>{var e=parseInt(t.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(e))return!1;let n=256;for(let e=r;e<r+148;e++)n+=t[e];for(let e=r+156;e<r+512;e++)n+=t[e];return e===n},t.uint32SyncSafeToken={get:(e,t)=>127&e[t+3]|e[t+2]<<7|e[t+1]<<14|e[t]<<21,len:4}},251(e,t){t.read=function(e,t,r,n,o){var i,a,s=8*o-n-1,l=(1<<s)-1,u=l>>1,c=-7,d=r?o-1:0,p=r?-1:1,o=e[t+d];for(d+=p,i=o&(1<<-c)-1,o>>=-c,c+=s;0<c;i=256*i+e[t+d],d+=p,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=n;0<c;a=256*a+e[t+d],d+=p,c-=8);if(0===i)i=1-u;else{if(i===l)return a?NaN:1/0*(o?-1:1);a+=Math.pow(2,n),i-=u}return(o?-1:1)*a*Math.pow(2,i-n)},t.write=function(e,t,r,n,o,i){var a,s,l=8*i-o-1,u=(1<<l)-1,c=u>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,f=n?1:-1,i=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(n=Math.pow(2,-a))<1&&(a--,n*=2),2<=(t+=1<=a+c?d/n:d*Math.pow(2,1-c))*n&&(a++,n/=2),u<=a+c?(s=0,a=u):1<=a+c?(s=(t*n-1)*Math.pow(2,o),a+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,o),a=0));8<=o;e[r+p]=255&s,p+=f,s/=256,o-=8);for(a=a<<o|s,l+=o;0<l;e[r+p]=255&a,p+=f,a/=256,l-=8);e[r+p-f]|=128*i}},6585(e){var o=36e5,i=864e5;function a(e,t,r,n){t=1.5*r<=t;return Math.round(e/r)+" "+n+(t?"s":"")}e.exports=function(e,t){t=t||{};var r=typeof e;if(!("string"==r&&0<e.length)){if("number"==r&&isFinite(e))return t.long?(r=e,t=Math.abs(r),i<=t?a(r,t,i,"day"):o<=t?a(r,t,o,"hour"):6e4<=t?a(r,t,6e4,"minute"):1e3<=t?a(r,t,1e3,"second"):r+" ms"):(t=e,r=Math.abs(t),i<=r?Math.round(t/i)+"d":o<=r?Math.round(t/o)+"h":6e4<=r?Math.round(t/6e4)+"m":1e3<=r?Math.round(t/1e3)+"s":t+"ms");throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}r=e;if(!(100<(r=String(r)).length)){r=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(r){var n=parseFloat(r[1]);switch((r[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"weeks":case"week":case"w":return 6048e5*n;case"days":case"day":case"d":return n*i;case"hours":case"hour":case"hrs":case"hr":case"h":return n*o;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*n;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}},62759(e,t,r){var n=r(48287).hp;let o=r(44276);e.exports=e=>{if(!o(e))return!1;let t=e.trim().match(o.regex),r={};if(t[1]){r.mediaType=t[1].toLowerCase();let e=t[1].split(";").map(e=>e.toLowerCase());r.contentType=e[0],e.slice(1).forEach(e=>{e=e.split("=");r[e[0]]=e[1]})}return r.base64=!!t[t.length-2],r.data=t[t.length-1]||"",r.toBuffer=()=>{var e=r.base64?"base64":"utf8";return n.from(r.base64?r.data:decodeURIComponent(r.data),e)},r}},78122(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Deferred=void 0,t.Deferred=class{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise((e,t)=>{this.reject=t,this.resolve=e})}}},75523(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.EndOfStreamError=t.defaultMessages=void 0,t.defaultMessages="End-Of-Stream";class r extends Error{constructor(){super(t.defaultMessages)}}t.EndOfStreamError=r},51510(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.StreamReader=t.EndOfStreamError=void 0;let a=r(75523),o=r(78122);var n=r(75523);Object.defineProperty(t,"EndOfStreamError",{enumerable:!0,get:function(){return n.EndOfStreamError}}),t.StreamReader=class{constructor(e){if(this.s=e,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!e.read||!e.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new a.EndOfStreamError)),this.s.once("error",e=>this.reject(e)),this.s.once("close",()=>this.reject(new Error("Stream closed")))}async peek(e,t,r){r=await this.read(e,t,r);return this.peekQueue.push(e.subarray(t,t+r)),r}async read(r,n,e){if(0===e)return 0;if(0===this.peekQueue.length&&this.endOfStream)throw new a.EndOfStreamError;let o=e,i=0;for(;0<this.peekQueue.length&&0<o;){let e=this.peekQueue.pop();if(!e)throw new Error("peekData should be defined");let t=Math.min(e.length,o);r.set(e.subarray(0,t),n+i),i+=t,o-=t,t<e.length&&this.peekQueue.push(e.subarray(t))}for(;0<o&&!this.endOfStream;){let e=Math.min(o,1048576),t=await this.readFromStream(r,n+i,e);if(i+=t,t<e)break;o-=t}return i}async readFromStream(t,r,n){let e=this.s.read(n);if(e)return t.set(e,r),e.length;{let e={buffer:t,offset:r,length:n,deferred:new o.Deferred};return this.deferred=e.deferred,this.s.once("readable",()=>{this.readDeferred(e)}),e.deferred.promise}}readDeferred(e){var t=this.s.read(e.length);t?(e.buffer.set(t,e.offset),e.deferred.resolve(t.length),this.deferred=null):this.s.once("readable",()=>{this.readDeferred(e)})}reject(e){this.endOfStream=!0,this.deferred&&(this.deferred.reject(e),this.deferred=null)}}},48705(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.StreamReader=t.EndOfStreamError=void 0;var n=r(75523),o=(Object.defineProperty(t,"EndOfStreamError",{enumerable:!0,get:function(){return n.EndOfStreamError}}),r(51510));Object.defineProperty(t,"StreamReader",{enumerable:!0,get:function(){return o.StreamReader}})},98632(e,t,r){var n=r(48287).hp;Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractTokenizer=void 0;let o=r(48705);t.AbstractTokenizer=class{constructor(e){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=e||{}}async readToken(e,t=this.position){var r=n.alloc(e.len);if(await this.readBuffer(r,{position:t})<e.len)throw new o.EndOfStreamError;return e.get(r,0)}async peekToken(e,t=this.position){var r=n.alloc(e.len);if(await this.peekBuffer(r,{position:t})<e.len)throw new o.EndOfStreamError;return e.get(r,0)}async readNumber(e){if(await this.readBuffer(this.numBuffer,{length:e.len})<e.len)throw new o.EndOfStreamError;return e.get(this.numBuffer,0)}async peekNumber(e){if(await this.peekBuffer(this.numBuffer,{length:e.len})<e.len)throw new o.EndOfStreamError;return e.get(this.numBuffer,0)}async ignore(e){if(void 0!==this.fileInfo.size){var t=this.fileInfo.size-this.position;if(t<e)return this.position+=t,t}return this.position+=e,e}async close(){}normalizeOptions(e,t){if(t&&void 0!==t.position&&t.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return t?{mayBeLess:!0===t.mayBeLess,offset:t.offset||0,length:t.length||e.length-(t.offset||0),position:t.position||this.position}:{mayBeLess:!1,offset:0,length:e.length,position:this.position}}}},93492(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.BufferTokenizer=void 0;let n=r(48705),o=r(98632);class i extends o.AbstractTokenizer{constructor(e,t){super(t),this.uint8Array=e,this.fileInfo.size=this.fileInfo.size||e.length}async readBuffer(e,t){if(t&&t.position){if(t.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=t.position}e=await this.peekBuffer(e,t);return this.position+=e,e}async peekBuffer(e,t){var t=this.normalizeOptions(e,t),r=Math.min(this.uint8Array.length-t.position,t.length);if(!t.mayBeLess&&r<t.length)throw new n.EndOfStreamError;return e.set(this.uint8Array.subarray(t.position,t.position+r),t.offset),r}async close(){}}t.BufferTokenizer=i},91456(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.fromFile=t.FileTokenizer=void 0;let n=r(98632),o=r(48705),i=r(91343);class a extends n.AbstractTokenizer{constructor(e,t){super(t),this.fd=e}async readBuffer(e,t){var r=this.normalizeOptions(e,t),e=(this.position=r.position,await i.read(this.fd,e,r.offset,r.length,r.position));if(this.position+=e.bytesRead,!(e.bytesRead<r.length)||t&&t.mayBeLess)return e.bytesRead;throw new o.EndOfStreamError}async peekBuffer(e,t){t=this.normalizeOptions(e,t),e=await i.read(this.fd,e,t.offset,t.length,t.position);if(!t.mayBeLess&&e.bytesRead<t.length)throw new o.EndOfStreamError;return e.bytesRead}async close(){return i.close(this.fd)}}t.FileTokenizer=a,t.fromFile=async function(e){var t,r=await i.stat(e);if(r.isFile)return t=await i.open(e,"r"),new a(t,{path:e,size:r.size});throw new Error("File not a file: "+e)}},91343(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.readFile=t.writeFileSync=t.writeFile=t.read=t.open=t.close=t.stat=t.createReadStream=t.pathExists=void 0;let s=r(54428);t.pathExists=s.existsSync,t.createReadStream=s.createReadStream,t.stat=async function(e){return new Promise((r,n)=>{s.stat(e,(e,t)=>{e?n(e):r(t)})})},t.close=async function(e){return new Promise((t,r)=>{s.close(e,e=>{e?r(e):t()})})},t.open=async function(e,t){return new Promise((r,n)=>{s.open(e,t,(e,t)=>{e?n(e):r(t)})})},t.read=async function(e,t,r,i,a){return new Promise((n,o)=>{s.read(e,t,r,i,a,(e,t,r)=>{e?o(e):n({bytesRead:t,buffer:r})})})},t.writeFile=async function(e,n){return new Promise((t,r)=>{s.writeFile(e,n,e=>{e?r(e):t()})})},t.writeFileSync=function(e,t){s.writeFileSync(e,t)},t.readFile=async function(e){return new Promise((r,n)=>{s.readFile(e,(e,t)=>{e?n(e):r(t)})})}},36066(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ReadStreamTokenizer=void 0;let n=r(98632),i=r(48705);class o extends n.AbstractTokenizer{constructor(e,t){super(t),this.streamReader=new i.StreamReader(e)}async getFileInfo(){return this.fileInfo}async readBuffer(e,t){var r=this.normalizeOptions(e,t),n=r.position-this.position;if(0<n)return await this.ignore(n),this.readBuffer(e,t);if(n<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(0===r.length)return 0;n=await this.streamReader.read(e,r.offset,r.length);if(this.position+=n,t&&t.mayBeLess||!(n<r.length))return n;throw new i.EndOfStreamError}async peekBuffer(r,e){var n=this.normalizeOptions(r,e);let o=0;if(n.position){let t=n.position-this.position;if(0<t){let e=new Uint8Array(n.length+t);return o=await this.peekBuffer(e,{mayBeLess:n.mayBeLess}),r.set(e.subarray(t),n.offset),o-t}if(t<0)throw new Error("Cannot peek from a negative offset in a stream")}if(0<n.length){try{o=await this.streamReader.peek(r,n.offset,n.length)}catch(r){if(e&&e.mayBeLess&&r instanceof i.EndOfStreamError)return 0;throw r}if(!n.mayBeLess&&o<n.length)throw new i.EndOfStreamError}return o}async ignore(e){var t=Math.min(256e3,e),r=new Uint8Array(t);let n=0;for(;n<e;){var o=e-n,o=await this.readBuffer(r,{length:Math.min(t,o)});if(o<0)return o;n+=o}return n}}t.ReadStreamTokenizer=o},96452(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.fromBuffer=t.fromStream=t.EndOfStreamError=void 0;let n=r(36066),o=r(93492);var i=r(48705);Object.defineProperty(t,"EndOfStreamError",{enumerable:!0,get:function(){return i.EndOfStreamError}}),t.fromStream=function(e,t){return t=t||{},new n.ReadStreamTokenizer(e,t)},t.fromBuffer=function(e,t){return new o.BufferTokenizer(e,t)}},80363(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.fromStream=t.fromBuffer=t.EndOfStreamError=t.fromFile=void 0;let n=r(91343),o=r(96452);var i=r(91456),a=(Object.defineProperty(t,"fromFile",{enumerable:!0,get:function(){return i.fromFile}}),r(96452));Object.defineProperty(t,"EndOfStreamError",{enumerable:!0,get:function(){return a.EndOfStreamError}}),Object.defineProperty(t,"fromBuffer",{enumerable:!0,get:function(){return a.fromBuffer}}),t.fromStream=async function(e,t){var r;return t=t||{},e.path&&(r=await n.stat(e.path),t.path=e.path,t.size=r.size),o.fromStream(e,t)}},44266(e,r,t){var n=t(48287).hp;Object.defineProperty(r,"__esModule",{value:!0}),r.AnsiStringType=r.StringType=r.BufferType=r.Uint8ArrayType=r.IgnoreType=r.Float80_LE=r.Float80_BE=r.Float64_LE=r.Float64_BE=r.Float32_LE=r.Float32_BE=r.Float16_LE=r.Float16_BE=r.INT64_BE=r.UINT64_BE=r.INT64_LE=r.UINT64_LE=r.INT32_LE=r.INT32_BE=r.INT24_BE=r.INT24_LE=r.INT16_LE=r.INT16_BE=r.INT8=r.UINT32_BE=r.UINT32_LE=r.UINT24_BE=r.UINT24_LE=r.UINT16_BE=r.UINT16_LE=r.UINT8=void 0;let o=t(251);function i(e){return new DataView(e.buffer,e.byteOffset)}r.UINT8={len:1,get:(e,t)=>i(e).getUint8(t),put:(e,t,r)=>(i(e).setUint8(t,r),t+1)},r.UINT16_LE={len:2,get:(e,t)=>i(e).getUint16(t,!0),put:(e,t,r)=>(i(e).setUint16(t,r,!0),t+2)},r.UINT16_BE={len:2,get:(e,t)=>i(e).getUint16(t),put:(e,t,r)=>(i(e).setUint16(t,r),t+2)},r.UINT24_LE={len:3,get(e,t){e=i(e);return e.getUint8(t)+(e.getUint16(t+1,!0)<<8)},put(e,t,r){e=i(e);return e.setUint8(t,255&r),e.setUint16(t+1,r>>8,!0),t+3}},r.UINT24_BE={len:3,get(e,t){e=i(e);return(e.getUint16(t)<<8)+e.getUint8(t+2)},put(e,t,r){e=i(e);return e.setUint16(t,r>>8),e.setUint8(t+2,255&r),t+3}},r.UINT32_LE={len:4,get:(e,t)=>i(e).getUint32(t,!0),put:(e,t,r)=>(i(e).setUint32(t,r,!0),t+4)},r.UINT32_BE={len:4,get:(e,t)=>i(e).getUint32(t),put:(e,t,r)=>(i(e).setUint32(t,r),t+4)},r.INT8={len:1,get:(e,t)=>i(e).getInt8(t),put:(e,t,r)=>(i(e).setInt8(t,r),t+1)},r.INT16_BE={len:2,get:(e,t)=>i(e).getInt16(t),put:(e,t,r)=>(i(e).setInt16(t,r),t+2)},r.INT16_LE={len:2,get:(e,t)=>i(e).getInt16(t,!0),put:(e,t,r)=>(i(e).setInt16(t,r,!0),t+2)},r.INT24_LE={len:3,get(e,t){e=r.UINT24_LE.get(e,t);return 8388607<e?e-16777216:e},put(e,t,r){e=i(e);return e.setUint8(t,255&r),e.setUint16(t+1,r>>8,!0),t+3}},r.INT24_BE={len:3,get(e,t){e=r.UINT24_BE.get(e,t);return 8388607<e?e-16777216:e},put(e,t,r){e=i(e);return e.setUint16(t,r>>8),e.setUint8(t+2,255&r),t+3}},r.INT32_BE={len:4,get:(e,t)=>i(e).getInt32(t),put:(e,t,r)=>(i(e).setInt32(t,r),t+4)},r.INT32_LE={len:4,get:(e,t)=>i(e).getInt32(t,!0),put:(e,t,r)=>(i(e).setInt32(t,r,!0),t+4)},r.UINT64_LE={len:8,get:(e,t)=>i(e).getBigUint64(t,!0),put:(e,t,r)=>(i(e).setBigUint64(t,r,!0),t+8)},r.INT64_LE={len:8,get:(e,t)=>i(e).getBigInt64(t,!0),put:(e,t,r)=>(i(e).setBigInt64(t,r,!0),t+8)},r.UINT64_BE={len:8,get:(e,t)=>i(e).getBigUint64(t),put:(e,t,r)=>(i(e).setBigUint64(t,r),t+8)},r.INT64_BE={len:8,get:(e,t)=>i(e).getBigInt64(t),put:(e,t,r)=>(i(e).setBigInt64(t,r),t+8)},r.Float16_BE={len:2,get(e,t){return o.read(e,t,!1,10,this.len)},put(e,t,r){return o.write(e,r,t,!1,10,this.len),t+this.len}},r.Float16_LE={len:2,get(e,t){return o.read(e,t,!0,10,this.len)},put(e,t,r){return o.write(e,r,t,!0,10,this.len),t+this.len}},r.Float32_BE={len:4,get:(e,t)=>i(e).getFloat32(t),put:(e,t,r)=>(i(e).setFloat32(t,r),t+4)},r.Float32_LE={len:4,get:(e,t)=>i(e).getFloat32(t,!0),put:(e,t,r)=>(i(e).setFloat32(t,r,!0),t+4)},r.Float64_BE={len:8,get:(e,t)=>i(e).getFloat64(t),put:(e,t,r)=>(i(e).setFloat64(t,r),t+8)},r.Float64_LE={len:8,get:(e,t)=>i(e).getFloat64(t,!0),put:(e,t,r)=>(i(e).setFloat64(t,r,!0),t+8)},r.Float80_BE={len:10,get(e,t){return o.read(e,t,!1,63,this.len)},put(e,t,r){return o.write(e,r,t,!1,63,this.len),t+this.len}},r.Float80_LE={len:10,get(e,t){return o.read(e,t,!0,63,this.len)},put(e,t,r){return o.write(e,r,t,!0,63,this.len),t+this.len}},r.IgnoreType=class{constructor(e){this.len=e}get(e,t){}},r.Uint8ArrayType=class{constructor(e){this.len=e}get(e,t){return e.subarray(t,t+this.len)}},r.BufferType=class{constructor(e){this.len=e}get(e,t){return n.from(e.subarray(t,t+this.len))}},r.StringType=class{constructor(e,t){this.len=e,this.encoding=t}get(e,t){return n.from(e).toString(this.encoding,t,t+this.len)}};class a{constructor(e){this.len=e}static decode(t,r,n){let o="";for(let e=r;e<n;++e)o+=a.codePointToString(a.singleByteDecoder(t[e]));return o}static inRange(e,t,r){return t<=e&&e<=r}static codePointToString(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}static singleByteDecoder(e){if(a.inRange(e,0,127))return e;e=a.windows1252[e-128];if(null===e)throw Error("invaliding encoding");return e}get(e,t=0){return a.decode(e,t,t+this.len)}}(r.AnsiStringType=a).windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},60015(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidChat=void 0,t.assertFindChat=async function(e){var t=await n.chat.find(e);if(t)return t;throw new a(e)},t.assertGetChat=function(e){var t;if(t=(e.toString().includes("newsletter")?i.NewsletterStore:n.chat).get(e))return t;throw new a(e)};let n=r(28156),o=r(62857),i=r(14647);class a extends o.WPPError{constructor(e){super("chat_not_found","Chat not found for "+e),this.id=e}}t.InvalidChat=a},4526(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidColor=void 0,t.assertColor=function(t){let r;if("number"==typeof t)r=0<t?t:4294967295+Number(t)+1;else{if("string"!=typeof t)throw new n(t);{let e=t.trim().replace("#","");e.length<=6&&(e="FF"+e.padStart(6,"0")),r=parseInt(e,16)}}return r};r=r(62857);class n extends r.WPPError{constructor(e){super("invalid_color","Invalid Color value for "+e),this.color=e}}t.InvalidColor=n},44763(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.NotIsBusinessError=void 0,t.assertIsBusiness=function(){if(!o.Conn.isSMB)throw new i};let n=r(62857),o=r(14647);class i extends n.WPPError{constructor(){super("is_not_business","This account is not a business version")}}t.NotIsBusinessError=i},63990(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidProduct=void 0,t.assertGetProduct=async function(e){var t=(await i.CatalogStore.findProduct({catalogWid:(0,n.getMyUserWid)(),productId:e}))[0].msgProductCollection._index[e];if(t)return t;throw new a(e)};let n=r(21942),o=r(62857),i=r(14647);class a extends o.WPPError{constructor(e){super("product_not_found","Product not found for "+e),this.id=e}}t.InvalidProduct=a},63665(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidWid=void 0,t.assertWid=function(e){var t=(0,n.createWid)(e);if(t)return t;throw new o(e)};let n=r(62857);class o extends n.WPPError{constructor(e){super("invalid_wid","Invalid WID value for "+e),this.id=e}}t.InvalidWid=o},41687(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(60015),t),o(r(4526),t),o(r(44763),t),o(r(63990),t),o(r(63665),t)},24846(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),r(63539)},63539(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});let s=r(13691),l=n(r(1132)),u=r(14647);l.onInjected(()=>{u.BlocklistStore.on("sort",()=>{s.internalEv.emit("blocklist.sync")})})},86671(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.all=function(){return n.BlocklistStore.getModelsArray().map(e=>e.id)};let n=r(14647)},7937(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.blockContact=async function(e){var e=(0,l.assertWid)(e),t=u.ContactStore.get(e)||new u.ContactModel({id:e});return(0,s.compare)(c.SANITIZED_VERSION_STR,"2.2323.4",">=")?await d.blockContact({contact:t,blockEntryPoint:"block_list",bizOptOutArgs:null}):await d.blockContact(t),{wid:e,isBlocked:(0,p.isBlocked)(e)}};let s=r(38385),l=r(41687),u=r(14647),c=r(19198),d=n(r(52757)),p=r(14944)},54480(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.unblockContact=t.isBlocked=t.blockContact=t.all=void 0;var n=r(86671),o=(Object.defineProperty(t,"all",{enumerable:!0,get:function(){return n.all}}),r(7937)),i=(Object.defineProperty(t,"blockContact",{enumerable:!0,get:function(){return o.blockContact}}),r(14944)),a=(Object.defineProperty(t,"isBlocked",{enumerable:!0,get:function(){return i.isBlocked}}),r(78306));Object.defineProperty(t,"unblockContact",{enumerable:!0,get:function(){return a.unblockContact}})},14944(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.isBlocked=function(e){e=(0,n.assertWid)(e);return!!o.BlocklistStore.get(e)};let n=r(41687),o=r(14647)},78306(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.unblockContact=async function(e){var e=(0,s.assertWid)(e),t=l.ContactStore.get(e)||new l.ContactModel({id:e});return await u.unblockContact(t),{wid:e,isBlocked:(0,c.isBlocked)(e)}};let s=r(41687),l=r(14647),u=n(r(52757)),c=r(14944)},61042(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),r(24846),o(r(54480),t)},75495(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),r(75848)},75848(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});let s=r(13691),l=r(13257),u=n(r(1132)),c=r(14647),d=r(20514);u.onInjected(()=>{c.CallStore.on("add",e=>{e.isGroup&&s.internalEv.emit("call.incoming_call",{id:e.id,isGroup:e.isGroup,isVideo:e.isVideo,offerTime:e.offerTime,sender:(0,l.createWid)(e.peerJid),peerJid:e.peerJid})}),c.CallStore.on("change",e=>{e.getState()!==d.CALL_STATES.INCOMING_RING&&e.getState()!==d.CALL_STATES.ReceivedCall||s.internalEv.emit("call.incoming_call",{id:e.id,isGroup:e.isGroup,isVideo:e.isVideo,offerTime:e.offerTime,sender:(0,l.createWid)(e.peerJid),peerJid:e.peerJid})})})},21139(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.accept=async function(e){var t=e?o.CallStore.get(e):o.CallStore.findFirst(e=>e.getState()===i.CALL_STATES.INCOMING_RING||e.isGroup);if(!t)throw new n.WPPError("call_not_found",`Call ${e||"<empty>"} not found`,{callId:e});if("INCOMING_RING"!==t.getState()&&!t.isGroup)throw new n.WPPError("call_is_not_incoming_ring",`Call ${e||"<empty>"} is not incoming ring`,{callId:e,state:t.getState()});t.peerJid.isGroupCall()||await o.websocket.ensureE2ESessions([t.peerJid]);e=[o.websocket.smax("audio",{enc:"opus",rate:"16000"},null),o.websocket.smax("audio",{enc:"opus",rate:"8000"},null)],t.isVideo&&e.push(o.websocket.smax("video",{orientation:"0",screen_width:"1920",screen_height:"1080",device_orientation:"0",enc:"vp8",dec:"vp8"},null)),e.push(o.websocket.smax("net",{medium:"3"},null),o.websocket.smax("encopt",{keygen:"2"},null)),t=o.websocket.smax("call",{to:t.peerJid.toString({legacy:!0}),id:o.websocket.generateId()},[o.websocket.smax("accept",{"call-id":t.id,"call-creator":t.peerJid.toString({legacy:!0})},e)]);return await o.websocket.sendSmaxStanza(t),!0};let n=r(62857),o=r(14647),i=r(20514)},86094(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.end=async function(e){var t=[i.CALL_STATES.ACTIVE,i.CALL_STATES.OUTGOING_CALLING,i.CALL_STATES.OUTGOING_RING,i.CALL_STATES.CallActive],r=e?o.CallStore.get(e):null!=(r=o.CallStore.activeCall)?r:void 0;if(!r)throw new n.WPPError("call_not_found",`Call ${e||"<empty>"} not found`,{callId:e});if(!t.includes(r.getState())&&!r.isGroup)throw new n.WPPError("call_is_not_outcoming_calling",`Call ${e||"<empty>"} is not incoming calling`,{callId:e,state:r.getState()});r.peerJid.isGroupCall()||await o.websocket.ensureE2ESessions([r.peerJid]);t=o.websocket.smax("call",{to:r.peerJid.toString({legacy:!0}),id:o.websocket.generateId()},[o.websocket.smax("terminate",{"call-id":r.id,"call-creator":r.peerJid.toString({legacy:!0})},null)]);return await o.websocket.sendSmaxStanza(t),!0};let n=r(62857),o=r(14647),i=r(20514)},96263(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.rejectCall=t.reject=t.offer=t.end=t.accept=void 0;var n=r(21139),o=(Object.defineProperty(t,"accept",{enumerable:!0,get:function(){return n.accept}}),r(86094)),i=(Object.defineProperty(t,"end",{enumerable:!0,get:function(){return o.end}}),r(82349)),a=(Object.defineProperty(t,"offer",{enumerable:!0,get:function(){return i.offer}}),r(9144));Object.defineProperty(t,"reject",{enumerable:!0,get:function(){return a.reject}}),Object.defineProperty(t,"rejectCall",{enumerable:!0,get:function(){return a.reject}})},82349(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.offer=async function(e,t={}){t=Object.assign({isVideo:!1},t);var r=(0,a.assertWid)(e);if(!r.isUser())throw new l.WPPError("call_is_not_user",`The ${r} is not a user to call`,{to:e});var n,o,e=u.functions.randomHex(16).substr(0,64),i=(0,s.getMyUserId)();if(i)return n=[u.websocket.smax("audio",{enc:"opus",rate:"16000"},null),u.websocket.smax("audio",{enc:"opus",rate:"8000"},null)],t.isVideo&&n.push(u.websocket.smax("video",{orientation:"0",screen_width:"1920",screen_height:"1080",device_orientation:"0",enc:"vp8",dec:"vp8"},null)),n.push(u.websocket.smax("net",{medium:"3"},null),u.websocket.smax("capability",{ver:"1"},new Uint8Array([1,4,255,131,207,4])),u.websocket.smax("encopt",{keygen:"2"},null)),o=self.crypto.getRandomValues(new Uint8Array(32)).buffer,n.push(...await(0,p.prepareDestionation)([r],o)),o=u.websocket.smax("call",{to:r.toString({legacy:!0}),id:u.functions.randomHex(8)},[u.websocket.smax("offer",{"call-id":e,"call-creator":i.toString({legacy:!0})},n)]),i=new u.CallModel({id:e,peerJid:r,isVideo:t.isVideo,isGroup:!1,outgoing:!0,offerTime:(0,d.unixTime)(),webClientShouldHandle:!1,canHandleLocally:!0}),u.CallStore.add(i),u.CallStore.setActiveCall(u.CallStore.assertGet(e)),i.setState(c.CALL_STATES.OUTGOING_CALLING),await u.websocket.sendSmaxStanza(o),i;throw new l.WPPError("user_id_is_null","My user id is null or undefined")};let a=r(41687),s=r(72927),l=r(62857),u=r(14647),c=r(20514),d=r(52757),p=(r(45988),r(97362))},45988(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.parseRelayResponse=function(e){let t=l(e.content.find(e=>"rte"===e.tag).content),r=e.content.find(e=>"relay"===e.tag),n=r.content.find(e=>"key"===e.tag),o=(new TextDecoder).decode(new Uint8Array(n.content)),i={},a=(r.content.filter(e=>"token"===e.tag).forEach(e=>{var t=s.Base64.encodeB64(new Uint8Array(e.content));i[e.attrs.id||"0"]=t}),{});return r.content.filter(e=>"te2"===e.tag).forEach(n=>{var o=l(n.content);if(o){let e=n.attrs.relay_id||"0",t=n.attrs.token_id||"0",r=i[t];a[e]=Object.assign(Object.assign({},o),{relay_id:e,token:r})}}),{rte:t,key:o,relays:a}};let s=r(14647);function l(e){var e=new Uint8Array(e);return 6!==e.length?null:{ip:[(e=new DataView(e.buffer)).getUint8(0),e.getUint8(1),e.getUint8(2),e.getUint8(3)],port:e.getUint16(4)}}},97362(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.prepareDestionation=async function(e,n){e=await i.functions.getFanOutList({wids:e});await i.websocket.ensureE2ESessions(e);let o=!1;var e=await Promise.all(e.map(async e=>{var{type:t,ciphertext:r}=await i.functions.encryptMsgProtobuf(e,0,{call:{callKey:new Uint8Array(n)}});return o=o||"pkmsg"===t,i.websocket.smax("to",{jid:e.toString({legacy:!0})},[i.websocket.smax("enc",{v:"2",type:t,count:"0"},r)])})),t=[];if(t.push(i.websocket.smax("destination",{},e)),o){let e=await i.multidevice.adv.getADVEncodedIdentity();t.push(i.websocket.smax("device-identity",void 0,e))}return t};let i=r(14647)},9144(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.reject=async function(e){var t=e?i.CallStore.get(e):i.CallStore.findFirst(e=>e.getState()===a.CALL_STATES.INCOMING_RING||e.isGroup||e.getState()===a.CALL_STATES.ReceivedCall||e.isGroup);if(!t)throw new o.WPPError("call_not_found",`Call ${e||"<empty>"} not found`,{callId:e});if(t.getState()!==a.CALL_STATES.INCOMING_RING&&t.getState()!==a.CALL_STATES.ReceivedCall&&!t.isGroup)throw new o.WPPError("call_is_not_incoming_ring",`Call ${e||"<empty>"} is not incoming ring`,{callId:e,state:t.getState()});t.peerJid.isGroupCall()||await i.websocket.ensureE2ESessions([t.peerJid]);e=i.websocket.smax("call",{from:(0,n.getMyUserWid)().toString({legacy:!0}),to:t.peerJid.toString({legacy:!0}),id:i.websocket.generateId()},[i.websocket.smax("reject",{"call-id":t.id,"call-creator":t.peerJid.toString({legacy:!0}),count:"0"},null)]);return await i.websocket.sendSmaxStanza(e),!0};let n=r(21942),o=r(62857),i=r(14647),a=r(20514)},38893(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),r(75495),o(r(96263),t)},71722(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.add=async function(r,e){if(!r||!e)throw new i.WPPError("send_required_params","For add item in cart send chatId and products array");for(var n of e){let t=await(0,o.getProductById)(r,n.id);if(t){let e=new a.ProductModel({id:t.id,isHidden:t.is_hidden||!1,catalogWid:r,url:t.url,name:t.name,description:t.description,availability:t.availability,maxAvailable:null==t?void 0:t.maxAvailable,reviewStatus:null==t?void 0:t.capability_to_review_status[0].value,currency:t.currency,priceAmount1000:t.price,salePriceAmount1000:null,retailerId:t.retailer_id,imageCount:t.image_cdn_urls.length+t.additional_image_cdn_urls.length,additionalImageCdnUrl:t.additional_image_cdn_urls,additionalImageHashes:t.image_hashes_for_whatsapp,imageCdnUrl:t.image_cdn_urls[0].value,imageHash:t.image_hashes_for_whatsapp[0]});await(0,s.addProductToCart)(e),await(0,s.updateProductQuantityCart)(e,n.qnt)}}return a.CartStore.findCart(r)};let o=r(40164),i=r(62857),a=r(14647),s=r(52757)},70932(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.clear=async function(e){var t,r=o.CartStore.findCart(e);if(!r||null==(t=null==r?void 0:r.cartItemCollection)||!t.length)throw new n.WPPError("cart_not_have_products",`Cart from  ${e||"<empty>"} not have products`,{wid:e});null!=(t=r.cartItemCollection)&&t.reset(),r.set("message",""),r.trigger("change:cartItemCollection"),(0,i.updateCart)(r)};let n=r(62857),o=r(14647),i=r(52757)},9453(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.get=function(e){return n.CartStore.get(e)};let n=r(14647)},65731(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getThumbFromCart=async function(e){var t=await o.CartStore.findCart(e),r=null==(r=null==t?void 0:t.cartItemCollection)?void 0:r.at(0);if(r&&t){var t=o.CatalogStore.get((0,n.createWid)(e));if(t){e=t.productCollection.get(r.id);if(e){t=await(null==e?void 0:e.getProductImageCollectionHead());if(t){r=null==t?void 0:t.mediaData;if(null!=r&&r.preview){let e=await(null==(t=null==r?void 0:r.preview)?void 0:t.getBase64());if(null!=e)return e}}}}}return""};let n=r(62857),o=r(14647)},89133(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.update=t.submit=t.remove=t.getThumbFromCart=t.get=t.clear=t.add=void 0;var n=r(71722),o=(Object.defineProperty(t,"add",{enumerable:!0,get:function(){return n.add}}),r(70932)),i=(Object.defineProperty(t,"clear",{enumerable:!0,get:function(){return o.clear}}),r(9453)),a=(Object.defineProperty(t,"get",{enumerable:!0,get:function(){return i.get}}),r(65731)),s=(Object.defineProperty(t,"getThumbFromCart",{enumerable:!0,get:function(){return a.getThumbFromCart}}),r(74553)),l=(Object.defineProperty(t,"remove",{enumerable:!0,get:function(){return s.remove}}),r(24393)),u=(Object.defineProperty(t,"submit",{enumerable:!0,get:function(){return l.submit}}),r(57288));Object.defineProperty(t,"update",{enumerable:!0,get:function(){return u.update}})},74553(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.remove=async function(e,t){if(e&&t)return await(0,i.deleteProductFromCart)(e,t),o.CartStore.findCart(e);throw new n.WPPError("send_required_params","For update item in cart send chatId and productId")};let n=r(62857),o=r(14647),i=r(52757)},24393(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.submit=async function(e,t,r){if(e.toString()==(null==(n=(0,u.getMyUserId)())?void 0:n.toString()))throw new c.WPPError("can_not_submit_order_to_yourself","You can not submit order to yourself");var n=d.CartStore.findCart(e);if(!n||null==(o=null==n?void 0:n.cartItemCollection)||!o.length)throw new c.WPPError("cart_not_have_products",`Cart from  ${e||"<empty>"} not have products`,{wid:e});var o=await(0,s.assertFindChat)((0,c.createWid)(e)),i=await(0,p.createOrder)(o.id,n.cartItemCollection.toArray()),a=null==(a=i.price)?void 0:a.total,t=await(0,l.prepareRawMessage)(o,{type:"order",orderId:i.id,token:i.token,orderTitle:o.name||o.formattedTitle,sellerJid:o.id.toString({legacy:!0}),status:1,messageVersion:2,thumbnail:await(0,f.getThumbFromCart)(e),itemCount:n.itemCount,message:t||n.message,totalAmount1000:a&&0<a.length?parseInt(a,10):void 0,totalCurrencyCode:i.price.currency&&0<i.price.currency.length?i.price.currency:0},r);if(await(0,p.addAndSendMsgToChat)(o,t),(0,p.updateCart)(n),await(0,f.clear)(e),i.id)return(0,l.getMessageById)(t.id);throw new c.WPPError("error_send_order_request","Error when sending order request")};let s=r(41687),l=r(74023),u=r(72927),c=r(62857),d=r(14647),p=r(52757),f=r(89133)},57288(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.update=async function(e,t,r){if(e&&t&&r.quantity)return(0,o.add)(e,[{id:t,qnt:r.quantity}]);throw new n.WPPError("send_required_params","For update item in cart send chatId, productId and options")};let n=r(62857),o=r(71722)},81151(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(89133),t)},373(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.addProductImage=async function(e,t){var t=await(0,o.convertToFile)(t),r=await i.OpaqueData.createFromData(t,t.type),t=await(0,a.calculateFilehashFromBlob)(t),r=await(0,a.uploadProductImage)(r,t),t=await(0,n.assertGetProduct)(e);return t.additionalImageCdnUrl.push(r),(0,a.editProduct)(t)};let n=r(41687),o=r(62857),i=r(14647),a=r(52757)},11532(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.changeProductImage=async function(e,t){var t=await(0,o.convertToFile)(t),r=await i.OpaqueData.createFromData(t,t.type),t=await(0,a.calculateFilehashFromBlob)(t),r=await(0,a.uploadProductImage)(r,t),t=await(0,n.assertGetProduct)(e);return t.imageCdnUrl=r,(0,a.editProduct)(t)};let n=r(41687),o=r(62857),i=r(14647),a=r(52757)},69092(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.createCollection=async function(e,t){var r=new n.ProductCatalogSession(!0)["sessionId"];return(0,o.createCollection)(e,t,""+r)};let n=r(14647),o=r(52757)},11561(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.createProduct=async function(e){var t=await(0,i.convertToFile)(e.image),r=await a.OpaqueData.createFromData(t,t.type),t=await(0,s.calculateFilehashFromBlob)(t),r=await(0,s.uploadProductImage)(r,t),t=new a.ProductModel,n=(t.name=e.name.toString(),a.UserPrefs.getMaybeMePnUser()),o=a.UserPrefs.getMaybeMeLidUser();return t.catalogWid=n||o,t.imageCdnUrl=r,t.productImageCollection=new a.ProductImageModel({mediaUrl:r}),e.description&&(t.description=e.description),e.price&&(t.priceAmount1000=1e4*e.price,t.currency=e.currency||"BRL"),e.isHidden&&(t.isHidden=e.isHidden),e.url&&(t.url=e.url),e.retailerId&&(t.retailerId=e.retailerId),(0,s.addProduct)(t,100,100)};let i=r(62857),a=r(14647),s=r(52757)},14639(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.deleteCollection=async function(e){var t=new n.ProductCatalogSession(!0)["sessionId"];return await(0,o.deleteCollection)(e,""+t),"Collection deleted sucessful"};let n=r(14647),o=r(52757)},61612(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.delProducts=async function(e){let t=200;try{Array.isArray(e)?await(0,n.deleteProducts)(e):await(0,n.deleteProducts)([e])}catch(e){t=500}return{productsIds:e,status:t}};let n=r(52757)},25312(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.editCollection=async function(e,t){var r=new n.ProductCatalogSession(!0)["sessionId"];return(0,o.editCollection)(e,t.name,!1,t.productsToAdd||[],t.productsToRemove||[],""+r)};let n=r(14647),o=r(52757)},77893(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.editProduct=async function(e,t){e=await(0,n.assertGetProduct)(e),Object.keys(t).forEach(e=>void 0===t[e]&&delete t[e]),e=Object.assign(e,t);return(0,o.editProduct)(e)};let n=r(41687),o=r(52757)},11201(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getCollections=async function(e,t,r){e=(await(0,o.queryCollectionsIQ)({afterCursor:"",catalogWid:(0,n.createWid)(e),height:100,width:100,limit:t||10,productsCount:r||10})).collections;return e};let n=r(62857),o=r(52757)},6973(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getMyCatalog=async function(){return n.CatalogStore.get(n.UserPrefs.getMaybeMePnUser())};let n=r(14647)},64639(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getProductById=async function(e,t){e=(0,n.createWid)(e),e=(await(0,o.queryProduct)(e,t)).data;return e};let n=r(62857),o=r(52757)},94970(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getProducts=async function(e,t){e=(await(0,o.queryCatalog)((0,n.createWid)(e),void 0,t||10,100,100)).data;return e};let n=r(62857),o=r(52757)},98486(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.updateCartEnabled=t.setProductVisibility=t.removeProductImage=t.getProducts=t.getProductById=t.getMyCatalog=t.getCollections=t.editProduct=t.editCollection=t.delProducts=t.deleteCollection=t.createProduct=t.createCollection=t.changeProductImage=t.addProductImage=void 0;var n=r(373),o=(Object.defineProperty(t,"addProductImage",{enumerable:!0,get:function(){return n.addProductImage}}),r(11532)),i=(Object.defineProperty(t,"changeProductImage",{enumerable:!0,get:function(){return o.changeProductImage}}),r(69092)),a=(Object.defineProperty(t,"createCollection",{enumerable:!0,get:function(){return i.createCollection}}),r(11561)),s=(Object.defineProperty(t,"createProduct",{enumerable:!0,get:function(){return a.createProduct}}),r(14639)),l=(Object.defineProperty(t,"deleteCollection",{enumerable:!0,get:function(){return s.deleteCollection}}),r(61612)),u=(Object.defineProperty(t,"delProducts",{enumerable:!0,get:function(){return l.delProducts}}),r(25312)),c=(Object.defineProperty(t,"editCollection",{enumerable:!0,get:function(){return u.editCollection}}),r(77893)),d=(Object.defineProperty(t,"editProduct",{enumerable:!0,get:function(){return c.editProduct}}),r(11201)),p=(Object.defineProperty(t,"getCollections",{enumerable:!0,get:function(){return d.getCollections}}),r(6973)),f=(Object.defineProperty(t,"getMyCatalog",{enumerable:!0,get:function(){return p.getMyCatalog}}),r(64639)),g=(Object.defineProperty(t,"getProductById",{enumerable:!0,get:function(){return f.getProductById}}),r(94970)),m=(Object.defineProperty(t,"getProducts",{enumerable:!0,get:function(){return g.getProducts}}),r(59196)),y=(Object.defineProperty(t,"removeProductImage",{enumerable:!0,get:function(){return m.removeProductImage}}),r(85719)),h=(Object.defineProperty(t,"setProductVisibility",{enumerable:!0,get:function(){return y.setProductVisibility}}),r(93114));Object.defineProperty(t,"updateCartEnabled",{enumerable:!0,get:function(){return h.updateCartEnabled}})},59196(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.removeProductImage=async function(e,t){e=await(0,n.assertGetProduct)(e);return e.additionalImageCdnUrl.splice(t,1),(0,o.editProduct)(e)};let n=r(41687),o=r(52757)},85719(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.setProductVisibility=async function(e,t){return await(0,o.productVisibilitySet)(e,t),(0,n.assertGetProduct)(e)};let n=r(41687),o=r(52757)},93114(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.updateCartEnabled=async function(e){return(0,n.updateCartEnabled)(e)};let n=r(52757)},40164(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(98486),t)},50175(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultSendMessageOptions=void 0,t.defaultSendMessageOptions={detectMentioned:!0,linkPreview:!0,markIsRead:!0,waitForAck:!0,delay:0}},31853(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),r(70510),r(16854),r(51118),r(16349),r(62557),r(61905),r(37740),r(67147),r(77810),r(56136),r(59798)},70510(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});let l=r(13691),s=n(r(1132)),u=r(14647),c=r(54993),d=r(52757);s.onFullReady(function(){function n(a){if(!(a.ack<2||"sender"===a.ackString)){let e=a.from,t=a.participant||void 0,r=u.UserPrefs.getMaybeMePnUser(),n=u.UserPrefs.getMaybeMeLidUser(),o=a.from,i=!a.recipient||(null==r?void 0:r.equals(a.recipient))||(null==n?void 0:n.equals(a.recipient));var s;i&&(s=a.externalIds.map(e=>new u.MsgKey({id:e,remote:o,fromMe:i,participant:a.participant})),l.internalEv.emit("chat.msg_ack_change",{ack:a.ack,chat:e,sender:t,ids:s}))}}u.MsgStore.on("change:ack",e=>{1===e.ack&&queueMicrotask(()=>{l.internalEv.emit("chat.msg_ack_change",{ack:e.ack,chat:e.to,ids:[e.id]})})}),(0,c.wrapModuleFunction)(d.handleChatSimpleReceipt,(e,...t)=>{let[r]=t;return queueMicrotask(()=>{n(r)}),e(...t)}),(0,c.wrapModuleFunction)(d.handleGroupSimpleReceipt,(e,...t)=>{let[r]=t;return queueMicrotask(()=>{n(r)}),e(...t)}),(0,c.wrapModuleFunction)(d.handleStatusSimpleReceipt,(e,...t)=>{let[r]=t;return queueMicrotask(()=>{n(r)}),e(...t)})})},16854(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});let s=r(13691),l=n(r(1132)),u=r(14647),c=(l.onInjected(()=>{u.ChatStore.on("change:active",e=>{c&&clearTimeout(c),c=setTimeout(()=>{s.internalEv.emit("chat.active_chat",e.active?e:null)},50)})}),null)},56136(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});let s=r(13691),l=n(r(1132)),u=r(14647);l.onFullReady(function(){u.MsgStore.on("change:latestEditMsgKey",e=>{queueMicrotask(()=>{s.internalEv.emit("chat.msg_edited",{chat:e.to,id:e.id.toString(),msg:e})})})})},77810(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});let s=r(72927),l=r(13691),u=r(26105),c=n(r(1132)),d=r(54993),p=r(52757),f=r(97829);c.onFullReady(function(){async function r(e,...t){var t=t[0],r=Array.isArray(t[1])?t[1]:[t[1]],n=t[0];if((0,s.isMainReady)()){let t=[];for(let e of r)t.push(await(0,u.getLabelById)(e));l.internalEv.emit("chat.update_label",{chat:(0,f.get)(n),ids:r,labels:t,type:e})}}(0,d.wrapModuleFunction)(p.addToLabelCollection,async(e,...t)=>(queueMicrotask(()=>{r("add",t)}),e(...t))),(0,d.wrapModuleFunction)(p.removeLabelFromCollection,async(e,...t)=>(queueMicrotask(()=>{r("remove",t)}),e(...t)))})},51118(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});let s=r(13691),l=n(r(1132)),u=r(14647);l.onInjected(()=>{u.MsgStore.on("add",e=>{e.isNewMsg&&e.isLive&&queueMicrotask(()=>{s.internalEv.emit("chat.live_location_start",{id:e.sender,msgId:e.id,chat:e.chat.id,lat:e.lat,lng:e.lng,accuracy:e.accuracy,speed:e.speed,degrees:e.degrees,shareDuration:e.shareDuration})})})})},16349(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});let s=r(13691),l=n(r(1132)),u=r(14647),c=r(52757),d=r(97829);l.onInjected(()=>{u.MsgStore.on("add",e=>{e.isNewMsg&&queueMicrotask(async()=>{"ciphertext"===(e=await async function(e){if(void 0!==e.quotedStanzaID){var t=(0,c.getQuotedMsgObj)(e);if(!t)return e;Object.defineProperties(e,{_quotedMsgObj:{value:t,writable:!1},quotedMsgId:{value:t.id,writable:!1}})}return e}(e)).type&&e.once("change:type",()=>{queueMicrotask(()=>{s.internalEv.emit("chat.new_message",e)})}),s.internalEv.emit("chat.new_message",e)})}),void 0===u.MsgModel.prototype.chat&&Object.defineProperty(u.MsgModel.prototype,"chat",{get:function(){var e;return u.ChatStore.get(null!=(e=this.id)&&e.fromMe?this.to:this.from)},configurable:!0}),void 0===u.MsgModel.prototype.isGroupMsg&&Object.defineProperty(u.MsgModel.prototype,"isGroupMsg",{get:function(){var e;return null==(e=null==(e=null==this?void 0:this.chat)?void 0:e.id)?void 0:e.isGroup()},configurable:!0}),void 0===u.MsgModel.prototype.quotedMsgId&&Object.defineProperty(u.MsgModel.prototype,"quotedMsgId",{get:function(){return(0,d.getQuotedMsgKey)(this)},configurable:!0})})},62557(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});let s=r(13691),l=n(r(1132)),u=r(54993),c=r(52757),d=r(97829),p=(l.onFullReady(function(){(0,u.wrapModuleFunction)(c.upsertVotes,async(e,...t)=>{let[r]=t;for(let n of r)try{if(n.senderTimestampMs<p)continue;let e=await(0,d.getMessageById)(n.parentMsgKey),r=[];for(let t of n.selectedOptionLocalIds)r[t]=e.pollOptions.filter(e=>e.localId==t)[0];s.internalEv.emitAsync("chat.poll_response",{msgId:n.parentMsgKey,chatId:n.parentMsgKey.remote,selectedOptions:r,timestamp:n.senderTimestampMs,sender:n.sender}).catch(()=>null)}catch(e){}return e(...t)})}),Date.now())},61905(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});let n=r(13691),o=r(14647);n.internalEv.on("conn.main_ready",async()=>{var e=o.ChatStore.map(e=>e.presence.subscribe());await Promise.all(e),o.PresenceStore.on("change:chatstate.type",t=>{let e,r=o.PresenceStore.getModelsArray().find(e=>e.chatstate===t);r&&r.hasData&&null!=(e=r.chatstate)&&e.type&&queueMicrotask(()=>{var e,t=o.ContactStore.get(r.id),t={id:r.id,isOnline:r.isOnline,isGroup:r.isGroup,isUser:r.isUser,shortName:t?t.formattedShortName:"",state:null==(t=r.chatstate)?void 0:t.type,t:Date.now()};r.isUser&&(t.isContact=!(null!=(e=r.chatstate)&&e.deny)),r.isGroup&&(t.participants=r.chatstates.getModelsArray().filter(e=>!!e.type).map(e=>{var t=o.ContactStore.get(e.id);return{id:e.id.toString(),state:e.type,shortName:t?t.formattedShortName:""}})),n.internalEv.emit("chat.presence_change",t)})})})},37740(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});let s=r(13691),l=r(62857),u=n(r(1132)),c=r(14647),d=r(54993),p=r(52757),f=(u.onFullReady(function(){(0,d.wrapModuleFunction)(p.createOrUpdateReactions,(t,...e)=>{let[r]=e,n=Date.now();if(Array.isArray(r))for(let e of r)try{if(e.t<n)continue;s.internalEv.emitAsync("chat.new_reaction",{id:c.MsgKey.fromString(e.id),orphan:e.orphan,orphanReason:e.orphanReason,msgId:c.MsgKey.fromString(e.reactionParentKey),reactionText:e.reactionText,read:e.read,sender:(0,l.createWid)(e.from),timestamp:e.t})}catch(t){}else try{if(e[1]){if(f[r.msgKey])return t(...e);f[r.msgKey]=r,s.internalEv.emitAsync("chat.new_reaction",{id:c.MsgKey.fromString(r.msgKey),orphan:r.orphan,orphanReason:null,msgId:c.MsgKey.fromString(r.parentMsgKey),reactionText:r.reactionText,read:r.read,sender:(0,l.createWid)(r.senderUserJid),timestamp:r.t}),setTimeout(()=>{delete f[r.msgKey]},1e4)}}catch(t){}return t(...e)})}),[])},67147(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});let s=r(13691),l=n(r(1132)),u=r(14647);l.onInjected(()=>{{let i=u.MsgStore.processMultipleMessages,a=["revoke","sender_revoke","admin_revoke"];u.MsgStore.processMultipleMessages=(r,n,...o)=>new Promise((e,t)=>{try{for(let e of n)e.isNewMsg&&"protocol"===e.type&&a.includes(e.subtype)&&s.internalEv.emit("chat.msg_revoke",{author:e.author,from:e.from,id:e.id,refId:e.protocolMessageKey,to:e.to,type:e.subtype})}catch(e){}i.call(u.MsgStore,r,n,...o).then(e,t)})}})},59798(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});let s=r(13691),l=n(r(1132)),u=r(14647),c=(l.onInjected(()=>{u.ChatStore.on("change:unreadCount",(e,t,r)=>{c&&clearTimeout(c),c=setTimeout(()=>{s.internalEv.emit("chat.unread_count_changed",{chat:e,unreadCount:t,previousUnreadCount:r})},50)})}),null)},95071(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.archive=l,t.unarchive=async function(e){return l(e,!1)};let n=r(38385),o=r(41687),i=r(62857),a=r(14647),s=r(52757);async function l(e,t=!0){var e=(0,o.assertWid)(e),r=(0,o.assertGetChat)(e);if(r.archive===t)throw new i.WPPError((t?"archive":"unarchive")+"_error",`The chat ${e.toString()} is already `+(t?"archived":"unarchived"),{wid:e,archive:t});return(0,n.compare)(self.Debug.VERSION,"2.3000.0",">=")?a.Cmd.archiveChat(r,t):await(0,s.setArchive)(r,t),{wid:e,archive:t}}},15035(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.encryptAndParserMsgButtons=async function(t,r,n,o,i,a,s){"function"==typeof a&&(s=a);let l=[];if(null!=(e=null==(e=null==r?void 0:r.viewOnceMessage)?void 0:e.message)&&e.interactiveMessage){let e=function(i,e){let t,r,a,s,l,u,c,d,p,n=e.filter(e=>!e.device),o=e.filter(e=>e.device),f=null==(r=null==(t=i.viewOnceMessage)?void 0:t.message)?void 0:r.interactiveMessage,g=!1;var m=JSON.parse(JSON.stringify(i));if(f){let e=["documentMessage","documentWithCaptionMessage","imageMessage","videoMessage"],t,r=1;for(var y of e)if(y in f.header){let e=y;"documentWithCaptionMessage"===y&&(y="documentMessage"),t={[e]:f.header[e]},r="imageMessage"==e?4:e.includes("document")?3:"videoMessage"==e?5:1;break}let n={message:{buttonsMessage:Object.assign(Object.assign({headerType:r,contentText:(null==(a=null==f?void 0:f.body)?void 0:a.text)||" ",footerText:(null==(s=null==f?void 0:f.footer)?void 0:s.text)||" "},t),{buttons:null==(l=null==f?void 0:f.nativeFlowMessage)?void 0:l.buttons.map((e,t)=>{var r;return"quick_reply"==e.name?{type:1,buttonId:(null==(r=JSON.parse(e.buttonParamsJson))?void 0:r.id)||""+t,buttonText:{displayText:(null==(r=JSON.parse(e.buttonParamsJson))?void 0:r.display_text)||" "}}:(g=!0,null)}).filter(e=>null!=e)})}},o={message:{templateMessage:{hydratedTemplate:Object.assign(Object.assign(Object.assign({hydratedButtons:null==(u=null==f?void 0:f.nativeFlowMessage)?void 0:u.buttons.map((e,t)=>{var r;return"quick_reply"==e.name?{index:t,quickReplyButton:{displayText:(null==(r=JSON.parse(e.buttonParamsJson))?void 0:r.display_text)||" ",id:(null==(r=JSON.parse(e.buttonParamsJson))?void 0:r.id)||""+t}}:"cta_url"==e.name?{index:t,urlButton:{displayText:(null==(r=JSON.parse(e.buttonParamsJson))?void 0:r.display_text)||" ",url:null==(r=JSON.parse(e.buttonParamsJson))?void 0:r.url}}:"cta_copy"==e.name?{index:t,urlButton:{displayText:(null==(r=JSON.parse(e.buttonParamsJson))?void 0:r.display_text)||" ",url:"https://www.whatsapp.com/otp/code/?otp_type=COPY_CODE&code=otp"+(null==(r=JSON.parse(e.buttonParamsJson))?void 0:r.copy_code)}}:"cta_call"==e.name?{index:t,callButton:{displayText:(null==(r=JSON.parse(e.buttonParamsJson))?void 0:r.display_text)||" ",phoneNumber:null==(t=JSON.parse(e.buttonParamsJson))?void 0:t.phone_number}}:null}).filter(e=>null!=e)},t),1==r?{hydratedTitleText:(null==(c=f.header)?void 0:c.title)||" "}:void 0),{hydratedContentText:(null==(d=null==f?void 0:f.body)?void 0:d.text)||" ",hydratedFooterText:(null==(p=null==f?void 0:f.footer)?void 0:p.text)||" "})}}};delete m.viewOnceMessage,m.documentWithCaptionMessage=g?o:n,m.messageContextInfo=i.messageContextInfo}return[{proto:i,devices:n},{proto:m,devices:o}]}(r,n);e.map(async e=>{e=await s(t,e.proto,e.devices,o,i,"function"!=typeof a?a:void 0);l.push(...e.stanza.content[0].content)})}var e=await s(t,r,n,o,i,"function"!=typeof a?a:void 0);return 0<l.length&&(e.stanza.content[0].content=l),e}},31777(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.canMarkPlayed=async function(e){e=(e=e instanceof n.MsgModel||"string"==typeof e||"function"!=typeof e.toString?e:e.toString())instanceof n.MsgModel?e:await(0,i.getMessageById)(e.toString());return(0,o.canMarkPlayed)(e)};let n=r(14647),o=r(52757),i=r(17530)},10802(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.canMute=function(e){e=(0,n.assertWid)(e);return(0,n.assertGetChat)(e).mute.canMute()};let n=r(41687)},50271(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.canReply=async function(e){e=(e=e instanceof n.MsgModel||"string"==typeof e||"function"!=typeof e.toString?e:e.toString())instanceof n.MsgModel?e:await(0,i.getMessageById)(e.toString());return(0,o.canReplyMsg)(e)};let n=r(14647),o=r(52757),i=r(17530)},1260(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.clear=async function(e,t=!0){var e=(0,o.assertWid)(e),r=(0,o.assertGetChat)(e);(0,i.sendClear)(r,t);let n=200;return{wid:e,status:n=r.promises.sendClear?(await r.promises.sendClear.catch(()=>({status:500}))).status||n:n,keepStarred:t}};let o=r(41687),i=r(52757)},99459(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.closeChat=async function(){var e=(0,o.getActiveChat)();return!!e&&(n.Cmd.closeChat(e),!0)};let n=r(14647),o=r(97829)},84378(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.delete=async function(e){var e=(0,n.assertWid)(e),t=await(0,n.assertFindChat)(e);(0,o.sendDelete)(t);let r=200;return{wid:e,status:r=t.promises.sendDelete?(await t.promises.sendDelete.catch(()=>({status:500}))).status||r:r}};let n=r(41687),o=r(52757)},74931(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.deleteMessage=async function(a,e,s=!1,l=!1){var u=(0,n.assertGetChat)(a);let t=!1,r=(Array.isArray(e)||(t=!0,e=[e]),await(0,o.getMessageById)(e)),c=[];for(let i of r){let e=m.SendMsgResult.ERROR_UNKNOWN,t=!1,r=!1,n=i.senderObj.isMe,o=!1;u.id.isGroup()&&(o=await(0,f.iAmAdmin)(a));var d=n||o;i.type===m.MSG_TYPE.REVOKED&&l?(e=m.SendMsgResult.ERROR_UNKNOWN,t=!0):l&&d?("list"===i.type&&(i.__x_isUserCreatedType=!0),(0,p.compare)(self.Debug.VERSION,"2.3000.0",">=")?await g.Cmd.sendRevokeMsgs(u,{type:"message",list:[i]},{clearMedia:s}):await g.Cmd.sendRevokeMsgs(u,[i],{clearMedia:s}),e=m.SendMsgResult.OK,t=!0):((0,p.compare)(self.Debug.VERSION,"2.3000.0",">=")?await g.Cmd.sendDeleteMsgs(u,{type:"message",list:[i]},s):await g.Cmd.sendDeleteMsgs(u,[i],{clearMedia:s}),e=m.SendMsgResult.OK,r=!u.msgs.get(i.id)),c.push({id:i.id.toString(),sendMsgResult:e,isRevoked:t,isDeleted:r,isSentByMe:n})}return t?c[0]:c};let p=r(38385),n=r(41687),f=r(64456),g=r(14647),m=r(20514),o=r(97829)},48157(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.downloadMedia=async function e(t){var r,n=await(0,c.getMessageById)(t);if(!n.mediaData)throw new l.WPPError("message_not_contains_media",`Message ${t} not contains media`,{id:t});let o=n.mediaData,i=async()=>{var e,r=o.filehash;if(r&&"function"==typeof(null===u.LruMediaStore||void 0===u.LruMediaStore?void 0:u.LruMediaStore.get)){let e=await u.LruMediaStore.get(r).catch(()=>null),t=(0,l.toArrayBuffer)(e);if(t)return d("Media found in LruMediaStore cache for filehash",r),new Blob([t],{type:o.mimetype||"application/octet-stream"})}if(r&&null!=(e=null===u.MediaBlobCache||void 0===u.MediaBlobCache?void 0:u.MediaBlobCache.has)&&e.call(u.MediaBlobCache,r))return d("Media found in MediaBlobCache for filehash",r),u.MediaBlobCache.get(r);if(o.mediaBlob){let e=o.mediaBlob.forceToBlob();if(e)return d("Media found in mediaBlob for message",t),e}return null},a=await i();if(a)return a;d("Downloading media for message",t),await n.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:1,isUserInitiated:!0});var s=await i();if(!s&&"VIDEO"===(null==(r=n.mediaObject)?void 0:r.type)){d("Retrying download as document for message",t);try{return n.type="document",n.mediaObject.type="DOCUMENT",await e(t)}finally{n.type="video",n.mediaObject.type="VIDEO"}}if(s)return s;throw d("Media not found after download for message",t),{error:!0,code:"media_not_found",message:"Media not found"}};let o=n(r(17833)),l=r(62857),u=r(14647),c=r(97829),d=(0,o.default)("WA-JS:chat:downloadMedia")},35090(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.editMessage=async function(e,t,r={}){r=Object.assign(Object.assign({},s.defaultSendMessageOptions),r);var e=await(0,l.getMessageById)(e),n=(0,a.canEditMsg)(e),o=(0,a.canEditCaption)(e);if(n||o)return n={type:"protocol",subtype:"message_edit",protocolMessageKey:e.id,body:t.trim(),caption:t.trim(),editMsgType:e.type},(n=await(0,l.prepareRawMessage)(e.chat,n,r)).latestEditMsgKey=n.id,n.latestEditSenderTimestampMs=n.t,(0,l.sendRawMessage)(null==(o=e.chat)?void 0:o.id,n,r);throw new i.WPPError("edit_message_error","Cannot edit this message")};let i=r(62857),a=r(52757),s=r(74023),l=r(97829)},36618(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.find=async function(e){e=(0,n.assertWid)(e),e=(await(0,i.findOrCreateLatestChat)(e,"newChatFlow")).chat;return e.id.isGroup()&&await o.GroupMetadataStore.find(e.id),e};let n=r(41687),o=r(14647),i=r(52757)},74997(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.forwardMessage=async function(e,t,r={}){e=await(0,n.assertFindChat)(e),t=await(0,i.getMessageById)(t);return(0,o.forwardMessagesToChats)([t],[e],r.displayCaptionText)};let n=r(41687),o=r(52757),i=r(74023)},59580(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.forwardMessages=async function(e,t,r={}){var e=await(0,o.assertFindChat)(e),n=[];for(let e of t)e instanceof i.MsgModel?n.push(e):n.push(await(0,s.getMessageById)(e));return(0,a.forwardMessages)({chat:e,msgs:n,multicast:null!=(t=r.multicast)&&t,includeCaption:null!=(e=r.displayCaptionText)&&e,appendedText:null!=(t=r.appendedText)&&t})};let o=r(41687),i=r(14647),a=r(52757),s=r(17530)},78626(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.generateMessageID=async function(e){var t=(0,o.getMyUserWid)(),e=e instanceof i.Wid?e:e instanceof i.ChatModel?e.id:(0,n.assertWid)(e);let r;return e.isGroup()&&(r=((null===i.WidFactory||void 0===i.WidFactory?void 0:i.WidFactory.toUserWid)||(null===i.WidFactory||void 0===i.WidFactory?void 0:i.WidFactory.toUserWidOrThrow)||(null===i.WidFactory||void 0===i.WidFactory?void 0:i.WidFactory.createWid))(t)),new i.MsgKey({from:t,to:e,id:await Promise.resolve((0,a.randomMessageId)()),participant:r,selfDir:"out"})};let n=r(41687),o=r(21942),i=r(14647),a=r(52757)},63829(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.get=function(e){e=(0,n.assertWid)(e);return("newsletter"===e.server?o.NewsletterStore:o.ChatStore).get(e)};let n=r(41687),o=r(14647)},11513(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getActiveChat=function(){return n.ChatStore.findFirst(e=>e.active)||n.NewsletterStore.findFirst(e=>e.active)};let n=r(14647)},73546(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getLastSeen=async function(e){e=(0,n.assertWid)(e),e=await o.ChatStore.get(e);return e&&(e.presence.hasData||(await e.presence.subscribe(),await new Promise(e=>setTimeout(e,100))),e.presence.chatstate.t)||!1};let n=r(41687),o=r(14647)},17181(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageACK=async function(e){let t=await(0,a.getMessageById)(e),r=await i.MsgInfoStore.find(t.id),o=new Map,n=(e,t)=>{var r=e.id.toString(),n=o.get(r)||{id:r,wid:e.id};n[t]=e.t,o.set(r,n)};return null!=r&&r.delivery.forEach(e=>n(e,"deliveredAt")),null!=r&&r.read.forEach(e=>n(e,"readAt")),null!=r&&r.played.forEach(e=>n(e,"playedAt")),{ack:t.ack,fromMe:t.id.fromMe,deliveryRemaining:(null==r?void 0:r.deliveryRemaining)||0,readRemaining:(null==r?void 0:r.readRemaining)||0,playedRemaining:(null==r?void 0:r.playedRemaining)||0,participants:Array.from(o.values())}};let i=r(14647),a=r(74023)},17530(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageById=async function(e){var t,o;let r=!1,i=(Array.isArray(e)||(r=!0,e=[e]),e.map(e=>u.MsgKey.fromString(e.toString()))),a=[];for(let n of i){let r=u.MsgStore.get(n),e="function"==typeof(null==(t=n.remote)?void 0:t.isStatusV3)?null==(o=n.remote)?void 0:o.isStatusV3():null==(o=null==(t=n.remote)?void 0:t.toString())?void 0:o.includes("status@broadcast");if(!r)if(e)r=u.StatusV3Store.getMyStatus().msgs.get(n);else{let t=(0,s.assertGetChat)(n.remote);if(!(r=t.msgs.get(n))){d("searching remote message with id "+n.toString());let e=(0,c.getSearchContext)(t,n);await e.collection.loadAroundPromise,r=t.msgs.get(n)||e.collection.get(n)}}if(!r)throw d(`message id ${n.toString()} not found`),new l.WPPError("msg_not_found",`Message ${n.toString()} not found`,{id:n.toString()});a.push(r)}return a=a.map(e=>e instanceof u.MsgModel?e:u.MsgStore.get(e)||new u.MsgModel(e)),r?a[0]:a};let o=n(r(17833)),s=r(41687),l=r(62857),u=r(14647),c=r(52757),d=(0,o.default)("WA-JS:message:getMessageById")},48769(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessages=async function(e,t={}){var r=(0,l.assertGetChat)(e);let n=t.count||20,o="after"===t.direction?"after":"before",i=t.id||(null==(a=r.lastReceivedKey)?void 0:a.toString());if(t.onlyUnread){if(!r.hasUnread)return[];let e=r.unreadCount<0?2:r.unreadCount;n=n<0?e:Math.min(n,e)}-1===n&&(0,u.isMultiDevice)()&&(n=1/0),!t.id&&i&&n--;var a=i?c.MsgKey.fromString(i):{remote:r.id};a.count=n,a.direction=o;let s=[];if("all"===t.media){let e=(await(0,p.msgFindQuery)("media",a))["messages"];Array.isArray(e)&&s.push(...e)}else if("image"===t.media){let t=(await(0,p.msgFindQuery)("media",a))["messages"];for(let e of t)"image"===e.type&&s.push(e)}else if(void 0!==t.media){a.media=t.media;let e=(await(0,p.msgFindQuery)("media",a))["messages"];Array.isArray(e)&&s.push(...e)}else s=await(0,p.msgFindQuery)(o,a);if(!t.id&&i){let e=c.MsgStore.get(i);e&&s.push(e.attributes)}if(s=s.map(e=>(null!=t&&t.onlyUnread&&(e.isNewMsg=!0),e instanceof c.MsgModel?e:c.MsgStore.get(e)||new c.MsgModel(e))),t.includeCallMessages)try{let t=await(0,p.msgFindQuery)(d.MSG_TYPE.CALL_LOG,a);if(t&&0<t.length){let e=t.map(e=>e instanceof c.MsgModel?e:c.MsgStore.get(e)||new c.MsgModel(e));s.push(...e),s.sort((e,t)=>{e=e.t||e.timestamp||0,t=t.t||t.timestamp||0;return"before"==o?t-e:e-t}),0<n&&n!==1/0&&(s=s.slice(0,n))}}catch(e){}return s};let l=r(41687),u=r(72927),c=r(14647),d=r(20514),p=r(52757)},91520(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getNotes=async function(e){var t=(0,n.assertGetChat)(e);if(!(0,o.isBusiness)())throw new i.WPPError("connected_device_not_is_business","Connected device not is business account");if(t.id.isGroup())throw new i.WPPError("can_not_get_notes_for_groups","You can not get notes for groups. ChatId: "+e);return(0,a.retrieveOnlyNoteForChatJid)(t.id.toJid())};let n=r(41687),o=r(5882),i=r(62857),a=r(33505)},55595(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getPlatformFromMessage=function(e){(e=e instanceof n.MsgModel||"string"==typeof e||"function"!=typeof e.toString?e:e.toString())instanceof n.MsgModel&&(e=e.id);e=n.MsgKey.fromString(e.toString());return 21<e.id.length?"android":e.id.startsWith("3A")?"iphone":e.id.startsWith("3EB0")?"web":"unknown"};let n=r(14647)},38636(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getQuotedMsg=async function(e){var t=await(0,o.getMessageById)(e);if(t.quotedStanzaID)return t=(0,i.getQuotedMsgKey)(t),(0,o.getMessageById)(t);throw new n.WPPError("message_not_have_a_reply",`Message ${e} does not have a reply`,{id:e})};let n=r(62857),o=r(17530),i=r(95885)},95885(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getQuotedMsgKey=function(e){var t,r,n;if(e.quotedStanzaID)return t=e.quotedRemoteJid||e.id.remote,r=(null==(r=(0,o.getMyUserId)())?void 0:r.equals(e.quotedParticipant))||!1,n="function"==typeof a.Wid.isStatusV3?a.Wid.isStatusV3(t):a.Wid.isStatus(t),new a.MsgKey({id:e.quotedStanzaID,fromMe:r,remote:t,participant:a.Wid.isGroup(e.from)||a.Wid.isGroup(e.to)||n?e.quotedParticipant:void 0});throw new i.WPPError("message_not_have_a_reply",`Message ${e.id} does not have a reply`,{id:e.id})};let o=r(72927),i=r(62857),a=r(14647)},20565(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getReactions=async function(e){let t=await(0,i.getReactions)(e),n=[];for(let r of t.reactions){let t={aggregateEmoji:r.aggregateEmoji,hasReactionByMe:r.hasReactionByMe,senders:[]};for(let e of r.senders)t.senders.push({id:e.msgKey,msgId:e.parentMsgKey,reactionText:e.reactionText,read:e.read,sender:(0,o.createWid)(e.senderUserJid),orphan:e.orphan,timestamp:e.timestamp});n.push(t)}return{reactionByMe:t.reactionByMe?{id:t.reactionByMe.msgKey,orphan:t.reactionByMe.orphan,msgId:t.reactionByMe.parentMsgKey,reactionText:t.reactionByMe.reactionText,read:t.reactionByMe.read,senderUserJid:(0,o.createWid)(t.reactionByMe.senderUserJid),timestamp:t.reactionByMe.timestamp}:void 0,reactions:n}};let o=r(62857),i=r(52757)},81755(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getUnreadChats=async function(e){return e?i:await(0,o.list)({onlyWithUnreadMessage:!0})};let n=r(13691),o=r(88241),i=[];(0,n.on)("chat.unread_count_changed",t=>{0<t.unreadCount?i.find(e=>{return e.id===(null==(e=t.chat)?void 0:e.id)})||i.push(t.chat):i=i.filter(e=>{return e.id!=(null==(e=t.chat)?void 0:e.id)})})},39128(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getVotes=async function(e){let t=s.MsgKey.fromString(e.toString()),n=await(0,u.getMessageById)(t);if("poll_creation"!=n.type)throw new a.WPPError("msg_not_found",`Message ${t.toString()} not a poll`,{id:t.toString()});var o=await(0,l.getVotes)([t]),i={msgId:t,chatId:t.remote,votes:[]};for(let r of o){let e={selectedOptions:[],timestamp:r.senderTimestampMs,sender:r.sender};for(let t of r.selectedOptionLocalIds)e.selectedOptions[t]=n.pollOptions.filter(e=>e.localId==t)[0];i.votes.push(e)}return i};let a=r(62857),s=r(14647),l=r(52757),u=r(17530)},97829(N,e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.sendCatalogMessage=e.requestPhoneNumber=e.replyToButtonMessage=e.prepareRawMessage=e.prepareMessageButtons=e.prepareLinkPreview=e.unpinMsg=e.pinMsg=e.unpin=e.pin=e.openChatFromUnread=e.openChatBottom=e.openChatAt=e.mute=e.markPlayed=e.markIsUnread=e.markIsRecording=e.markIsRead=e.markIsPaused=e.markIsComposing=e.list=e.keepMessage=e.getVotes=e.getUnreadChats=e.getReactions=e.getQuotedMsgKey=e.getQuotedMsg=e.getPlatformFromMessage=e.getNotes=e.getMessages=e.getMessageById=e.getMessageACK=e.getLastSeen=e.getActiveChat=e.get=e.generateMessageID=e.forwardMessages=e.forwardMessage=e.find=e.editMessage=e.downloadMedia=e.deleteMessage=e.delete=e.closeChat=e.clear=e.canReply=e.canMute=e.canMarkPlayed=e.unarchive=e.archive=void 0,e.unmute=e.starMessage=e.setNotes=e.setInputText=e.setChatList=e.sendVCardContactMessage=e.sendTextMessage=e.sendScheduledCallMessage=e.sendReactionToMessage=e.sendRawMessage=e.sendPixKeyMessage=e.sendLocationMessage=e.sendListMessage=e.sendGroupInviteMessage=e.sendFileMessage=e.sendEventMessage=e.sendCreatePollMessage=e.sendChargeMessage=void 0;var r=t(95071),n=(Object.defineProperty(e,"archive",{enumerable:!0,get:function(){return r.archive}}),Object.defineProperty(e,"unarchive",{enumerable:!0,get:function(){return r.unarchive}}),t(31777)),o=(Object.defineProperty(e,"canMarkPlayed",{enumerable:!0,get:function(){return n.canMarkPlayed}}),t(10802)),i=(Object.defineProperty(e,"canMute",{enumerable:!0,get:function(){return o.canMute}}),t(50271)),a=(Object.defineProperty(e,"canReply",{enumerable:!0,get:function(){return i.canReply}}),t(1260)),s=(Object.defineProperty(e,"clear",{enumerable:!0,get:function(){return a.clear}}),t(99459)),l=(Object.defineProperty(e,"closeChat",{enumerable:!0,get:function(){return s.closeChat}}),t(84378)),u=(Object.defineProperty(e,"delete",{enumerable:!0,get:function(){return l.delete}}),t(74931)),c=(Object.defineProperty(e,"deleteMessage",{enumerable:!0,get:function(){return u.deleteMessage}}),t(48157)),d=(Object.defineProperty(e,"downloadMedia",{enumerable:!0,get:function(){return c.downloadMedia}}),t(35090)),p=(Object.defineProperty(e,"editMessage",{enumerable:!0,get:function(){return d.editMessage}}),t(36618)),f=(Object.defineProperty(e,"find",{enumerable:!0,get:function(){return p.find}}),t(74997)),g=(Object.defineProperty(e,"forwardMessage",{enumerable:!0,get:function(){return f.forwardMessage}}),t(59580)),m=(Object.defineProperty(e,"forwardMessages",{enumerable:!0,get:function(){return g.forwardMessages}}),t(78626)),y=(Object.defineProperty(e,"generateMessageID",{enumerable:!0,get:function(){return m.generateMessageID}}),t(63829)),h=(Object.defineProperty(e,"get",{enumerable:!0,get:function(){return y.get}}),t(11513)),b=(Object.defineProperty(e,"getActiveChat",{enumerable:!0,get:function(){return h.getActiveChat}}),t(73546)),v=(Object.defineProperty(e,"getLastSeen",{enumerable:!0,get:function(){return b.getLastSeen}}),t(17181)),_=(Object.defineProperty(e,"getMessageACK",{enumerable:!0,get:function(){return v.getMessageACK}}),t(17530)),M=(Object.defineProperty(e,"getMessageById",{enumerable:!0,get:function(){return _.getMessageById}}),t(48769)),P=(Object.defineProperty(e,"getMessages",{enumerable:!0,get:function(){return M.getMessages}}),t(91520)),w=(Object.defineProperty(e,"getNotes",{enumerable:!0,get:function(){return P.getNotes}}),t(55595)),O=(Object.defineProperty(e,"getPlatformFromMessage",{enumerable:!0,get:function(){return w.getPlatformFromMessage}}),t(38636)),j=(Object.defineProperty(e,"getQuotedMsg",{enumerable:!0,get:function(){return O.getQuotedMsg}}),t(95885)),S=(Object.defineProperty(e,"getQuotedMsgKey",{enumerable:!0,get:function(){return j.getQuotedMsgKey}}),t(20565)),C=(Object.defineProperty(e,"getReactions",{enumerable:!0,get:function(){return S.getReactions}}),t(81755)),x=(Object.defineProperty(e,"getUnreadChats",{enumerable:!0,get:function(){return C.getUnreadChats}}),t(39128)),A=(Object.defineProperty(e,"getVotes",{enumerable:!0,get:function(){return x.getVotes}}),t(33985)),I=(Object.defineProperty(e,"keepMessage",{enumerable:!0,get:function(){return A.keepMessage}}),t(88241)),T=(Object.defineProperty(e,"list",{enumerable:!0,get:function(){return I.list}}),t(28921)),E=(Object.defineProperty(e,"markIsComposing",{enumerable:!0,get:function(){return T.markIsComposing}}),t(11598)),B=(Object.defineProperty(e,"markIsPaused",{enumerable:!0,get:function(){return E.markIsPaused}}),t(59680)),R=(Object.defineProperty(e,"markIsRead",{enumerable:!0,get:function(){return B.markIsRead}}),t(19345)),F=(Object.defineProperty(e,"markIsRecording",{enumerable:!0,get:function(){return R.markIsRecording}}),t(93119)),D=(Object.defineProperty(e,"markIsUnread",{enumerable:!0,get:function(){return F.markIsUnread}}),t(45351)),W=(Object.defineProperty(e,"markPlayed",{enumerable:!0,get:function(){return D.markPlayed}}),t(27112)),U=(Object.defineProperty(e,"mute",{enumerable:!0,get:function(){return W.mute}}),t(91082)),G=(Object.defineProperty(e,"openChatAt",{enumerable:!0,get:function(){return U.openChatAt}}),t(74212)),q=(Object.defineProperty(e,"openChatBottom",{enumerable:!0,get:function(){return G.openChatBottom}}),t(51464)),k=(Object.defineProperty(e,"openChatFromUnread",{enumerable:!0,get:function(){return q.openChatFromUnread}}),t(61278)),L=(Object.defineProperty(e,"pin",{enumerable:!0,get:function(){return k.pin}}),Object.defineProperty(e,"unpin",{enumerable:!0,get:function(){return k.unpin}}),t(6993)),z=(Object.defineProperty(e,"pinMsg",{enumerable:!0,get:function(){return L.pinMsg}}),Object.defineProperty(e,"unpinMsg",{enumerable:!0,get:function(){return L.unpinMsg}}),t(15952)),V=(Object.defineProperty(e,"prepareLinkPreview",{enumerable:!0,get:function(){return z.prepareLinkPreview}}),t(43394)),J=(Object.defineProperty(e,"prepareMessageButtons",{enumerable:!0,get:function(){return V.prepareMessageButtons}}),t(19211)),K=(Object.defineProperty(e,"prepareRawMessage",{enumerable:!0,get:function(){return J.prepareRawMessage}}),t(4009)),H=(Object.defineProperty(e,"replyToButtonMessage",{enumerable:!0,get:function(){return K.replyToButtonMessage}}),t(58267)),$=(Object.defineProperty(e,"requestPhoneNumber",{enumerable:!0,get:function(){return H.requestPhoneNumber}}),t(88413)),Y=(Object.defineProperty(e,"sendCatalogMessage",{enumerable:!0,get:function(){return $.sendCatalogMessage}}),t(82028)),Q=(Object.defineProperty(e,"sendChargeMessage",{enumerable:!0,get:function(){return Y.sendChargeMessage}}),t(68011)),Z=(Object.defineProperty(e,"sendCreatePollMessage",{enumerable:!0,get:function(){return Q.sendCreatePollMessage}}),t(35824)),X=(Object.defineProperty(e,"sendEventMessage",{enumerable:!0,get:function(){return Z.sendEventMessage}}),t(24654)),ee=(Object.defineProperty(e,"sendFileMessage",{enumerable:!0,get:function(){return X.sendFileMessage}}),t(40954)),te=(Object.defineProperty(e,"sendGroupInviteMessage",{enumerable:!0,get:function(){return ee.sendGroupInviteMessage}}),t(35184)),re=(Object.defineProperty(e,"sendListMessage",{enumerable:!0,get:function(){return te.sendListMessage}}),t(39453)),ne=(Object.defineProperty(e,"sendLocationMessage",{enumerable:!0,get:function(){return re.sendLocationMessage}}),t(42992)),oe=(Object.defineProperty(e,"sendPixKeyMessage",{enumerable:!0,get:function(){return ne.sendPixKeyMessage}}),t(44190)),ie=(Object.defineProperty(e,"sendRawMessage",{enumerable:!0,get:function(){return oe.sendRawMessage}}),t(92774)),ae=(Object.defineProperty(e,"sendReactionToMessage",{enumerable:!0,get:function(){return ie.sendReactionToMessage}}),t(59633)),se=(Object.defineProperty(e,"sendScheduledCallMessage",{enumerable:!0,get:function(){return ae.sendScheduledCallMessage}}),t(68533)),le=(Object.defineProperty(e,"sendTextMessage",{enumerable:!0,get:function(){return se.sendTextMessage}}),t(36356)),ue=(Object.defineProperty(e,"sendVCardContactMessage",{enumerable:!0,get:function(){return le.sendVCardContactMessage}}),t(43859)),ce=(Object.defineProperty(e,"setChatList",{enumerable:!0,get:function(){return ue.setChatList}}),t(18194)),de=(Object.defineProperty(e,"setInputText",{enumerable:!0,get:function(){return ce.setInputText}}),t(31116)),pe=(Object.defineProperty(e,"setNotes",{enumerable:!0,get:function(){return de.setNotes}}),t(37126)),fe=(Object.defineProperty(e,"starMessage",{enumerable:!0,get:function(){return pe.starMessage}}),t(35291));Object.defineProperty(e,"unmute",{enumerable:!0,get:function(){return fe.unmute}})},33985(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.keepMessage=async function(e,t=!0){var r=await(0,s.getMessageById)(e);if(await(0,n.iAmAdmin)(r.id.remote)){if(r.isExpired())throw new o.WPPError("msg_expired","This message has expired");return t?await(0,a.keepMessage)(r,i.KIC_ENTRY_POINT_TYPE.CHAT):await(0,a.undoKeepMessage)(r,{deleteExpired:!0},i.KIC_ENTRY_POINT_TYPE.CHAT),await(0,s.getMessageById)(e)}throw new o.WPPError("you_not_group_admin","You is not a group admin")};let n=r(64456),o=r(62857),i=r(20514),a=r(52757),s=r(17530)},88241(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.list=async function(e={}){let r=null==e.count?1/0:e.count,t="before"===e.direction?"before":"after",n=(e.onlyNewsletter?i.NewsletterStore:i.ChatStore).getModelsArray().slice();if(e.onlyUsers&&(n=n.filter(e=>e.isUser)),e.onlyGroups&&(n=n.filter(e=>e.id.isGroup())),e.onlyCommunities&&(n=n.filter(e=>{return e.id.isGroup()&&"COMMUNITY"===(null==(e=e.groupMetadata)?void 0:e.groupType)})),e.onlyWithUnreadMessage&&(n=n.filter(e=>e.hasUnread)),e.onlyArchived&&(n=n.filter(e=>e.archive)),e.withLabels){let t=e.withLabels.map(t=>{var e=i.LabelStore.findFirst(e=>e.name===t);return e?e.id:t});n=n.filter(e=>{return null==(e=e.labels)?void 0:e.some(e=>t.includes(e))})}var o=null!=e&&e.id?(0,a.get)(e.id):null,o=o?n.indexOf(o):0;if("before"===t){let e=o-r<0?0:o-r,t=e+r>=o?o:e+r;n=n.slice(e,t)}else n=n.slice(o,o+r);if(null==e||!e.ignoreGroupMetadata)for(let e of n)e.id.isGroup()&&await i.GroupMetadataStore.find(e.id);return n};let i=r(14647),a=r(63829)},28921(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.markIsComposing=async function(t,r){let n=(0,o.assertGetChat)(t);await n.presence.subscribe(),await i.ChatPresence.markComposing(n),n.pausedTimerId&&(clearTimeout(n.pausedTimerId),n.unset("pausedTimerId")),r&&await new Promise(e=>{n.pausedTimerId=setTimeout(()=>{(0,a.markIsPaused)(t).then(e,e)},r)})};let o=r(41687),i=r(14647),a=r(97829)},11598(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.markIsPaused=async function(e){e=(0,n.assertGetChat)(e);await e.presence.subscribe(),await o.ChatPresence.markPaused(e)};let n=r(41687),o=r(14647)},59680(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.markIsRead=async function(e){var e=(0,o.assertGetChat)(e),t=e.unreadCount;return(0,n.compare)(i.SANITIZED_VERSION_STR,"2.3000.1031992593",">=")?await(0,a.sendSeen)({chat:e,afterAvailable:!1}):await(0,a.sendSeen)(e,!1),{wid:e.id,unreadCount:t}};let n=r(38385),o=r(41687),i=r(19198),a=r(52757)},19345(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.markIsRecording=async function(t,r){let n=(0,o.assertGetChat)(t);await n.presence.subscribe(),await i.ChatPresence.markRecording(n),r&&await new Promise(e=>{n.pausedTimerId=setTimeout(()=>{(0,a.markIsPaused)(t).then(e,e)},r)})};let o=r(41687),i=r(14647),a=r(97829)},93119(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.markIsUnread=async function(e){e=(0,n.assertGetChat)(e);return await(0,o.markUnread)(e,!0),{wid:e.id}};let n=r(41687),o=r(52757)},45351(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.markPlayed=async function(e){var t=(e=e instanceof n.MsgModel||"string"==typeof e||"function"!=typeof e.toString?e:e.toString())instanceof n.MsgModel?e:await(0,i.getMessageById)(e.toString());return await(0,o.markPlayed)(t),(0,i.getMessageById)(e.toString())};let n=r(14647),o=r(52757),i=r(17530)},27112(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.mute=async function(e,t){var e=(0,o.assertWid)(e),r=(0,o.assertGetChat)(e);let n=0;if("expiration"in t)n="number"==typeof t.expiration?t.expiration:t.expiration.getTime()/1e3;else{if(!("duration"in t))throw new i.WPPError("invalid_time_mute","Invalid time for mute",{time:t});n=(0,a.unixTime)()+t.duration}if(n<(0,a.unixTime)())throw new i.WPPError("negative_time_mute","Negative duration for mute",{time:t});return await r.mute.mute({expiration:n,isAutoMuted:!1,sendDevice:!0}),{wid:e,expiration:r.mute.expiration,isMuted:0!==r.mute.expiration}};let o=r(41687),i=r(62857),a=r(52757)},91082(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.openChatAt=async function(t,e,r){var n=(0,i.assertWid)(t),n=await(0,i.assertFindChat)(n),o=await(0,l.getMessageById)(e);try{let e=(0,s.getSearchContext)(n,o);return await a.Cmd.openChatAt(n,e)}catch(t){let e=(0,s.getSearchContext)(n,o.id._serialized);return a.Cmd.openChatAt({chat:n,msgContext:e,chatEntryPoint:r})}};let i=r(41687),a=r(14647),s=r(52757),l=r(97829)},74212(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.openChatBottom=async function(e,t){e=(0,n.assertWid)(e),e=(await(0,a.findOrCreateLatestChat)(e,"newChatFlow")).chat;return(0,o.isWhatsAppVersionLTE)("2.3000.1029960097")?i.Cmd.openChatBottom(e,t):i.Cmd.openChatBottom({chat:e,chatEntryPoint:t})};let n=r(41687),o=r(64120),i=r(14647),a=r(52757)},51464(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.openChatFromUnread=async function(e,t){e=(0,n.assertWid)(e),e=(await(0,a.findOrCreateLatestChat)(e,"newChatFlow")).chat;return(0,o.isWhatsAppVersionLTE)("2.3000.1029960097")?i.Cmd.openChatFromUnread(e):i.Cmd.openChatFromUnread({chat:e,chatEntryPoint:t})};let n=r(41687),o=r(64120),i=r(14647),a=r(52757)},61278(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.pin=a,t.unpin=async function(e){return a(e,!1)};let n=r(41687),o=r(62857),i=r(52757);async function a(e,t=!0){var e=(0,n.assertWid)(e),r=(0,n.assertGetChat)(e);if(r.pin===t)throw new o.WPPError((t?"pin":"unpin")+"_error",`The chat ${e.toString()} is already `+(t?"pinned":"unpinned"),{wid:e,pin:t});return await(0,i.setPin)(r,t),{wid:e,pin:t}}},6993(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.pinMsg=n,t.unpinMsg=async function(e){return n(e,!1)};let d=r(41687),p=r(62857),f=r(14647),g=r(20514),m=r(52757),y=r(17530);async function n(e,t=!0,r=g.PinExpiryDurationOption.SevenDays){let n,o,i,a,s,l=g.PinExpiryDurationOption.SevenDays;if("number"==typeof r)l=g.PinExpiryDurationOption.SevenDays;else{let e=Object.values(g.PinExpiryDurationOption);l=e.includes(r)?r:g.PinExpiryDurationOption.SevenDays}if("boolean"!=typeof t)throw new p.WPPError("invalid_pin_parameter","The 'pin' parameter must be a boolean. Received: "+typeof t,{msgId:e,pin:t,duration:r});var r=await(0,y.getMessageById)(e),u=(0,d.assertGetChat)(r.id.remote),c=f.PinInChatStore.getByParentMsgKey(r.id);if(u.id.isNewsletter())throw new p.WPPError((t?"pin":"unpin")+"_error",`The msg ${e.toString()} was not pinned. Not can pin in Newsletter`,{msgId:e,pin:t});if(u.id.isGroup()&&(null==(o=null==(n=u.groupMetadata)?void 0:n.participants)||!o.iAmMember()))throw new p.WPPError((t?"pin":"unpin")+"_error","You not a member of group, to pin msg "+e.toString(),{msgId:e,pin:t});if(u.id.isGroup()&&(null!=(i=u.groupMetadata)&&i.restrict||null!=(a=u.groupMetadata)&&a.announce)&&(null==(s=u.groupMetadata)||!s.participants.iAmAdmin()))throw new p.WPPError((t?"pin":"unpin")+"_error","You not have permission to pin msg "+e.toString(),{msgId:e,pin:t});if(r.isNotification||r.isViewOnce||r.type===g.MSG_TYPE.REVOKED||((null==r?void 0:r.ack)||0)<g.ACK.SENT)throw new p.WPPError((t?"pin":"unpin")+"_error",`The msg ${e.toString()} not can be pinned`,{msgId:e,pin:t});if(c&&c.pinType===(t?g.PIN_STATE.PIN:g.PIN_STATE.UNPIN))throw new p.WPPError((t?"pin":"unpin")+"_error",`The msg ${e.toString()} is already `+(t?"pinned":"unpinned"),{msgId:e,pin:t});u=t?l:void 0,c=await(0,m.sendPinInChatMsg)(r,!0===t?g.PIN_STATE.PIN:g.PIN_STATE.UNPIN,u);if(c)return{message:r,pinned:c.messageSendResult===g.SendMsgResult.OK?t:!t,result:c.messageSendResult};throw new p.WPPError("pin_send_error",`Failed to ${t?"pin":"unpin"} message `+e.toString(),{msgId:e,pin:t})}},72185(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.prepareAudioWaveform=async function(e,u){if(e.isPtt&&e.waveform)try{let e=await u.arrayBuffer(),t=new AudioContext,r=await t.decodeAudioData(e),n=r.getChannelData(0),o=Math.floor(n.length/64),i=[];for(let e=0;e<64;e++){let t=o*e,r=0;for(let e=0;e<o;e++)r+=Math.abs(n[t+e]);i.push(r/o)}let a=Math.pow(Math.max(...i),-1),s=i.map(e=>e*a),l=new Uint8Array(s.map(e=>Math.floor(100*e)));return{duration:Math.floor(r.duration),waveform:l}}catch(e){o("Failed to generate waveform",e)}};let o=(0,n(r(17833)).default)("WA-JS:chat:sendFileMessage")},15952(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t}),s=this&&this.__rest||function(e,t){var r={};for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]]);return r};Object.defineProperty(t,"__esModule",{value:!0}),t.prepareLinkPreview=async function(e,t){if(t.linkPreview){if(t.linkPreview){var r,n="object"==typeof t.linkPreview?t.linkPreview:{},o="chat"===e.type?e.body:"";if(o)try{let e=(0,d.findFirstWebLink)(o);e&&null!=(r=await(0,d.fetchLinkPreview)(e))&&r.data&&(t.linkPreview=Object.assign(Object.assign({},r.data),n))}catch(e){}}"object"==typeof t.linkPreview&&(e.subtype="url",e=Object.assign(Object.assign({},e),t.linkPreview))}return e};let l=r(73113),u=n(r(1132)),c=r(54993),d=r(52757);u.onFullReady(()=>{(0,c.wrapModuleFunction)(d.getABPropConfigValue,(e,...t)=>{var[r]=t;return"link_preview_wait_time"===r?7:e(...t)}),(0,c.wrapModuleFunction)(d.genMinimalLinkPreview,async(t,...r)=>{let[e]=r,i="string"==typeof e?e:e.url;return new Promise(async o=>{try{let e=await(0,l.fetchRemoteLinkPreviewData)(i);if(!e)throw new Error("preview not found for "+i);let t=e["imageUrl"],r=s(e,["imageUrl"]),n={};t&&(n=await(0,l.generateThumbnailLinkPreviewData)(t).catch(()=>null)),o({url:i,data:Object.assign(Object.assign({},r),n)})}catch(e){o(await t(...r))}})})})},43394(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.prepareMessageButtons=function(e,t){if(t.buttons){if(!Array.isArray(t.buttons))throw new s.WPPError("buttons_not_a_array","Buttons options is not a array");if("chat"!==e.type&&2<t.buttons.length)throw new s.WPPError("not_alowed_more_then_three_buttons","Not allowed more then three buttons in file messages");if(0===t.buttons.length||3<t.buttons.length)throw new s.WPPError("buttons_must_between_1_and_3_options","Buttons options must have between 1 and 3 options");if(t.buttons.find(e=>e.phoneNumber||e.url)&&t.buttons.find(e=>e.id&&e.text))throw new s.WPPError("reply_and_cta_btn_not_allowed","It is not possible to send reply buttons and action buttons togetherButtons options must have between 1 and 3 options");e.title=t.title,e.footer=t.footer,e.interactiveMessage={header:{title:t.title||" ",hasMediaAttachment:!1},body:{text:e.body||e.caption||" "},footer:{text:t.footer||" "},nativeFlowMessage:{buttons:t.buttons.map((e,t)=>"phoneNumber"in e?{name:"cta_call",buttonParamsJson:JSON.stringify({display_text:e.text,phone_number:e.phoneNumber})}:"url"in e?{name:"cta_url",buttonParamsJson:JSON.stringify({display_text:e.text,url:e.url,merchant_url:e.url})}:"code"in e?{name:"cta_copy",buttonParamsJson:JSON.stringify({display_text:e.text,copy_code:e.code})}:"raw"in e?e.raw:{name:"quick_reply",buttonParamsJson:JSON.stringify({display_text:e.text,id:e.id||""+t})})}},e.isFromTemplate=!0,e.buttons=new u.TemplateButtonCollection,e.hydratedButtons=t.buttons.map((e,t)=>"phoneNumber"in e?{index:t,callButton:{displayText:e.text,phoneNumber:e.phoneNumber}}:"url"in e?{index:t,urlButton:{displayText:e.text,url:e.url}}:"code"in e?{index:t,urlButton:{displayText:e.text,url:"https://www.whatsapp.com/otp/code/?otp_type=COPY_CODE&code=otp"+e.code}}:{index:t,quickReplyButton:{displayText:e.text,id:e.id||""+t}}),e.buttons.add(e.hydratedButtons.map((e,t)=>{var r,t=""+(null!=e.index?e.index:t);return e.urlButton?new u.TemplateButtonModel({id:t,displayText:null==(r=e.urlButton)?void 0:r.displayText,url:null==(r=e.urlButton)?void 0:r.url,subtype:"url"}):e.callButton?new u.TemplateButtonModel({id:t,displayText:e.callButton.displayText,phoneNumber:e.callButton.phoneNumber,subtype:"call"}):new u.TemplateButtonModel({id:t,displayText:null==(r=e.quickReplyButton)?void 0:r.displayText,selectionId:null==(t=e.quickReplyButton)?void 0:t.id,subtype:"quick_reply"})}))}return e};let s=r(62857),l=n(r(1132)),u=r(14647),c=r(19198),d=r(54993),p=r(52757),f=r(15035);l.onFullReady(()=>{(0,d.wrapModuleFunction)(p.createMsgProtobuf,(e,...t)=>{var[r]=t,n=e(...t);if(void 0!==(null==(t=null==(e=r.interactiveMessage)?void 0:e.nativeFlowMessage)?void 0:t.buttons)){let e=["documentMessage","documentWithCaptionMessage","imageMessage","locationMessage","videoMessage"];for(var o of e)if(o in n){let e=o;"documentWithCaptionMessage"===o&&(o="documentMessage"),r.interactiveMessage.header=Object.assign(Object.assign({},r.interactiveMessage.header),{[""+o]:(null==(o=null==(o=n[e])?void 0:o.message)?void 0:o.documentMessage)||n[e],hasMediaAttachment:!0}),delete n[e];break}void 0!==n.extendedTextMessage&&delete n.extendedTextMessage,void 0!==n.conversation&&delete n.conversation,n.viewOnceMessage={message:{interactiveMessage:r.interactiveMessage}}}return n}),(0,d.wrapModuleFunction)(p.encodeMaybeMediaType,(e,...t)=>{var[r]=t;return"button"===r?c.DROP_ATTR:e(...t)}),(0,d.wrapModuleFunction)(p.mediaTypeFromProtobuf,(e,...t)=>{var r,[n]=t;return null!=(r=null==(r=null==(r=n.documentWithCaptionMessage)?void 0:r.message)?void 0:r.templateMessage)&&r.hydratedTemplate?e(null==(r=null==(n=null==(r=n.documentWithCaptionMessage)?void 0:r.message)?void 0:n.templateMessage)?void 0:r.hydratedTemplate):e(...t)}),(0,d.wrapModuleFunction)(p.typeAttributeFromProtobuf,(e,...t)=>{var r,[n]=t;if(null!=(r=null==n?void 0:n.viewOnceMessage)&&r.interactiveMessage){let t=Object.keys(null==(r=null==n?void 0:n.viewOnceMessage)?void 0:r.interactiveMessage);return["documentMessage","documentWithCaptionMessage","imageMessage","locationMessage","videoMessage"].some(e=>t.includes(e))?"media":"text"}if(null!=(r=null==(r=null==(r=null==n?void 0:n.documentWithCaptionMessage)?void 0:r.message)?void 0:r.templateMessage)&&r.hydratedTemplate){let t=Object.keys(null==(r=null==(r=null==(r=null==n?void 0:n.documentWithCaptionMessage)?void 0:r.message)?void 0:r.templateMessage)?void 0:r.hydratedTemplate);return["documentMessage","imageMessage","locationMessage","videoMessage"].some(e=>t.includes(e))?"media":"text"}return 1===(null==(r=null==n?void 0:n.buttonsMessage)?void 0:r.headerType)||2===(null==(r=null==n?void 0:n.buttonsMessage)?void 0:r.headerType)?"text":e(...t)}),(0,d.wrapModuleFunction)(p.createFanoutMsgStanza,async(e,...t)=>{let r,n,o=null;var i=t[1].id?t[2]:t[1];if(i.buttonsMessage)o=u.websocket.smax("buttons");else if(i.listMessage){let e=["unknown","single_select","product_list"];o=u.websocket.smax("list",{v:"2",type:e[2]})}let a=await e(...t);if(null!=(n=null==(r=null==i?void 0:i.viewOnceMessage)?void 0:r.message)&&n.interactiveMessage&&(a=await(0,f.encryptAndParserMsgButtons)(...t,e)),o){i=a.content||a.stanza.content;let e=i.find(e=>"biz"===e.tag),t=(e||(e=u.websocket.smax("biz",{},null),i.push(e)),!1);Array.isArray(e.content)?t=!!e.content.find(e=>e.tag===(null==o?void 0:o.tag)):e.content=[],t||e.content.push(o)}return a}),(0,d.wrapModuleFunction)(p.getABPropConfigValue,(e,...t)=>{var[r]=t;return"web_unwrap_message_for_stanza_attributes"!==r&&e(...t)})})},19211(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.prepareRawMessage=async function(r,n,o={}){var e;if(o=Object.assign(Object.assign({},p.defaultSendMessageOptions),o),n=Object.assign({t:(0,d.unixTime)(),from:(0,a.getMyUserWid)(),to:r.id,self:"out",isNewMsg:!0,local:!0,ack:c.ACK.CLOCK},n),o.delay&&("chat"==n.type?await(0,g.markIsComposing)(r.id):null!=o&&o.isPtt&&await(0,g.markIsRecording)(r.id),await new Promise(e=>setTimeout(()=>e(!0),o.delay)),await(0,g.markIsPaused)(r.id)),"protocol"!==n.type){let e=(0,d.getEphemeralFields)(r);n=Object.assign(Object.assign({},e),n)}if(null!=(e=r.id)&&e.isBot()&&(n=Object.assign(Object.assign({},n),{messageSecret:await(0,d.genBotMsgSecretFromMsgSecret)(crypto.getRandomValues(new Uint8Array(32))),botPersonaId:u.BotProfileStore.get(null==(e=r.id)?void 0:e.toString()).personaId})),o.messageId){if("string"==typeof o.messageId&&(o.messageId=u.MsgKey.fromString(o.messageId)),!o.messageId.fromMe)throw new l.WPPError("message_key_is_not_from_me","Message key is not from me",{messageId:o.messageId.toString()});if(!o.messageId.remote.equals(r.id))throw new l.WPPError("message_key_remote_id_is_not_same_of_chat","Message key remote ID is not same of chat",{messageId:o.messageId.toString()});n.id=o.messageId}if(n.id||(n.id=await(0,g.generateMessageID)(r)),o.mentionedList&&!Array.isArray(o.mentionedList))throw new l.WPPError("mentioned_list_is_not_array","The option mentionedList is not an array",{mentionedList:o.mentionedList});if(o.detectMentioned&&r.id.isGroup()&&(!o.mentionedList||!o.mentionedList.length)){let e="chat"===n.type?n.body:n.caption,t=(o.mentionedList=o.mentionedList||[],(null==e?void 0:e.match(/(?<=@)(\d+)\b/g))||[]);if(0<t.length){let n=(await(0,s.getParticipants)(r.id)).map(e=>e.id.toString());for(let r of t){let e=r+"@lid",t=r+"@c.us";n.includes(e)?o.mentionedList.push(e):n.includes(t)&&o.mentionedList.push(t)}}}if(o.mentionedList){let t=o.mentionedList.map(e=>e instanceof u.Wid?e:(0,i.assertWid)(e));for(let e of t)if(!e.isUser())throw new l.WPPError("mentioned_is_not_user","Mentioned is not an user",{mentionedId:e.toString()});n.mentionedJidList=t}let t=!1;if(o.quotedMsgPayload&&(o.quotedMsg=(0,f.rehydrateMessage)(o.quotedMsgPayload),t=!0),o.quotedMsg){if("string"==typeof o.quotedMsg&&(o.quotedMsg=u.MsgKey.fromString(o.quotedMsg)),o.quotedMsg instanceof u.MsgKey&&(o.quotedMsg=await(0,g.getMessageById)(o.quotedMsg)),!(o.quotedMsg instanceof u.MsgModel))throw new l.WPPError("invalid_quoted_msg","Invalid quotedMsg",{quotedMsg:o.quotedMsg});if(!(null!=(e=o.quotedMsg)&&e.isStatusV3||(0,d.canReplyMsg)(o.quotedMsg)||t))throw new l.WPPError("quoted_msg_can_not_reply","QuotedMsg can not reply",{quotedMsg:o.quotedMsg});n=Object.assign(Object.assign({},n),o.quotedMsg.msgContextInfo(r.id))}return n};let i=r(41687),a=r(21942),s=r(64456),l=r(62857),u=r(14647),c=r(20514),d=r(52757),p=r(74023),f=r(8e3),g=r(97829)},4009(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.replyToButtonMessage=async function(e,t,r){var r=r["buttonIndex"],n=(0,u.get)(e);if(!n)throw new s.WPPError("chat_not_found",`Chat ${e} not found`);e=n.msgs.get(t);if(!e)throw new s.WPPError("message_not_found",`Message ${t} not found`);if(!e.hydratedButtons||!Array.isArray(e.hydratedButtons))throw new s.WPPError("no_buttons_in_message","This message does not have buttons");if(r<0||r>=e.hydratedButtons.length)throw new s.WPPError("invalid_button_index",`Button index ${r} is out of range. Valid range: 0-`+(e.hydratedButtons.length-1));t=e.hydratedButtons[r];let o,i,a;if(t.quickReplyButton)o=t.quickReplyButton.id,i=t.quickReplyButton.displayText,a="quick_reply";else if(t.urlButton)o=""+t.index,i=t.urlButton.displayText,a="url";else{if(!t.callButton)throw new s.WPPError("unsupported_button_type","This button type is not supported");o=""+t.index,i=t.callButton.displayText,a="call"}if("quick_reply"!==a)throw new s.WPPError("button_not_replyable","Only quick reply buttons can be replied to. URL and Call buttons cannot be replied to programmatically.");r={quotedMsg:e,selectedIndex:t.index,selectedId:o};return(0,l.sendTextMsgToChat)(n,i,r)};let s=r(62857),l=r(52757),u=r(63829)},58267(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.requestPhoneNumber=async function(e,t={}){t=Object.assign(Object.assign({},i.defaultSendMessageOptions),t);var r=(0,n.assertWid)(e);if(r.isLid())return(0,a.sendRawMessage)(e,{type:"request_phone_number"},t);throw new o.WPPError("not_a_lid_chat","requestPhoneNumber should not be called for non lid chat "+r.toString())};let n=r(41687),o=r(62857),i=r(74023),a=r(97829)},88413(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.sendCatalogMessage=async function(e,t,r){var r=Object.assign(Object.assign({},s.defaultSendMessageOptions),r),n=(e=(0,o.assertWid)(e),t=(0,o.assertWid)(t),a.CatalogStore.get(t));if(!r.jpegThumbnail){let t=null==(n=null==(n=null==n?void 0:n.productCollection)?void 0:n._models[0])?void 0:n.imageCdnUrl;if(t)try{let e=await(0,i.downloadImage)(t);r.jpegThumbnail=e.data.split(",",2)[1]}catch(e){}}n="https://wa.me/c/"+t.toString().split("@")[0],t={type:"chat",description:null!=(t=null==r?void 0:r.description)?t:"Learn more about this catalog",matchedText:n,subtype:"url",thumbnail:r.jpegThumbnail,thumbnailHeight:r.jpegThumbnail?100:void 0,thumbnailWidth:r.jpegThumbnail?100:void 0,title:null!=(t=null==r?void 0:r.title)?t:"View catalog on WhatsApp",body:r.textMessage?r.textMessage+`
`+n:n,richPreviewType:0};return(0,l.sendRawMessage)(e,t,r)};let o=r(41687),i=r(62857),a=r(14647),s=r(74023),l=r(97829)},82028(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.sendChargeMessage=async function(e,t,o){if(!t||!e)throw new c.WPPError("parameter_not_fount","Please, send all the required parameters");o=Object.assign(Object.assign({},f.defaultSendMessageOptions),o);var i=[];let a=0,s=null;var l=(0,n.getMyUserWid)(),u=d.CatalogStore.get(l);for(let n of t)if("product"==n.type){let e=(await(0,p.queryProduct)(l,n.id,100,100,void 0,!0))["data"];if(void 0===e)throw new c.WPPError("product_not_found",`The product id ${n.id} not found`);let t=(null==u?void 0:u.productCollection).get(n.id),r=(s=s||t.getProductImageCollectionHead().mediaData.preview.getBase64(),{retailer_id:e.id,name:e.name,amount:{value:Number(e.price),offset:Number(o.offset)||1e3},quantity:Number(n.qnt||1),isCustomItem:!1,isQuantitySet:!0});a+=Number(e.price)*Number(n.qnt||1),i.push(r)}else{let e={retailer_id:"custom-item-"+(0,c.generateOrderUniqueId)(),name:n.name,amount:{value:Number(n.price),offset:Number(o.offset)||1e3},quantity:Number(n.qnt||1),isCustomItem:!0,isQuantitySet:!0};a+=Number(n.price)*Number(n.qnt||1),i.push(e)}t=a+Number((null==o?void 0:o.tax)||0)+Number((null==o?void 0:o.shipping)||0)-Number((null==o?void 0:o.discount)||0),t={reference_id:(0,c.generateOrderUniqueId)(),type:"physical-goods",payment_configuration:"merchant_categorization_code",currency:await(0,p.currencyForCountryShortcode)(await(0,p.getCountryShortcodeByPhone)(d.UserPrefs.getMaybeMePnUser().user)),total_amount:{value:t,offset:Number(o.offset)||1e3},order_type:"ORDER",order:{status:"pending",items:i,subtotal:{value:Number(a),offset:Number(o.offset)||1e3},tax:null!=o&&o.tax?{value:null==o?void 0:o.tax,offset:Number(o.offset)||1e3}:null,shipping:null!=o&&o.shipping?{value:null==o?void 0:o.shipping,offset:Number(o.offset)||1e3}:null,discount:null!=o&&o.discount?{value:null==o?void 0:o.discount,offset:Number(o.offset)||1e3}:null},payment_settings:void 0!==o.pix?[{pix_static_code:{key:o.pix.key,key_type:o.pix.keyType,merchant_name:o.pix.name},type:"pix_static_code"},{cards:{enabled:!0},type:"cards"}]:void 0,external_payment_configurations:o.payment_instruction?[{type:"payment_instruction",payment_instruction:o.payment_instruction}]:void 0},t={type:"interactive",caption:null==o?void 0:o.notes,nativeFlowName:"order_details",interactiveType:"native_flow",interactiveHeader:{hasmediaAttachment:!1,mediaType:void 0,subtitle:void 0,thumbnail:s,title:null},interactivePayload:{buttons:[{buttonParamsJson:JSON.stringify(t),name:"review_and_pay"}],messageVersion:1}};return(0,g.sendRawMessage)(e,t,o)};let n=r(21942),c=r(62857),d=r(14647),p=r(52757),f=r(74023),g=r(97829)},68011(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.sendCreatePollMessage=async function(e,t,r,n={}){n=Object.assign(Object.assign({},o.defaultSendMessageOptions),n);t={type:"poll_creation",pollName:t,pollOptions:r.map((e,t)=>({name:e,localId:t})),pollEncKey:self.crypto.getRandomValues(new Uint8Array(32)),pollSelectableOptionsCount:n.selectableCount||0,messageSecret:self.crypto.getRandomValues(new Uint8Array(32))};return(0,i.sendRawMessage)(e,t,n)};let o=r(74023),i=r(97829)},35824(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.sendEventMessage=async function(e,t){if("string"==typeof(t=Object.assign(Object.assign({},i.defaultSendMessageOptions),t)).callType&&"voice"!=t.callType&&"video"!=t.callType)throw new n.WPPError("callType_is_invalid",`Param callType: ${t.callType} is not a valid type call. Use voice or video`);var r=new Date(1e3*t.startTime),r=(r.setHours(r.getHours()+2),Math.floor(r.getTime()/1e3)),r={type:"event_creation",eventName:t.name||" ",eventLocation:null==t?void 0:t.location,eventDescription:(null==t?void 0:t.description)||" ",eventStartTime:t.startTime,eventEndTime:(null==t?void 0:t.endTime)||r,isEventCanceled:!1,callType:t.callType||0,kind:"eventCreation",messageSecret:crypto.getRandomValues(new Uint8Array(32)),viewMode:"VISIBLE",eventJoinLink:"string"==typeof(null==t?void 0:t.callType)?await(0,o.createEventCallLink)(t.startTime,t.callType):void 0};return(0,a.sendRawMessage)(e,r,t)};let n=r(62857),o=r(52757),i=r(74023),a=r(97829)},24654(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t}),s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sendFileMessage=async function(e,t,r){let n,o,i,a;r=Object.assign(Object.assign(Object.assign({},P.defaultSendMessageOptions),{type:"auto-detect",waveform:!0}),r),a="status@broadcast"==(null==e?void 0:e.toString())?new v.ChatModel({id:(0,y.createWid)(M.STATUS_JID)}):await(0,m.assertFindChat)(e);var s=await(0,y.convertToFile)(t,r.mimetype,r.filename),t=s.name,l=(0,h.getMediaTypeForValidation)(r.type,s.type),u="status@broadcast"===(null==e?void 0:e.toString());try{let e=u?"STATUS_TAB_CAMERA_PHOTO_LIBRARY":null,t=b.MediaGatingUtils.getUploadLimit(l,e);if(j(`Validating file size: ${s.size} bytes, limit for ${l}: ${t} bytes`),s.size>t)throw new y.WPPError("file_too_large",`File size ${(0,h.formatFileSize)(s.size)} exceeds the upload limit of ${(0,h.formatFileSize)(t)} for ${l} files`,{fileSize:s.size,limit:t,mediaType:l})}catch(e){if(e instanceof y.WPPError)throw e}u=await v.OpaqueData.createFromData(s,s.type),l={};let c,d;"audio"===r.type?(l.isPtt=r.isPtt,r.isPtt&&(c=r.isViewOnce),l.precomputedFields=await(0,O.prepareAudioWaveform)(r,s)):"image"===r.type?(c=r.isViewOnce,d=null!=r&&r.isHD?2560:1600):"video"===r.type?(c=r.isViewOnce,l.asGif=r.isGif):"document"===r.type?l.asDocument=!0:"sticker"===r.type&&(l.asSticker=!0);s=v.MediaPrep.prepRawMedia(u,Object.assign(Object.assign({},l),{maxDimension:d}));let p=await(0,w.prepareRawMessage)(a,{caption:r.caption||t,filename:t,footer:r.footer,isCaptionByUser:null!=r.caption},r);p=(0,w.prepareMessageButtons)(p,r),r.markIsRead&&(j("marking chat is read before send file"),await(0,w.markIsRead)(a.id).catch(()=>null)),await s.waitForPrep();u=s._mediaData||s.mediaData,null!=r&&r.isPtv&&(u.type="ptv",u.fullHeight=1128,u.fullWidth=1128),j(`sending message (${r.type}) with id `+p.id),l=s.sendToChat(a,{caption:r.caption,footer:r.footer,isViewOnce:c,productMsgOptions:"status@broadcast"===e?void 0:p,addEvenWhilePreparing:!1,type:p.type});let f=null;function g(e,t){j(`message file ${f.id} is `+t)}if(f="status@broadcast"==(null==(n=p.to)?void 0:n.toString())?await new Promise(n=>{v.StatusV3Store.on("change:lastReceivedKey",async function t(e,r){if(e.id.toString()==(null==(e=p.from)?void 0:e.toString())){v.StatusV3Store.off("change:lastReceivedKey",t);let e=await(0,w.getMessageById)(r);n(e)}})}):await new Promise(r=>{a.msgs.on("add",function e(t){t.id===p.id&&(a.msgs.off("add",e),r(t))})}),j(`message file ${f.id} queued`),f.on("change:mediaData.mediaStage",g),l.finally(()=>{f.off("change:mediaData.mediaStage",g)}),"status@broadcast"!==e){if(r.waitForAck){j("waiting ack for "+f.id);let e=await l;j(`ack received for ${f.id} (ACK: ${f.ack}, SendResult: ${JSON.stringify(e)})`)}return{id:null==(o=f.id)?void 0:o.toString(),ack:f.ack,sendMsgResult:l}}{let e=await new Promise((t,e)=>{let r=setTimeout(()=>{e(new y.WPPError("timeout_on_send_status","Timeout for wait response of send media status"))},3e4),n=setInterval(async()=>{var e=await(0,w.getMessageById)(f.id);0<e.ack&&(clearInterval(n),clearTimeout(r),t(e))},1500)});return{id:null==(i=e.id)?void 0:i.toString(),ack:e.ack,sendMsgResult:{messageSendResult:_.SendMsgResult.OK}}}};let l=s(r(17833)),m=r(41687),y=r(62857),h=r(21294),u=n(r(1132)),b=n(r(14647)),v=r(14647),_=r(20514),c=r(54993),M=r(52757),P=r(74023),w=r(97829),O=r(72185),j=(0,l.default)("WA-JS:message");u.onFullReady(()=>{(0,c.wrapModuleFunction)(M.generateVideoThumbsAndDuration,async(e,...t)=>{var[r]=t;try{return await e(...t)}catch(e){if("string"==typeof e.message&&e.message.includes("MEDIA_ERR_SRC_NOT_SUPPORTED"))try{let e=await r.file.arrayBuffer(),s=(0,y.getVideoInfoFromBuffer)(e);return{duration:s.duration,thumbs:r.maxDimensions.map(r=>{{var n=s.width,o=s.height;let e=null!=o?o:r,t=null!=n?n:r;e>t?e>r&&(t*=r/e,e=r):t>r&&(e*=r/t,t=r);var r={width:Math.max(e,1),height:Math.max(t,1)},i=document.createElement("canvas"),a=i.getContext("2d");return i.width=r.width,i.height=r.height,a.fillStyle="white",a.fillRect(0,0,i.width,i.height),{url:i.toDataURL("image/jpeg"),width:r.width,height:r.height,fullWidth:n,fullHeight:o}}})}}catch(e){}throw e}}),(0,c.wrapModuleFunction)(M.processRawSticker,async(e,...t)=>{var[r]=t,n=await e(...t);if("image/webp"===r.type()){let e=r.forceToBlob(),t=await(0,y.blobToArrayBuffer)(e);(0,M.isAnimatedWebp)(t)&&(n.mediaBlob=await v.OpaqueData.createFromData(e,r.type()))}return n}),(0,c.wrapModuleFunction)(M.uploadMedia,async(e,...t)=>{var[r]=t;return"ptv"==r.mediaType?(r.mediaType="video",await e(r)):await e(...t)})})},40954(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.sendGroupInviteMessage=async function(e,r){if(!(r=Object.assign(Object.assign({},s.defaultSendMessageOptions),r)).groupName){let e=await(0,i.ensureGroup)(r.groupId);r.groupName=e.name}if(!r.jpegThumbnail){let t=await(0,o.getProfilePictureUrl)(r.groupId,!1);if(t)try{let e=await(0,a.downloadImage)(t);r.jpegThumbnail=e.data.split(",",2)[1]}catch(e){}}let t="https://chat.whatsapp.com/"+r.inviteCode;var n=r.inviteCodeExpiration?{type:"groups_v4_invite",inviteGrpJpegThum:r.jpegThumbnail,inviteCode:r.inviteCode,inviteCodeExp:r.inviteCodeExpiration||"",inviteGrp:r.groupId,inviteGrpName:r.groupName,comment:r.caption}:{type:"chat",subtype:"url",thumbnail:r.jpegThumbnail,thumbnailHeight:r.jpegThumbnail?100:void 0,thumbnailWidth:r.jpegThumbnail?100:void 0,title:r.groupName,inviteGrpType:"DEFAULT",canonicalUrl:"https://chat.whatsapp.com/"+r.inviteCode,description:r.caption?r.caption+`
`+t:t,body:r.caption?r.caption+`
`+t:t,matchedText:"https://chat.whatsapp.com/"+r.inviteCode,richPreviewType:0};return(0,l.sendRawMessage)(e,n,r)};let o=r(56191),i=r(64456),a=r(62857),s=r(74023),l=r(97829)},35184(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.sendListMessage=async function(e,t){var r=(t=Object.assign(Object.assign({},d.defaultSendMessageOptions),t)).sections;if(!Array.isArray(r))throw new s.WPPError("invalid_list_type","Sections must be an array");if(0===r.length||10<r.length)throw new s.WPPError("invalid_list_size","Sections options must have between 1 and 10 options");r={type:"list",list:{buttonText:t.buttonText,description:t.description||" ",title:t.title,footerText:t.footer,listType:1,sections:r},footer:t.footer};return(0,p.sendRawMessage)(e,r,t)};let s=r(62857),l=n(r(1132)),u=r(54993),c=r(52757),d=r(74023),p=r(97829);l.onFullReady(()=>{(0,u.wrapModuleFunction)(c.typeAttributeFromProtobuf,(e,...t)=>{var[r]=t;return r.listMessage?"text":e(...t)})})},39453(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.sendLocationMessage=async function(e,t){var r=(t=Object.assign(Object.assign({},c.defaultSendMessageOptions),t)).name&&t.address?t.name+`
`+t.address:t.name||t.address||"",r=("string"==typeof t.lat&&(t.lat=parseFloat(t.lat)),"string"==typeof t.lng&&(t.lng=parseFloat(t.lng)),{type:"location",lat:t.lat,lng:t.lng,loc:r,clientUrl:t.url}),r=(0,p.prepareMessageButtons)(r,t);return(0,d.sendRawMessage)(e,r,t)};let s=n(r(1132)),l=r(54993),u=r(52757),c=r(74023),d=r(97829),p=r(43394);s.onFullReady(()=>{(0,l.wrapModuleFunction)(u.mediaTypeFromProtobuf,(e,...t)=>{var[r]=t;return r.locationMessage?null:e(...t)}),(0,l.wrapModuleFunction)(u.typeAttributeFromProtobuf,(e,...t)=>{var[r]=t;return r.locationMessage?"text":e(...t)})})},42992(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.sendPixKeyMessage=async function(e,t,r){if(!(e&&t.keyType&&t.name&&t.key))throw new n.WPPError("parameter_not_fount","Please, send all the required parameters");r=Object.assign(Object.assign({},o.defaultSendMessageOptions),r);t={order:{items:[{name:"",retailer_id:"custom-item-"+(0,n.generateOrderUniqueId)(),amount:{offset:1,value:0},quantity:0}],order_type:"ORDER_WITHOUT_AMOUNT",status:"payment_requested",subtotal:{value:0,offset:1}},total_amount:{value:0,offset:1},reference_id:(0,n.generateOrderUniqueId)(),payment_settings:[{type:"pix_static_code",pix_static_code:{key_type:t.keyType,merchant_name:t.name,key:t.key}},{type:"cards",cards:{enabled:!1}}],external_payment_configurations:[{payment_instruction:t.instructions||"",type:"payment_instruction"}],additional_note:"",currency:"BRL",type:"physical-goods"},t={type:"interactive",caption:"",nativeFlowName:"payment_info",interactiveType:"native_flow",interactivePayload:{buttons:[{buttonParamsJson:JSON.stringify(t),name:"payment_info"}],messageVersion:1},messageSecret:self.crypto.getRandomValues(new Uint8Array(32))};return(0,i.sendRawMessage)(e,t,r)};let n=r(62857),o=r(74023),i=r(97829)},44190(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sendRawMessage=async function(e,r,t={}){t=Object.assign(Object.assign({},f.defaultSendMessageOptions),t);var n,o=await(0,s.assertFindChat)(e);if(o.id.isGroup()&&o.isParentGroup){let t=c.GroupMetadataStore.get(null==(n=o.id)?void 0:n.toString());if("COMMUNITY"==(null==t?void 0:t.groupType)){let e=(0,l.getAnnouncementGroup)(t.id);throw new u.WPPError("can_not_send_message_to_this_groupType","You can not send message to this groupType 'COMMUNITY', send for Announcement Group. Correct announcement groupId: "+(null==e?void 0:e.toString()))}}r=await(0,g.prepareRawMessage)(o,r,t),t.markIsRead&&(m("marking chat is read before send message"),await(0,g.markIsRead)(o.id).catch(()=>null)),m(`sending message (${r.type}) with id `+r.id);let i=null;if(null!=o&&o.isNewsletter&&r.type){if(!["chat","image","video","poll_creation"].includes(r.type))throw new u.WPPError("type_not_valid_for_newsletter",'Please, send a valid type for send message to newsletter. Valid types: "chat", "image", "video", "poll_creation"');let e=new c.MsgModel(r),t=(await(0,p.addNewsletterMsgsRecords)([await(0,p.msgDataFromMsgModel)(e)]),await(0,p.sendNewsletterMessageJob)({type:"chat"!=r.type||r.editMsgType?"poll_creation"==r.type?"pollCreation":"media":"text",msgData:r,msg:new c.MsgModel(r),newsletterJid:o.id.toString()}));o.msgs.add(e),t.success&&(e.t=t.ack.t,e.serverId=t.serverId),e.updateAck(d.ACK.SENT,!0),await(0,p.updateNewsletterMsgRecord)(e),i=[e,"OK"]}else if("protocol"===r.type&&"message_edit"===r.subtype){let e=await(0,g.getMessageById)(r.protocolMessageKey);await(0,p.addAndSendMessageEdit)(e,r),i=[await(0,g.getMessageById)(r.protocolMessageKey),null]}else i=await(0,p.addAndSendMsgToChat)(o,r);m(`message ${r.id} queued`);e=await i[0];let a=null;return t.waitForAck&&(m("waiting ack for "+r.id),i[1]&&(a=await i[1]),m(`ack received for ${r.id} (ACK: ${e.ack}, SendResult: ${null==a?void 0:a.messageSendResult})`)),Object.assign(Object.assign(Object.assign(Object.assign({id:e.id.toString(),ack:e.ack},e.latestEditMsgKey&&{latestEditMsgKey:e.latestEditMsgKey}),e.from&&{from:e.from.toString()}),o&&{to:o.id.toString()}),{sendMsgResult:a})};let o=n(r(17833)),s=r(41687),l=r(83874),u=r(62857),c=r(14647),d=r(20514),p=r(52757),f=r(74023),g=r(97829),m=(0,o.default)("WA-JS:message")},92774(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.sendReactionToMessage=async function(e,t){e=(e=e instanceof n.MsgModel||"string"==typeof e||"function"!=typeof e.toString?e:e.toString())instanceof n.MsgModel?e:await(0,i.getMessageById)(e.toString());return t=t||"",{sendMsgResult:await(0,o.sendReactionToMsg)(e,t)}};let n=r(14647),o=r(52757),i=r(17530)},59633(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.sendScheduledCallMessage=async function(e,t){return t=Object.assign(Object.assign({callType:"voice"},n.defaultSendMessageOptions),t),(0,o.sendEventMessage)(e,Object.assign(Object.assign({},t),{name:t.title,description:null==t?void 0:t.description,callType:t.callType,startTime:parseInt(null==(e=t.scheduledTimestampMs)?void 0:e.toString())/1e3}))};let n=r(74023),o=r(97829)},68533(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.sendTextMessage=async function(e,t,r={}){r=Object.assign(Object.assign({},n.defaultSendMessageOptions),r);t={body:t,type:"chat",subtype:null,urlText:null,urlNumber:null},t=(0,o.prepareMessageButtons)(t,r);return t=await(0,o.prepareLinkPreview)(t,r),(0,o.sendRawMessage)(e,t,r)};let n=r(74023),o=r(97829)},36356(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.sendVCardContactMessage=async function(e,t,r={}){r=Object.assign(Object.assign({},n.defaultSendMessageOptions),r);var i=[];for(let o of t=Array.isArray(t)?t:[t]){let e="",t="",r=("object"==typeof o&&"name"in o?(e=o.id.toString(),t=o.name):e=o.toString(),l.ContactStore.get(e)),n=(r=r||new l.ContactModel({id:(0,a.assertWid)(e),name:t}),(0,s.getMyUserWid)());(t=!t&&r.id.equals(n)?r.displayName:t)&&((r=new l.ContactModel(r.attributes)).name=t,Object.defineProperty(r,"formattedName",{value:t}),Object.defineProperty(r,"displayName",{value:t})),i.push(l.VCard.vcardFromContactModel(r))}t={};return 1===i.length?(t.type="vcard",t.body=i[0].vcard,t.vcardFormattedName=i[0].displayName):(t.type="multi_vcard",t.vcardList=i),(0,o.sendRawMessage)(e,t,r)};let a=r(41687),s=r(21942),l=r(14647),n=r(74023),o=r(97829)},43859(e,t,r){var o,n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.FilterChatListTypes=void 0,t.setChatList=async function(e,t){if(!(g=e))throw new l.WPPError("send_type_filter","Please send a valid type filter");if(e==n.LABELS&&!t)throw new l.WPPError("send_labelId","Please send a valid label id");if(e!=n.CUSTOM||t)return"string"==typeof t&&(t=[t]),e==n.CUSTOM&&t?(f=new Set(t),c.Cmd.trigger("set_active_filter","unread"),c.Cmd.trigger("set_active_filter"),{type:e,list:t}):(e==n.ALL?c.Cmd.trigger("set_active_filter"):e==n.LABELS?c.Cmd.trigger("set_active_filter",n.LABELS,t[0]):(c.Cmd.trigger("set_active_filter","unread"),c.Cmd.trigger("set_active_filter",e)),{type:e});throw new l.WPPError("send_ids","Please send a valid ids")},t.wrapShouldAppearFunction=function(t,r){var e=(...e)=>r(t,...e);return Object.defineProperties(e,Object.getOwnPropertyDescriptors(p.getShouldAppearInList)),e};let l=r(62857),u=s(r(1132)),c=r(14647),d=r(54993),p=r(52757),f=new Set,g="all";(s=n||(t.FilterChatListTypes=n={})).ALL="all",s.CUSTOM="custom",s.UNREAD="unread",s.PERSONAL="personal",s.NON_CONTACT="non_contact",s.GROUP="group",s.FAVORITES="favorites",s.CONTACT="contact",s.BUSINESS="business",s.BROADCAST="broadcast",s.LABELS="labels",s.ASSIGNED_TO_YOU="assigned_to_you",u.onFullReady(function(){(0,d.wrapModuleFunction)(p.getShouldAppearInList,(e,...t)=>{var[r]=t;if(g!==n.CUSTOM)return e(...t);{let e=null==(t=r.id)?void 0:t.toString();return!(!e||!f.has(e))}}),(0,d.wrapModuleFunction)(p.isFilterExcludedFromSearchTreatmentInInboxFlow,(e,...t)=>{var[r]=t;return g===n.CUSTOM&&void 0!==r&&(g=n.ALL),e(...t)})},1e3)},18194(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.setInputText=async function(e,t){t=void 0!==t?await(0,n.assertFindChat)(t):(0,o.getActiveChat)();if(t)return null!=t&&t.active?(t.setComposeContents({text:e,timestamp:(0,s.unixTime)()}),a.ComposeBoxActions.setTextContent(t,e)):null!=t&&t.setComposeContents({text:e,timestamp:(0,s.unixTime)()}),t.getComposeContents();throw new i.WPPError("not_in_chat","Not active chat or invalid wid value")};let n=r(41687),o=r(74023),i=r(62857),a=r(14647),s=r(52757)},31116(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.setNotes=async function(e,t){var r=(0,n.assertGetChat)(e);if(!(0,o.isBusiness)())throw new i.WPPError("connected_device_not_is_business","Connected device not is business account");if(!t)throw new i.WPPError("missing_content_for_notes","Missing content for notes");if(r.id.isGroup())throw new i.WPPError("can_not_set_notes_for_groups","You can not set notes for groups. ChatId: "+e);e=await(0,a.retrieveOnlyNoteForChatJid)(r.id.toJid());return await(0,a.addOrEditNoteAction)({actionType:e?"edit":"add",chatJid:r.id.toJid(),content:t,createdAt:Math.floor(Date.now()/1e3),id:null==e?void 0:e.id,noteType:"unstructured"},!0),(0,a.retrieveOnlyNoteForChatJid)(r.id.toJid())};let n=r(41687),o=r(5882),i=r(62857),a=r(33505)},37126(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.starMessage=async function(e,n=!0){let t=!1;Array.isArray(e)||(t=!0,e=[e]);var e=await(0,s.getMessageById)(e),o=e.reduce((e,t)=>{var r=t.id.remote.toString();return e[r]=e[r]||[],e[r].push(t),e},{}),e=e.map(e=>({id:e.id.toString(),star:e.star||!1}));for(let r in o){let e=(0,i.assertGetChat)(r),t=o[r];n?a.Cmd.sendStarMsgs(e,t):a.Cmd.sendUnstarMsgs(e,t),e.promises.sendStarMsgs&&await e.promises.sendStarMsgs}return t?e[0]:e};let i=r(41687),a=r(14647),s=r(97829)},35291(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.unmute=async function(e){e=(0,n.assertWid)(e);return(0,n.assertGetChat)(e).mute.unmute({sendDevice:!0})};let n=r(41687)},74023(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),r(31853),r(72465),o(r(50175),t),o(r(97829),t),o(r(73298),t),o(r(8e3),t)},72465(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});let s=n(r(1132)),l=r(14647),u=r(54993),c=r(52757),d=r(45588);s.onFullReady(function(){(0,u.wrapModuleFunction)(c.mediaTypeFromProtobuf,(e,...t)=>{var[r]=t;if(r.deviceSentMessage){let e=r.deviceSentMessage["message"];return e?(0,c.mediaTypeFromProtobuf)(e):null}if(r.ephemeralMessage){let e=r.ephemeralMessage["message"];return e?(0,c.mediaTypeFromProtobuf)(e):null}if(r.viewOnceMessage){let e=r.viewOnceMessage["message"];return e?(0,c.mediaTypeFromProtobuf)(e):null}return e(...t)}),(0,u.wrapModuleFunction)(c.typeAttributeFromProtobuf,(e,...t)=>{var[r]=t;if(r.ephemeralMessage){let e=r.ephemeralMessage["message"];return e?(0,c.typeAttributeFromProtobuf)(e):"text"}if(r.deviceSentMessage){let e=r.deviceSentMessage["message"];return e?(0,c.typeAttributeFromProtobuf)(e):"text"}if(r.viewOnceMessage){let e=r.viewOnceMessage["message"];return e?(0,c.typeAttributeFromProtobuf)(e):"text"}return e(...t)}),(0,u.wrapModuleFunction)(c.isUnreadTypeMsg,(e,...t)=>{var[r]=t;switch(r.type){case"buttons_response":case"hsm":case"list":case"list_response":case"template_button_reply":return!0}return e(...t)}),(0,u.wrapModuleFunction)(c.createChatRecord,async(t,...r)=>{let n=1e3;for(let e=1;e<=5;e++)try{return await t(...r)}catch(t){if(5===e)throw t;await new Promise(e=>setTimeout(e,n)),n*=2}}),(0,u.wrapModuleFunction)(c.findChat,async(r,...n)=>{var[o,i]=n;if(!o.isLid())return r(...n);let e=l.ContactStore.get(o);if(await(0,c.getExisting)(o)||!e)return r(...n);{let e=new Set(["username_change_notification","username_contactless_search"]),t=d.ApiContact.getPhoneNumber(o);return e.has(i)&&null!=t?(0,c.findChat)(t,i):(i={chatId:o},await(0,c.createChat)(i,"createChat",{createdLocally:!0,lidOriginType:"general"},{}),r(...n))}}),(0,u.wrapModuleFunction)(c.getEnforceCurrentLid,(e,...t)=>{var[t]=t;try{return(c.toUserLid?(0,c.toUserLid)(t):null)||t}catch(e){return t}}),(0,u.wrapModuleFunction)(c.isLidMigrated,(e,...t)=>{try{return e(...t)}catch(e){return!1}})},1e3),s.onFullReady(function(){var t,r={shouldAppearInList:l.functions.getShouldAppearInList,isUser:e=>e.id.isUser(),isPSA:e=>e.id.isPSA(),isGroup:e=>e.id.isGroup(),isNewsletter:e=>e.id.isNewsletter(),previewMessage:l.functions.getPreviewMessage,showChangeNumberNotification:l.functions.getShowChangeNumberNotification,hasUnread:l.functions.getHasUnread};for(t in r){let e=r[t];void 0===l.ChatModel.prototype[t]&&Object.defineProperty(l.ChatModel.prototype,t,{get:function(){return e(this)},configurable:!0})}})},73298(e,t){Object.defineProperty(t,"__esModule",{value:!0})},8e3(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(7345),t)},7345(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.rehydrateMessage=function(r){if(r){if(r instanceof n.MsgModel)return r;var r=JSON.parse(r);r.quotedMsg&&delete r.quotedMsg,"string"==typeof r.id?r.id=n.MsgKey.fromString(r.id):"object"==typeof r.id&&null!==r.id&&(r.id=new n.MsgKey({fromMe:r.id.fromMe,remote:n.WidFactory.createWid(r.id.remote),id:r.id.id,participant:r.id.participant?n.WidFactory.createWid(r.id.participant):void 0})),r.from&&(r.from=n.WidFactory.createWid(r.from)),r.to&&(r.to=n.WidFactory.createWid(r.to)),r.author&&(r.author=n.WidFactory.createWid(r.author)),r.messageSecret&&"object"==typeof r.messageSecret&&(r.messageSecret=new Uint8Array(Object.values(r.messageSecret))),delete r.rowId,delete r.labels,delete r.groupMentions,delete r.nonJidMentions,delete r.mentionedJidList;let e=new n.MsgModel(r),t=null==(r=e.msgContextInfo)?void 0:r.bind(e);return t&&(e.msgContextInfo=function(e){e=t(e);return null!=e&&e.quotedMsg&&(delete e.quotedMsg.messageSecret,delete e.quotedMsg.streamingSidecar,delete e.quotedMsg.mediaKey,delete e.quotedMsg.mediaKeyTimestamp,delete e.quotedMsg.directPath,delete e.quotedMsg.filehash,delete e.quotedMsg.encFilehash),e}),e}};let n=r(14647)},94605(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.addSubgroups=async function(e,t){Array.isArray(t)||(t=[t]);e=(0,n.assertWid)(e),t=t.map(n.assertWid);return(0,o.sendLinkSubgroups)({parentGroupId:e,subgroupIds:t})};let n=r(41687),o=r(52757)},70378(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.create=async function(e,t,r){r=(r=Array.isArray(r)?r:[r]).map(n.assertWid),e=await(0,o.sendCreateCommunity)({name:e,desc:t,closed:!1}),t=await(0,o.sendLinkSubgroups)({parentGroupId:e.wid,subgroupIds:r});return{wid:e.wid,subGroups:t}};let n=r(41687),o=r(52757)},64920(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.deactivate=async function(e){e=(0,n.assertWid)(e);return(0,o.sendDeactivateCommunity)({parentGroupId:e})};let n=r(41687),o=r(52757)},58092(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.demoteParticipants=async function(e,t){var{groupChat:r,participants:n}=await(0,s.ensureGroupAndParticipants)(e,t);try{return await l.demoteCommunityParticipants(r,n),{participants:t,success:!0}}catch(e){return{participants:t,success:!1,error:e}}};let s=r(64456),l=n(r(52757))},9820(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getAnnouncementGroup=function(e){let r=(0,o.getSubgroups)(e);for(let t of r){let e=n.GroupMetadataStore.get(t.toString());if("LINKED_ANNOUNCEMENT_GROUP"==(null==e?void 0:e.groupType))return e.id}};let n=r(14647),o=r(84460)},33110(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getParticipants=async function(e){e=(0,n.assertWid)(e);return(0,o.getCommunityParticipants)(e)};let n=r(41687),o=r(52757)},84460(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getSubgroups=function(e){var t,r=o.GroupMetadataStore.get(e.toString());if(r)return(0<(null==(t=r.joinedSubgroups)?void 0:t.length)?r:o.GroupMetadataStore.get(null==(t=r.parentGroup)?void 0:t.toString())).joinedSubgroups;throw new n.WPPError("group_not_exist",`GroupId ${null==e?void 0:e.toString()} not exists`)};let n=r(62857),o=r(14647)},5728(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.removeSubgroups=t.promoteParticipants=t.getSubgroups=t.getParticipants=t.getAnnouncementGroup=t.demoteParticipants=t.deactivate=t.create=t.addSubgroups=void 0;var n=r(94605),o=(Object.defineProperty(t,"addSubgroups",{enumerable:!0,get:function(){return n.addSubgroups}}),r(70378)),i=(Object.defineProperty(t,"create",{enumerable:!0,get:function(){return o.create}}),r(64920)),a=(Object.defineProperty(t,"deactivate",{enumerable:!0,get:function(){return i.deactivate}}),r(58092)),s=(Object.defineProperty(t,"demoteParticipants",{enumerable:!0,get:function(){return a.demoteParticipants}}),r(9820)),l=(Object.defineProperty(t,"getAnnouncementGroup",{enumerable:!0,get:function(){return s.getAnnouncementGroup}}),r(33110)),u=(Object.defineProperty(t,"getParticipants",{enumerable:!0,get:function(){return l.getParticipants}}),r(84460)),c=(Object.defineProperty(t,"getSubgroups",{enumerable:!0,get:function(){return u.getSubgroups}}),r(84498)),d=(Object.defineProperty(t,"promoteParticipants",{enumerable:!0,get:function(){return c.promoteParticipants}}),r(53650));Object.defineProperty(t,"removeSubgroups",{enumerable:!0,get:function(){return d.removeSubgroups}})},84498(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.promoteParticipants=async function(e,t){var{groupChat:e,participants:t}=await(0,s.ensureGroupAndParticipants)(e,t);return l.promoteCommunityParticipants(e,t)};let s=r(64456),l=n(r(52757))},53650(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.removeSubgroups=async function(e,t){Array.isArray(t)||(t=[t]);e=(0,n.assertWid)(e),t=t.map(n.assertWid);return(0,o.sendUnlinkSubgroups)({parentGroupId:e,subgroupIds:t})};let n=r(41687),o=r(52757)},83874(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(5728),t)},10896(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultConfig=void 0,t.defaultConfig={deviceName:!1,liveLocationLimit:10,disableGoogleAnalytics:!1,googleAnalyticsId:null,googleAnalyticsUserProperty:{},linkPreviewApiServers:null,poweredBy:"WA-JS",sendStatusToDevice:!1,syncAllStatus:!0}},91491(e,o,t){Object.defineProperty(o,"__esModule",{value:!0}),o.config=void 0;let i=t(13691),r=t(10896),n=window.WPPConfig||{},a=Object.assign(Object.assign({},r.defaultConfig),n),s=(n=[])=>({get:(e,t)=>"isProxy"==t||("object"==typeof e[t]&&null!=e[t]?new Proxy(e[t],s([...n,t])):e[t]),set:(e,t,r)=>{e[t]=r;try{i.internalEv.emitAsync("config.update",{config:o.config,key:t,path:[...n,t],target:e,value:r})}catch(e){}return!0}});o.config=new Proxy(a,s()),window.WPPConfig=o.config},58293(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),r(21899),r(87589),r(75676),r(83400),r(77679),r(26),r(28952),r(19516),r(80739),r(96498),r(17459)},21899(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});let s=r(13691),l=n(r(1132)),u=r(14647),c=r(72927);l.onInjected(function(){var e=async()=>{var e=await(0,c.getAuthCode)().catch(()=>null);s.internalEv.emit("conn.auth_code_change",e)};e(),u.Conn.on("change:ref",e)})},87589(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});let s=r(13691),l=n(r(1132)),u=r(14647),c=r(72927);l.onInjected(function(){let e=(0,c.isAuthenticated)();var t=async()=>{e||(s.internalEv.emit("conn.authenticated"),e=!1)};u.Cmd.isMainLoaded?t():u.Cmd.on("main_loaded",t),u.Cmd.on("logout",()=>{e=!1})})},75676(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});let s=r(13691),l=n(r(1132)),u=r(14647);l.onInjected(function(){u.Cmd.on("logout",()=>s.internalEv.emit("conn.logout"))})},83400(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});let s=r(13691),l=n(r(1132)),u=r(54993),c=r(52757);l.onInjected(function(){(0,u.wrapModuleFunction)(c.getErrorCodeFromLogoutReason,(e,...t)=>{var[r]=t;return s.internalEv.emit("conn.logout_reason",r),e(...t)})})},77679(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});let s=r(13691),l=n(r(1132)),u=r(60397);l.onInjected(function(){let e=setInterval(()=>{(0,u.isMainInit)()&&(clearInterval(e),s.internalEv.emit("conn.main_init"))},100)})},26(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});let s=r(13691),l=n(r(1132)),u=r(14647);l.onInjected(function(){var e=async()=>{s.internalEv.emit("conn.main_loaded")};u.Cmd.isMainLoaded?e():u.Cmd.on("main_loaded",e)})},28952(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t}),s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let l=s(r(17833)),u=r(13691),c=n(r(1132)),d=r(14647),p=(0,l.default)("WA-JS:conn:main_ready"),f=(c.onInjected(function(){let t=async()=>{p("trigger called, isMainReady:",f),f||(f=!0,setTimeout(()=>f=!1,1e3),p("emitting conn.main_ready"),u.internalEv.emit("conn.main_ready"))};if("MAIN"===d.Stream.mode)p("Stream.mode is already MAIN, triggering immediately"),t();else{p("Stream.mode is not MAIN, registering listeners"),d.Cmd.on("main_stream_mode_ready",()=>{p("main_stream_mode_ready event received"),t()}),d.Cmd.on("main_stream_mode_ready_legacy",()=>{p("main_stream_mode_ready_legacy event received"),t()});if(p("typeof Stream.on:",typeof d.Stream.on),"function"==typeof d.Stream.on)p("Registering Stream change:mode listener"),d.Stream.on("change:mode",()=>{p("Stream.mode changed to:",d.Stream.mode),"MAIN"===d.Stream.mode&&(p("Stream.mode is now MAIN, triggering"),t())});else{p("Stream.on is not a function, trying alternative approach");let e=setInterval(()=>{p("Polling Stream.mode:",d.Stream.mode),"MAIN"===d.Stream.mode&&(clearInterval(e),t())},500)}}}),!1)},19516(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});let s=r(13691),l=n(r(1132)),u=r(14647);l.onInjected(function(){var e=async()=>{s.internalEv.emit("conn.needs_update")};u.Stream.needsUpdate?e():u.Stream.on("change:needsUpdate",e)})},80739(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});let s=r(13691),l=n(r(1132)),u=r(14647);l.onInjected(function(){u.NetworkStatus.on("change:online",(e,t)=>{s.internalEv.emit("conn.online",t)})})},96498(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});let s=r(13691),l=n(r(1132)),u=r(14647),c=r(72927);l.onInjected(function(){var e=async()=>{(0,c.isIdle)()&&s.internalEv.emit("conn.qrcode_idle")};e(),u.Socket.on("change:state",e)})},17459(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});let s=r(13691),l=n(r(1132)),u=r(14647),c=r(89763),d=r(72927);l.onInjected(function(){let e=!1;var t=async()=>{(0,d.isAuthenticated)()?e=!1:e||u.Socket.state!==c.SOCKET_STATE.UNPAIRED&&u.Socket.state!==c.SOCKET_STATE.UNPAIRED_IDLE||(e=!0,s.internalEv.emit("conn.require_auth"))};t(),u.Socket.on("change:state",t)})},79330(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.changeEnviromentDevice=function(){n.Enviroment.default.isWeb=!n.Enviroment.default.isWeb,n.Enviroment.default.isWindows=!n.Enviroment.default.isWindows};let n=r(14647)},28904(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.genLinkDeviceCodeForPhoneNumber=async function(e,t=!0){if(!e||"string"!=typeof e)throw new n.WPPError("send_the_phone_number_to_connect","Can't get code for without phone number param");if((0,i.isAuthenticated)())throw new n.WPPError("cannot_get_code_for_already_authenticated","Can't get code for already authenticated user");return await o.functions.initializeAltDeviceLinking(),o.functions.genLinkDeviceCodeForPhoneNumber(e,t)};let n=r(62857),o=r(14647),i=r(60397)},34618(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.getABProps=function(){var e=s.getAllABPropConfigs();return e?e.map(e=>Object.assign(Object.assign({},e),{name:l(String(e.configCode))})):[]},t.getABPropsMap=function(){var e=s.getAllABPropsMap();if(!e)return new Map;let r=new Map;return e.forEach((e,t)=>{r.set(t,Object.assign(Object.assign({},e),{name:l(String(e.configCode))}))}),r},t.getABPropName=l;let s=n(r(35674));function l(e){return s.getABPropConfigNameFromCode(e)||null}},11102(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getAuthCode=async function(){if(s.Conn.ref&&!s.Conn.connected&&!(0,n.isAuthenticated)()&&!(0,n.isRegistered)()){var a=s.Conn.ref;if((0,n.isMultiDevice)()){let e=await l.waSignalStore.getRegistrationInfo(),t=await l.waNoiseInfo.get(),r=s.Base64.encodeB64(t.staticKeyPair.pubKey),n=s.Base64.encodeB64(e.identityKeyPair.pubKey),o=await Promise.resolve(l.adv.getADVSecretKey()),i=[a,r,n,o].join(",");return{type:"multidevice",ref:a,staticKeyPair:r,identityKeyPair:n,secretKey:o,fullCode:i}}}return null};let s=r(14647),l=r(83703),n=r(60397)},20027(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getAutoDownloadSettings=function(){return{photos:(0,n.getAutoDownloadPhotos)(),audio:(0,n.getAutoDownloadAudio)(),videos:(0,n.getAutoDownloadVideos)(),documents:(0,n.getAutoDownloadDocuments)()}};let n=r(90167)},64120(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.getBuildConstants=u,t.isWhatsAppVersionGTE=function(e){var t=u(),t=(null==t?void 0:t.VERSION_STR)||"0.0.0";return(0,s.compare)(t,e,">=")},t.isWhatsAppVersionLTE=function(e){var t=u(),t=(null==t?void 0:t.VERSION_STR)||"0.0.0";return(0,s.compare)(t,e,"<=")};let s=r(38385),l=n(r(1132));function u(){var e=l.search(e=>e.VERSION_STR);return e?Object.assign(Object.assign({},e),{PARSED:{PRIMARY:parseInt(e.VERSION_PRIMARY,10),SECONDARY:parseInt(e.VERSION_SECONDARY,10),TERTIARY:parseInt(e.VERSION_TERTIARY,10)}}):null}},11057(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.getHistorySyncProgress=function(){var e=s.getHistorySyncProgress();return{progress:e.realProgress||0,paused:0<((null==e?void 0:e.remainingPausedSeconds)||0),inProgress:((null==e?void 0:e.realProgress)||0)<100}};let s=n(r(52757))},41900(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getMigrationState=function(){var e={isLidMigrated:!1,isSyncdSessionMigrated:!1,shouldApplyNonMigratedMessagingRules:!1};try{e.isLidMigrated=(0,n.isLidMigrated)()}catch(e){}try{e.isSyncdSessionMigrated=o.Lid1X1MigrationUtils.isSyncdSessionMigrated()}catch(e){}try{e.shouldApplyNonMigratedMessagingRules=o.Lid1X1MigrationUtils.shouldApplyNonMigratedMessagingRules()}catch(e){}try{e.currentLid=o.UserPrefs.getMaybeMeLidUser()}catch(e){}try{e.currentPn=o.UserPrefs.getMaybeMePnUser()}catch(e){}return e};let n=r(52757),o=r(45588)},94452(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getMyDeviceId=function(){return(0,o.getMyUserWid)()||n.UserPrefs.getMe()};let n=r(14647),o=r(21942)},64149(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getMyUserId=function(){return(0,n.getMyUserWid)()};let n=r(21942)},21942(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getMyUserWid=function(){return"function"==typeof n.UserPrefs.getMaybeMeUser?n.UserPrefs.getMaybeMeUser():n.UserPrefs.getMaybeMePnUser()};let n=r(14647)},13158(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getPlatform=function(){return n.Conn.platform};let n=r(14647)},37200(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Theme=void 0,t.getTheme=function(){var e=(0,n.getTheme)();return"light"!==e&&"dark"===e?o.DARK:o.LIGHT};let n=r(90167);var o;(r=o||(t.Theme=o={})).LIGHT="light",r.DARK="dark",r.SYSTEM="system"},60397(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.setTheme=t.setMultiDevice=t.setLimit=t.setKeepAlive=t.setAutoDownloadSettings=t.refreshQR=t.needsUpdate=t.markUnavailable=t.markAvailable=t.logout=t.joinWebBeta=t.isRegistered=t.isOnline=t.isMultiDevice=t.isMainReady=t.isMainLoaded=t.isMainInit=t.isIdle=t.isAuthenticated=t.Theme=t.getTheme=t.getPlatform=t.getMyUserId=t.getMyDeviceId=t.getMigrationState=t.getHistorySyncProgress=t.isWhatsAppVersionGTE=t.getBuildConstants=t.getAutoDownloadSettings=t.getAuthCode=t.getABPropsMap=t.getABProps=t.getABPropName=t.genLinkDeviceCodeForPhoneNumber=t.changeEnviromentDevice=void 0;var n=r(79330),o=(Object.defineProperty(t,"changeEnviromentDevice",{enumerable:!0,get:function(){return n.changeEnviromentDevice}}),r(28904)),i=(Object.defineProperty(t,"genLinkDeviceCodeForPhoneNumber",{enumerable:!0,get:function(){return o.genLinkDeviceCodeForPhoneNumber}}),r(34618)),a=(Object.defineProperty(t,"getABPropName",{enumerable:!0,get:function(){return i.getABPropName}}),Object.defineProperty(t,"getABProps",{enumerable:!0,get:function(){return i.getABProps}}),Object.defineProperty(t,"getABPropsMap",{enumerable:!0,get:function(){return i.getABPropsMap}}),r(11102)),s=(Object.defineProperty(t,"getAuthCode",{enumerable:!0,get:function(){return a.getAuthCode}}),r(20027)),l=(Object.defineProperty(t,"getAutoDownloadSettings",{enumerable:!0,get:function(){return s.getAutoDownloadSettings}}),r(64120)),u=(Object.defineProperty(t,"getBuildConstants",{enumerable:!0,get:function(){return l.getBuildConstants}}),Object.defineProperty(t,"isWhatsAppVersionGTE",{enumerable:!0,get:function(){return l.isWhatsAppVersionGTE}}),r(11057)),c=(Object.defineProperty(t,"getHistorySyncProgress",{enumerable:!0,get:function(){return u.getHistorySyncProgress}}),r(41900)),d=(Object.defineProperty(t,"getMigrationState",{enumerable:!0,get:function(){return c.getMigrationState}}),r(94452)),p=(Object.defineProperty(t,"getMyDeviceId",{enumerable:!0,get:function(){return d.getMyDeviceId}}),r(64149)),f=(Object.defineProperty(t,"getMyUserId",{enumerable:!0,get:function(){return p.getMyUserId}}),r(13158)),g=(Object.defineProperty(t,"getPlatform",{enumerable:!0,get:function(){return f.getPlatform}}),r(37200)),m=(Object.defineProperty(t,"getTheme",{enumerable:!0,get:function(){return g.getTheme}}),Object.defineProperty(t,"Theme",{enumerable:!0,get:function(){return g.Theme}}),r(41818)),y=(Object.defineProperty(t,"isAuthenticated",{enumerable:!0,get:function(){return m.isAuthenticated}}),r(76243)),h=(Object.defineProperty(t,"isIdle",{enumerable:!0,get:function(){return y.isIdle}}),r(89786)),b=(Object.defineProperty(t,"isMainInit",{enumerable:!0,get:function(){return h.isMainInit}}),r(50849)),v=(Object.defineProperty(t,"isMainLoaded",{enumerable:!0,get:function(){return b.isMainLoaded}}),r(65877)),_=(Object.defineProperty(t,"isMainReady",{enumerable:!0,get:function(){return v.isMainReady}}),r(63282)),M=(Object.defineProperty(t,"isMultiDevice",{enumerable:!0,get:function(){return _.isMultiDevice}}),r(51170)),P=(Object.defineProperty(t,"isOnline",{enumerable:!0,get:function(){return M.isOnline}}),r(35177)),w=(Object.defineProperty(t,"isRegistered",{enumerable:!0,get:function(){return P.isRegistered}}),r(75365)),O=(Object.defineProperty(t,"joinWebBeta",{enumerable:!0,get:function(){return w.joinWebBeta}}),r(9135)),j=(Object.defineProperty(t,"logout",{enumerable:!0,get:function(){return O.logout}}),r(62749)),S=(Object.defineProperty(t,"markAvailable",{enumerable:!0,get:function(){return j.markAvailable}}),Object.defineProperty(t,"markUnavailable",{enumerable:!0,get:function(){return j.markUnavailable}}),r(12709)),C=(Object.defineProperty(t,"needsUpdate",{enumerable:!0,get:function(){return S.needsUpdate}}),r(27573)),x=(Object.defineProperty(t,"refreshQR",{enumerable:!0,get:function(){return C.refreshQR}}),r(38871)),A=(Object.defineProperty(t,"setAutoDownloadSettings",{enumerable:!0,get:function(){return x.setAutoDownloadSettings}}),r(22987)),I=(Object.defineProperty(t,"setKeepAlive",{enumerable:!0,get:function(){return A.setKeepAlive}}),r(52122)),T=(Object.defineProperty(t,"setLimit",{enumerable:!0,get:function(){return I.setLimit}}),r(15610)),E=(Object.defineProperty(t,"setMultiDevice",{enumerable:!0,get:function(){return T.setMultiDevice}}),r(52460));Object.defineProperty(t,"setTheme",{enumerable:!0,get:function(){return E.setTheme}})},41818(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.isAuthenticated=function(){return s.isAuthenticated()};let s=n(r(52757))},76243(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.isIdle=function(){return n.Socket.state===o.SOCKET_STATE.UNPAIRED_IDLE};let n=r(14647),o=r(89763)},89786(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isMainInit=function(){var e;return Boolean(null==(e=window.Debug)?void 0:e.VERSION)}},50849(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.isMainLoaded=function(){return n.Cmd.isMainLoaded};let n=r(14647)},65877(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.isMainReady=function(){return n};t=r(13691);let n=!1;t.internalEv.once("conn.main_ready",()=>{n=!0})},63282(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isMultiDevice=function(){return!0}},51170(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.isOnline=function(){return n.NetworkStatus.online};let n=r(14647)},35177(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.isRegistered=function(){return s.isRegistered()};let s=n(r(52757))},75365(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.joinWebBeta=async function(e){var t=await(0,o.getWhatsAppWebExternalBetaJoinedIdb)();if(t===e)return t;if("boolean"!=typeof e)throw new n.WPPError("value_not_a_boolean",`Value ${e||"<empty>"} is not a boolean`,{value:e});return await(0,o.changeOptInStatusForExternalWebBeta)(e),(0,o.getWhatsAppWebExternalBetaJoinedIdb)()};let n=r(62857),o=r(52757)},9135(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.logout=async function(){return n.Socket.logout(),await new Promise(e=>{n.Cmd.once("logout",e)}),!0};let n=r(14647)},62749(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.markAvailable=o,t.markUnavailable=async function(){return o(!1)};let n=r(14647);async function o(t=!0){return Object.defineProperty(n.Stream,"available",{get:()=>t,set:e=>{e==t&&n.Stream.trigger("change:available")},configurable:!0}),t?n.Stream.markAvailable():n.Stream.markUnavailable(),!0}},12709(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.needsUpdate=function(){return n.Stream.needsUpdate};let n=r(14647)},27573(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.refreshQR=async function(){return(0,i.isAuthenticated)()?null:((0,i.isMultiDevice)()?o.Cmd.refreshQR():o.Socket.poke(),n.internalEv.waitFor("conn.auth_code_change").then(e=>e[0]))};let n=r(13691),o=r(14647),i=r(60397)},38871(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.setAutoDownloadSettings=async function(e){void 0!==e.photos&&s.setAutoDownloadPhotos(e.photos),void 0!==e.audio&&s.setAutoDownloadAudio(e.audio),void 0!==e.videos&&s.setAutoDownloadVideos(e.videos),void 0!==e.documents&&s.setAutoDownloadDocuments(e.documents),window.location.reload()};let s=n(r(90167))},22987(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setKeepAlive=function(e=!0){return e?(document.hasFocus=()=>!0,n=setInterval(()=>document.dispatchEvent(new Event("scroll")),15e3)):(document.hasFocus=r,n&&(clearInterval(n),n=null)),!!n};let r=document.hasFocus,n},52122(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.setLimit=function(e,t){switch(e){case"maxMediaSize":if("number"!=typeof t||73400320<t)throw new s.WPPError("maxMediaSize_error","number"!=typeof t?"Value type invalid!":"Maximum value is 70MB");return null;case"maxFileSize":if("number"!=typeof t||1073741824<t)throw new s.WPPError("maxFileSize_error","number"!=typeof t?"Value type invalid!":"Maximum value is 1GB");return u.ServerPropsConstants.MAX_FILE_SIZE_BYTES=t,u.ServerPropsConstants.MAX_FILE_SIZE_BYTES;case"maxShare":if("number"!=typeof t)throw new s.WPPError("maxShare_error","Value type invalid!");return u.ServerPropsConstants.MULTICAST_LIMIT_GLOBAL=t,u.ServerPropsConstants.MULTICAST_LIMIT_GLOBAL;case"statusVideoMaxDuration":if("number"!=typeof t)throw new s.WPPError("statusVideoMaxDuration_error","Value type invalid!");return null;case"unlimitedPin":if("boolean"!=typeof t)throw new s.WPPError("unlimitedPin_error","Value type invalid!");return p=!!t||void 0,t;default:throw new s.WPPError("setLimit_error","Key type invalid!")}};let s=r(62857),l=n(r(1132)),u=r(14647),c=r(54993),d=r(52757),p;l.onFullReady(()=>{(0,c.wrapModuleFunction)(d.getNumChatsPinned,(e,...t)=>{e=e(...t);return p?1:e})})},15610(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.setMultiDevice=function(e=!0){return e?n.Cmd.upgradeToMDProd():n.Cmd.downgradeWebclient(),!0};let n=r(14647)},52460(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.setTheme=async function(e){if(!Object.values(o.Theme).includes(e))throw new Error("Invalid theme value. Use Theme.LIGHT, Theme.DARK, or Theme.SYSTEM.");(0,n.setTheme)(e),setTimeout(()=>{window.location.reload()},500)};let n=r(90167),o=r(37200)},72927(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),r(58293),r(51369),o(r(60397),t),o(r(14282),t)},51369(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});let s=n(r(1132)),l=r(14647);s.onInjected(()=>{l.IsOfficialClient.isOfficialClient=!0})},14282(e,t){Object.defineProperty(t,"__esModule",{value:!0})},93037(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.get=async function(e){e=(0,n.assertWid)(e);return o.ContactStore.get(e)};let n=r(41687),o=r(14647)},49738(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getBusinessProfile=async function(e){e=(0,n.assertWid)(e);return o.BusinessProfileStore.fetchBizProfile(e)};let n=r(41687),o=r(14647)},81676(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getCommonGroups=async function(e){e=n.ContactStore.get(e);return e?(await n.functions.findCommonGroups(e)).getModelsArray().map(e=>e.id):[]};let n=r(14647)},22316(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidWidForGetPnLidEntry=void 0,t.getPnLidEntry=async function(e){var t=(0,i.assertWid)(e);let r,n,o;if("c.us"!==t.server&&"lid"!==t.server)throw new c(t);if(t.isLid())r=t,n=s.lidPnCache.getPhoneNumber(t)||void 0;else if("c.us"===t.server)if(n=t,r=s.lidPnCache.getCurrentLid(t)||void 0)u("LID found in cache: "+r.toString());else{u(`LID not found in cache for ${t.toString()}, querying server...`);let e=await(0,l.queryExists)(t);null!=e&&e.lid?(r=e.lid,u("LID retrieved from server: "+r.toString())):u("No LID returned from server for "+t.toString())}e=s.ContactStore.get(r||n||t),e&&(o={name:e.name,shortName:e.shortName,pushname:e.pushname,type:e.type,verifiedName:e.verifiedName,isBusiness:e.isBusiness,isEnterprise:e.isEnterprise,syncToAddressbook:e.syncToAddressbook,isContactSyncCompleted:e.isContactSyncCompleted}),e={lid:r?{id:r.user,server:r.server,_serialized:r.toString()}:void 0,phoneNumber:n?{id:n.user,server:n.server,_serialized:n.toString()}:void 0,contact:o};return u("getPnLidEntry result for "+t.toString(),e),e};let o=n(r(17833)),i=r(41687),a=r(62857),s=r(14647),l=r(53141),u=(0,o.default)("WA-JS:contact:getPnLidEntry");class c extends a.WPPError{constructor(e){super("invalid_wid",`Invalid WID value for ${e} - getPnLidEntry only supports @c.us and @lid.`),this.id=e}}t.InvalidWidForGetPnLidEntry=c},73871(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getProfilePictureUrl=async function(e,t=!0){e=(0,n.assertWid)(e),e=await o.ProfilePicThumbStore.find(e);if(e)return t?e.imgFull:e.img};let n=r(41687),o=r(14647)},23199(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getStatus=async function(e){e=(0,n.assertWid)(e);return await(0,i.queryExists)(e)&&(await o.StatusStore.find(e)).status||null};let n=r(41687),o=r(14647),i=r(53141)},20941(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.unsubscribePresence=t.subscribePresence=t.save=t.reportContact=t.remove=t.queryExists=t.list=t.getStatus=t.getProfilePictureUrl=t.InvalidWidForGetPnLidEntry=t.getPnLidEntry=t.getCommonGroups=t.getBusinessProfile=t.get=void 0;var n=r(93037),o=(Object.defineProperty(t,"get",{enumerable:!0,get:function(){return n.get}}),r(49738)),i=(Object.defineProperty(t,"getBusinessProfile",{enumerable:!0,get:function(){return o.getBusinessProfile}}),r(81676)),a=(Object.defineProperty(t,"getCommonGroups",{enumerable:!0,get:function(){return i.getCommonGroups}}),r(22316)),s=(Object.defineProperty(t,"getPnLidEntry",{enumerable:!0,get:function(){return a.getPnLidEntry}}),Object.defineProperty(t,"InvalidWidForGetPnLidEntry",{enumerable:!0,get:function(){return a.InvalidWidForGetPnLidEntry}}),r(73871)),l=(Object.defineProperty(t,"getProfilePictureUrl",{enumerable:!0,get:function(){return s.getProfilePictureUrl}}),r(23199)),u=(Object.defineProperty(t,"getStatus",{enumerable:!0,get:function(){return l.getStatus}}),r(62041)),c=(Object.defineProperty(t,"list",{enumerable:!0,get:function(){return u.list}}),r(53141)),d=(Object.defineProperty(t,"queryExists",{enumerable:!0,get:function(){return c.queryExists}}),r(75513)),p=(Object.defineProperty(t,"remove",{enumerable:!0,get:function(){return d.remove}}),r(46683)),f=(Object.defineProperty(t,"reportContact",{enumerable:!0,get:function(){return p.reportContact}}),r(88900)),g=(Object.defineProperty(t,"save",{enumerable:!0,get:function(){return f.save}}),r(316)),m=(Object.defineProperty(t,"subscribePresence",{enumerable:!0,get:function(){return g.subscribePresence}}),r(17485));Object.defineProperty(t,"unsubscribePresence",{enumerable:!0,get:function(){return m.unsubscribePresence}})},62041(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.list=async function(e={}){let r=n.ContactStore.getModelsArray().slice();if(e.onlyMyContacts&&(r=r.filter(e=>e.isMyContact)),e.withLabels){let t=e.withLabels.map(t=>{var e=n.LabelStore.findFirst(e=>e.name===t);return e?e.id:t});r=r.filter(e=>{return null==(e=e.labels)?void 0:e.some(e=>t.includes(e))})}return r};let n=r(14647)},53141(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.queryExists=async function(e){let t,r,n,o,i,a=(0,c.assertWid)(e),s="+"+a.toString();if(g.has(s))return g.get(s);var l=new p.USyncUser,e=new p.USyncQuery;if(a.isLid())l.withId(a);else if(e.withContactProtocol(),l.withPhone(s.replace("@c.us","")),a.isUser()){let e=p.ApiContact.getCurrentLid((0,d.createWid)(s.replace("+","")));e&&l.withLid(e)}e.withUser(l).withBusinessProtocol().withDisappearingModeProtocol().withStatusProtocol().withLidProtocol();l=await e.execute();let u=null;if((null!=(t=null==l?void 0:l.error)&&t.all||null!=(r=null==l?void 0:l.error)&&r.contact)&&(u=null),Array.isArray(l.list))if("out"===(null==(n=null==(u=l.list[0])?void 0:u.contact)?void 0:n.type))u=null;else{let e=null==u?void 0:u.lid;(u={wid:u.id,biz:void 0!==u.business,bizInfo:u.business,disappearingMode:void 0!==u.disappearing_mode?{duration:null==(o=u.disappearing_mode)?void 0:o.duration,settingTimestamp:null==(i=u.disappearing_mode)?void 0:i.t}:void 0,status:u.status,lid:e?(0,d.createWid)(e):void 0}).lid&&a.isUser()&&!a.isLid()&&await f.createLidPnMappings({mappings:[{lid:u.lid,pn:u.wid}],flushImmediately:!0,learningSource:"usync"})}else u=null;return g.set(s,u),setTimeout(()=>{g.delete(s)},u?3e5:15e3),u};let c=r(41687),d=r(13257),p=r(14647),f=n(r(74942)),g=new Map},75513(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.remove=async function(e){e=(0,n.assertWid)(e);var t=await(0,s.get)(e);if(!t)throw new i.WPPError("contact_not_found","Contact not found");if((0,a.getIsMyContact)(t))return(0,o.isWhatsAppVersionGTE)("2.3000.1030110621")?e.isLid()?(t=t.username,await(0,a.deleteContactActionV2)({lid:e.toString(),username:t})):await(0,a.deleteContactActionV2)({phoneNumber:e}):await(0,a.deleteContactAction)(e.user),(0,s.get)(e);throw new i.WPPError("number_is_not_your_contact",`The number ${e._serialized} is not your contact`)};let n=r(41687),o=r(60397),i=r(62857),a=r(52757),s=r(93037)},46683(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.reportContact=async function(e,t="ChatInfoReport",r){var e=(0,s.assertWid)(e),n=l.ChatStore.get(e)||new l.ChatModel({id:e}),n=await u.reportSpam(n,t,r);return{wid:e,reportId:null==(t=n.reportIdMixin)?void 0:t.reportId,errorCode:n.errorCode,errorText:n.errorText}};let s=r(41687),l=r(14647),u=n(r(52757))},88900(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.save=async function(e,t,r){var n;if(!e||!t)throw new u.WPPError("send_the_required_fields","Please, send the contact id like <number@c.us> and the name for your contact");null!=r&&r.syncAdressBook;var o=(0,s.assertWid)(e),i=c.ApiContact.getAlternateUserWid(o),a=o.isLid()?o.user:null!=i&&i.isLid()?i.user:null,o="c.us"===o.server?o.user:"c.us"===i.server?i.user:null,i=null==(i=null!=(i=null==r?void 0:r.syncAddressBook)?i:null==r?void 0:r.syncAdressBook)||i,r=null!=(n=null!=(n=null==r?void 0:r.lastName)?n:null==r?void 0:r.surname)?n:"";if((0,l.isWhatsAppVersionGTE)("2.3000.1030209354"))await(0,d.saveContactActionV2)({phoneNumber:o,prevPhoneNumber:null,lid:a,username:null,firstName:t,lastName:r,syncToAddressbook:i});else{if(!o)throw new u.WPPError("invalid_contact_id_for_legacy_version","For WhatsApp versions below 2.3000.1030209354, only phone number contacts are supported");await(0,d.saveContactAction)(o,null,null,null,t,r,i)}return(0,p.get)(e)};let s=r(41687),l=r(60397),u=r(62857),c=r(14647),d=r(52757),p=r(93037)},316(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.subscribePresence=async function(e){var t,r=[];for(t of e=Array.isArray(e)?e:[e])try{let e=n.WidFactory.createWid(t);if(await(0,o.subscribePresence)(e),n.PresenceStore.get(e)){r.push(e);continue}await n.PresenceStore.find(e),r.push(e)}catch(e){}return r};let n=r(14647),o=r(52757)},17485(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.unsubscribePresence=async function(e){var r,n=[];for(r of e=Array.isArray(e)?e:[e]){let e=o.WidFactory.createWid(r),t=o.PresenceStore.get(e);t&&t.delete(),n.push(e)}return n};let o=r(14647)},56191(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),r(54409),o(r(20941),t)},54409(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});let s=n(r(1132)),l=r(14647);s.onInjected(function(){var t,r={isMyContact:l.functions.getIsMyContact,mentionName:l.functions.getMentionName,notifyName:l.functions.getNotifyName,pnForLid:l.functions.getPnForLid,displayNameOrPnForLid:l.functions.getDisplayNameOrPnForLid,formattedPhone:l.functions.getFormattedPhone,userid:l.functions.getUserid,userhash:l.functions.getUserhash,searchName:l.functions.getSearchName,searchVerifiedName:l.functions.getSearchVerifiedName,header:l.functions.getHeader,isMe:l.functions.getIsMe,isUser:e=>()=>e.id.isUser(),isGroup:e=>()=>e.id.isGroup(),isBroadcast:e=>()=>e.id.isBroadcast(),isPSA:e=>()=>e.id.isPSA(),isIAS:l.functions.getIsIAS,isSupportAccount:l.functions.getIsSupportAccount,formattedShortNameWithNonBreakingSpaces:l.functions.getFormattedShortNameWithNonBreakingSpaces,formattedShortName:l.functions.getFormattedShortName,formattedName:l.functions.getFormattedName,formattedUser:l.functions.getFormattedUser,isWAContact:l.functions.getIsWAContact,canRequestPhoneNumber:l.functions.getCanRequestPhoneNumber,showBusinessCheckmarkAsPrimary:l.functions.getShowBusinessCheckmarkAsPrimary,showBusinessCheckmarkAsSecondary:l.functions.getShowBusinessCheckmarkAsSecondary,showBusinessCheckmarkInChatlist:l.functions.getShowBusinessCheckmarkInChatlist,isDisplayNameApproved:l.functions.getIsDisplayNameApproved,shouldForceBusinessUpdate:l.functions.getShouldForceBusinessUpdate};for(t in r){let e=r[t];void 0===l.ContactModel.prototype[t]&&Object.defineProperty(l.ContactModel.prototype,t,{get:function(){return e(this)},configurable:!0})}})},80687(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});let s=r(91491),l=n(r(1132));l.onInjected(()=>{if(s.config.deviceName){var t=l.search(e=>e.default.info&&e.default.hardRefresh);if(t){let e=t.default.info();e.os=s.config.deviceName,e.version=void 0,e.name=void 0,e.ua=void 0,t.default.info=()=>e}}})},83734(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.PrivacyDisallowedListType=t.TextFontStyle=void 0,t.TextFontStyle={SANS_SERIF:0,0:"SANS_SERIF",SERIF:1,1:"SERIF",NORICAN_REGULAR:2,2:"NORICAN_REGULAR",BRYNDAN_WRITE:3,3:"BRYNDAN_WRITE",BEBASNEUE_REGULAR:4,4:"BEBASNEUE_REGULAR",OSWALD_HEAVY:5,5:"OSWALD_HEAVY"},t.PrivacyDisallowedListType={About:"status",GroupAdd:"groupadd",LastSeen:"last",ProfilePicture:"profile"}},78601(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});r=r(53011);t.EventEmitter=r.EventEmitter2},11426(e,t){Object.defineProperty(t,"__esModule",{value:!0})},13691(e,r,t){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.waitFor=r.stopListeningTo=r.setMaxListeners=r.removeListener=r.removeAllListeners=r.prependOnceListener=r.prependMany=r.prependListener=r.prependAny=r.once=r.onAny=r.on=r.offAny=r.off=r.many=r.listenersAny=r.listeners=r.listenerCount=r.listenTo=r.hasListeners=r.getMaxListeners=r.eventNames=r.emitAsync=r.emit=r.addListener=r.EventEmitter=r.ev=r.internalEv=void 0;let a=i(t(17833)),s=t(78601),l=(Object.defineProperty(r,"EventEmitter",{enumerable:!0,get:function(){return s.EventEmitter}}),o(t(11426),r),(0,a.default)("WA-JS:event"));r.internalEv=new s.EventEmitter({maxListeners:1/0}),r.ev=new s.EventEmitter({maxListeners:1/0}),r.internalEv.onAny((e,...t)=>{r.ev.emit(e,...t),l.enabled&&l(e,...t)}),r.addListener=r.ev.addListener.bind(r.ev),r.emit=r.ev.emit.bind(r.ev),r.emitAsync=r.ev.emitAsync.bind(r.ev),r.eventNames=r.ev.eventNames.bind(r.ev),r.getMaxListeners=r.ev.getMaxListeners.bind(r.ev),r.hasListeners=r.ev.hasListeners.bind(r.ev),r.listenTo=r.ev.listenTo.bind(r.ev),r.listenerCount=r.ev.listenerCount.bind(r.ev),r.listeners=r.ev.listeners.bind(r.ev),r.listenersAny=r.ev.listenersAny.bind(r.ev),r.many=r.ev.many.bind(r.ev),r.off=r.ev.off.bind(r.ev),r.offAny=r.ev.offAny.bind(r.ev),r.on=r.ev.on.bind(r.ev),r.onAny=r.ev.onAny.bind(r.ev),r.once=r.ev.once.bind(r.ev),r.prependAny=r.ev.prependAny.bind(r.ev),r.prependListener=r.ev.prependListener.bind(r.ev),r.prependMany=r.ev.prependMany.bind(r.ev),r.prependOnceListener=r.ev.prependOnceListener.bind(r.ev),r.removeAllListeners=r.ev.removeAllListeners.bind(r.ev),r.removeListener=r.ev.removeListener.bind(r.ev),r.setMaxListeners=r.ev.setMaxListeners.bind(r.ev),r.stopListeningTo=r.ev.stopListeningTo.bind(r.ev),r.waitFor=r.ev.waitFor.bind(r.ev)},86288(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),r(39893)},39893(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});let s=r(13691),l=n(r(1132)),u=r(54993),c=r(52757);l.onFullReady(function(){let i=["add","remove","demote","promote"];(0,u.wrapModuleFunction)(c.updateDBForGroupAction,(e,...t)=>{let[r,n]=t,o=n.actionType||n.action;return i.includes(o)&&queueMicrotask(()=>{var e,t=n.participants.map(e=>"id"in e?e.id:e);"add"!==o||!n.isInvite&&"invite"!==n.reason?"remove"===o&&t.some(e=>e.equals(r.author))&&(o="leave"):o="join",s.internalEv.emit("group.participant_changed",{author:null==(e=r.author)?void 0:e.toString(),authorPushName:r.pushname,groupId:r.chatId.toString(),action:o,operation:n.actionType||n.action,participants:t.map(e=>e.toString())})}),e(...t)})})},7103(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.addParticipants=async function(e,t){var{groupChat:r,participants:n}=await(0,u.ensureGroupAndParticipants)(e,t,!0),o=(0,i.compare)(self.Debug.VERSION,"2.2320.0",">=")?null!=(o=r.groupMetadata)&&o.isLidAddressingMode?n.map(e=>({phoneNumber:e.id,lid:l.functions.getCurrentLid(e.id)})):n.map(e=>({phoneNumber:e.id})):null!=(o=r.groupMetadata)&&o.isLidAddressingMode?n.map(e=>l.functions.getCurrentLid(e.id)):n.map(e=>e.id),n=await l.functions.sendAddParticipants(r.id,o);if(400<=n.status)throw new s.WPPError("group_add_participant_error","Failed to add participants to the group",{groupId:e,participantsIds:t});var a={};for(let i of n.participants||[]){let t=null,r=null,n=null,o=null;if("userWid"in i)t=i.userWid.toString(),r=i.code,n=i.invite_code,o=i.invite_code_exp;else{t=Object.keys(i)[0];let e=i[t];r=e.code,n=e.invite_code,o=e.invite_code_exp}if("403"!==r)try{l.ContactStore.gadd((0,s.createWid)(t),{silent:!0})}catch(e){}a[t]={wid:t,code:Number(r),message:c[Number(r)]||"Can't Join., unknown error",invite_code:n,invite_code_exp:Number(o)||null}}return a};let i=r(38385),s=r(62857),l=r(14647),u=r(97944),c={200:"OK",403:"Can't join this group because the number was restricted it.",409:"Can't join this group because the number is already a member of it.",421:"Member not added, awaiting approval!"}},57139(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.approve=async function(e,t){e=(0,n.assertWid)(e);var r=(t=Array.isArray(t)?t:[t]).map(n.assertWid);try{return await(0,i.membershipApprovalRequestAction)(e,r,"Approve")}catch(t){throw new o.WPPError("error_on_accept_membership_request","Error on accept member on group "+e.toString())}};let n=r(41687),o=r(62857),i=r(52757)},71637(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.canAdd=async function(e){return(await(0,n.ensureGroup)(e)).groupMetadata.participants.canAdd()};let n=r(2818)},976(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.canDemote=async function(e,t){let{groupChat:r,participants:n}=await(0,o.ensureGroupAndParticipants)(e,t);return n.every(e=>r.groupMetadata.participants.canDemote(e))};let o=r(2818)},88818(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.canPromote=async function(e,t){let{groupChat:r,participants:n}=await(0,o.ensureGroupAndParticipants)(e,t);return n.every(e=>r.groupMetadata.participants.canPromote(e))};let o=r(2818)},8932(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.canRemove=async function(e,t){let{groupChat:r,participants:n}=await(0,o.ensureGroupAndParticipants)(e,t);return n.every(e=>r.groupMetadata.participants.canRemove(e))};let o=r(2818)},20292(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.create=async function(e,t,r){let o,n=(t=Array.isArray(t)?t:[t]).map(l.assertWid),i=(0,c.getMyUserWid)(),a=[];for(let t of n)if(!i.equals(t)){let e=f.ContactStore.get(t);if(e)a.push(e.id);else{let e=await d.queryExists(t);if(!e)throw new p.WPPError("participant_not_exists","Participant not exists",{id:t});i.equals(e.wid)||a.push(e.wid)}}t=r?(0,l.assertWid)(r):void 0,r=await g.sendCreateGroup(e,a,void 0,t);if(r.gid){let n=await u.find(r.gid);!1!==(null==(o=n.groupMetadata)?void 0:o.stale)&&await new Promise(r=>{n.on("change:groupMetadata.stale",function e(){var t;!1===(null==(t=n.groupMetadata)?void 0:t.stale)&&(r(),n.off("change:groupMetadata.stale",e))})})}var s={};for(let i of r.participants||[]){let t=null,r=null,n=null,o=null;if("userWid"in i)t=i.userWid.toString(),r=i.code,n=i.invite_code,o=i.invite_code_exp;else{t=Object.keys(i)[0];let e=i[t];r=e.code,n=e.invite_code,o=e.invite_code_exp}s[t]={wid:t,code:Number(r),invite_code:n,invite_code_exp:Number(o)||null}}return{gid:r.gid,participants:s}};let l=r(41687),u=n(r(74023)),c=r(21942),d=n(r(56191)),p=r(62857),f=r(14647),g=n(r(52757))},42490(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.demoteParticipants=async function(e,t){let{groupChat:r,participants:n}=await(0,u.ensureGroupAndParticipants)(e,t);if(n.some(e=>{var t;return!(null!=(t=r.groupMetadata)&&t.participants.canDemote(e))}))throw new s.WPPError("group_participant_is_already_not_a_group_admin",`Group ${r.id._serialized}: Group participant is already not a group admin`);return l.demoteParticipants(r,n)};let s=r(62857),l=n(r(52757)),u=r(97944)},23527(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ensureGroup=async function(e,t=!1){e=(0,n.assertGetChat)(e);if(!e.id.isGroup())throw new o.WPPError("not_a_group",`Chat ${e.id._serialized} is not a group`);var r=await i.GroupMetadataStore.find(e.id);if(t&&!r.participants.iAmAdmin()&&"all_member_add"!==r.memberAddMode)throw new o.WPPError("group_you_are_not_admin","You are not admin in "+e.id._serialized);return e};let n=r(41687),o=r(62857),i=r(14647)},97944(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ensureGroupAndParticipants=async function(e,t,n=!1){let o=await(0,l.ensureGroup)(e,!0);e=(t=Array.isArray(t)?t:[t]).map(i.assertWid).map(e=>{let t,r=null==(t=o.groupMetadata)?void 0:t.participants.get(e);if(r=!r&&n?new s.ParticipantModel({id:e}):r)return r;throw new a.WPPError("group_participant_not_found",`Group ${o.id._serialized}: Participant '${r}' not found`)});return{groupChat:o,participants:e}};let i=r(41687),a=r(62857),s=r(14647),l=r(2818)},26219(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getAllGroups=async function(){var e,t=[];for(e of await(0,o.queryAllGroups)())t.push((0,n.get)(e.id));return t};let n=r(74023),o=r(52757)},45195(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getGroupInfoFromInviteCode=async function(e){e=(e=(e=(e=e.replace("chat.whatsapp.com/","")).replace("invite/","")).replace("https://","")).replace("http://","");var t,r=null==(r=await(0,o.sendQueryGroupInvite)(e).catch(()=>null))?void 0:r.groupInfo;if(r)return Object.assign(Object.assign({},r),{descOwner:null==(t=r.descOwner)?void 0:t.toString(),id:r.id.toString(),owner:null==(t=r.owner)?void 0:t.toString(),participants:r.participants.map(e=>Object.assign(Object.assign({},e),{id:e.id.toString()})),subjectOwner:null==(t=r.subjectOwner)?void 0:t.toString()});throw new n.WPPError("invalid_invite_code","Invalid Invite Code",{inviteCode:e})};let n=r(62857),o=r(52757)},98083(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getGroupSizeLimit=async function(){return n.functions.getGroupSizeLimit()};let n=r(14647)},55062(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getInviteCode=async function(e){e=await(0,o.ensureGroup)(e,!0);return(0,n.sendQueryGroupInviteCode)(e.id)};let n=r(52757),o=r(2818)},4752(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getMembershipRequests=async function(e){return e=(0,n.assertWid)(e),await o.GroupMetadataStore.find(e),(0,i.getMembershipApprovalRequests)(e)};let n=r(41687),o=r(14647),i=r(52757)},35528(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getParticipants=async function(e){return(await(0,n.ensureGroup)(e)).groupMetadata.participants.getModelsArray()};let n=r(2818)},21268(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getPastParticipants=async function(e){return(await(0,n.ensureGroup)(e)).groupMetadata.pastParticipants.getModelsArray()};let n=r(2818)},68780(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.iAmAdmin=async function(e){return(await(0,n.ensureGroup)(e)).groupMetadata.participants.iAmAdmin()};let n=r(2818)},60641(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.iAmMember=async function(e){return(await(0,n.ensureGroup)(e)).groupMetadata.participants.iAmMember()};let n=r(2818)},81484(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.iAmRestrictedMember=async function(e){return(await(0,n.ensureGroup)(e)).groupMetadata.participants.iAmRestrictedMember()};let n=r(2818)},94173(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.iAmSuperAdmin=async function(e){return(await(0,n.ensureGroup)(e)).groupMetadata.participants.iAmMember()};let n=r(2818)},2818(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.setSubject=t.setProperty=t.GroupProperty=t.setIcon=t.setDescription=t.revokeInviteCode=t.removeParticipants=t.removeIcon=t.reject=t.promoteParticipants=t.leave=t.join=t.iAmSuperAdmin=t.iAmRestrictedMember=t.iAmMember=t.iAmAdmin=t.getPastParticipants=t.getParticipants=t.getMembershipRequests=t.getInviteCode=t.getGroupSizeLimit=t.getGroupInfoFromInviteCode=t.getAllGroups=t.ensureGroupAndParticipants=t.ensureGroup=t.demoteParticipants=t.create=t.canRemove=t.canPromote=t.canDemote=t.canAdd=t.approve=t.addParticipants=void 0;var n=r(7103),o=(Object.defineProperty(t,"addParticipants",{enumerable:!0,get:function(){return n.addParticipants}}),r(57139)),i=(Object.defineProperty(t,"approve",{enumerable:!0,get:function(){return o.approve}}),r(71637)),a=(Object.defineProperty(t,"canAdd",{enumerable:!0,get:function(){return i.canAdd}}),r(976)),s=(Object.defineProperty(t,"canDemote",{enumerable:!0,get:function(){return a.canDemote}}),r(88818)),l=(Object.defineProperty(t,"canPromote",{enumerable:!0,get:function(){return s.canPromote}}),r(8932)),u=(Object.defineProperty(t,"canRemove",{enumerable:!0,get:function(){return l.canRemove}}),r(20292)),c=(Object.defineProperty(t,"create",{enumerable:!0,get:function(){return u.create}}),r(42490)),d=(Object.defineProperty(t,"demoteParticipants",{enumerable:!0,get:function(){return c.demoteParticipants}}),r(23527)),p=(Object.defineProperty(t,"ensureGroup",{enumerable:!0,get:function(){return d.ensureGroup}}),r(97944)),f=(Object.defineProperty(t,"ensureGroupAndParticipants",{enumerable:!0,get:function(){return p.ensureGroupAndParticipants}}),r(26219)),g=(Object.defineProperty(t,"getAllGroups",{enumerable:!0,get:function(){return f.getAllGroups}}),r(45195)),m=(Object.defineProperty(t,"getGroupInfoFromInviteCode",{enumerable:!0,get:function(){return g.getGroupInfoFromInviteCode}}),r(98083)),y=(Object.defineProperty(t,"getGroupSizeLimit",{enumerable:!0,get:function(){return m.getGroupSizeLimit}}),r(55062)),h=(Object.defineProperty(t,"getInviteCode",{enumerable:!0,get:function(){return y.getInviteCode}}),r(4752)),b=(Object.defineProperty(t,"getMembershipRequests",{enumerable:!0,get:function(){return h.getMembershipRequests}}),r(35528)),v=(Object.defineProperty(t,"getParticipants",{enumerable:!0,get:function(){return b.getParticipants}}),r(21268)),_=(Object.defineProperty(t,"getPastParticipants",{enumerable:!0,get:function(){return v.getPastParticipants}}),r(68780)),M=(Object.defineProperty(t,"iAmAdmin",{enumerable:!0,get:function(){return _.iAmAdmin}}),r(60641)),P=(Object.defineProperty(t,"iAmMember",{enumerable:!0,get:function(){return M.iAmMember}}),r(81484)),w=(Object.defineProperty(t,"iAmRestrictedMember",{enumerable:!0,get:function(){return P.iAmRestrictedMember}}),r(94173)),O=(Object.defineProperty(t,"iAmSuperAdmin",{enumerable:!0,get:function(){return w.iAmSuperAdmin}}),r(84784)),j=(Object.defineProperty(t,"join",{enumerable:!0,get:function(){return O.join}}),r(3329)),S=(Object.defineProperty(t,"leave",{enumerable:!0,get:function(){return j.leave}}),r(10964)),C=(Object.defineProperty(t,"promoteParticipants",{enumerable:!0,get:function(){return S.promoteParticipants}}),r(28703)),x=(Object.defineProperty(t,"reject",{enumerable:!0,get:function(){return C.reject}}),r(34697)),A=(Object.defineProperty(t,"removeIcon",{enumerable:!0,get:function(){return x.removeIcon}}),r(84054)),I=(Object.defineProperty(t,"removeParticipants",{enumerable:!0,get:function(){return A.removeParticipants}}),r(43930)),T=(Object.defineProperty(t,"revokeInviteCode",{enumerable:!0,get:function(){return I.revokeInviteCode}}),r(29166)),E=(Object.defineProperty(t,"setDescription",{enumerable:!0,get:function(){return T.setDescription}}),r(99403)),B=(Object.defineProperty(t,"setIcon",{enumerable:!0,get:function(){return E.setIcon}}),r(76131)),k=(Object.defineProperty(t,"GroupProperty",{enumerable:!0,get:function(){return B.GroupProperty}}),Object.defineProperty(t,"setProperty",{enumerable:!0,get:function(){return B.setProperty}}),r(36520));Object.defineProperty(t,"setSubject",{enumerable:!0,get:function(){return k.setSubject}})},84784(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.join=async function(e){return e=(e=(e=(e=e.replace("chat.whatsapp.com/","")).replace("invite/","")).replace("https://","")).replace("http://",""),{id:(await(0,n.sendJoinGroupViaInvite)(e)).toString()}};let n=r(52757)},3329(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.leave=async function(e){e=await(0,o.ensureGroup)(e);return(0,n.sendExitGroup)(e)};let n=r(52757),o=r(2818)},10964(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.promoteParticipants=async function(e,t){let{groupChat:r,participants:n}=await(0,u.ensureGroupAndParticipants)(e,t);if(n.some(e=>{var t;return!(null!=(t=r.groupMetadata)&&t.participants.canPromote(e))}))throw new s.WPPError("group_participant_is_already_a_group_admin",`Group ${r.id._serialized}: Group participant is already a group admin`);return l.promoteParticipants(r,n)};let s=r(62857),l=n(r(52757)),u=r(97944)},28703(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.reject=async function(e,t){e=(0,n.assertWid)(e);var r=(t=Array.isArray(t)?t:[t]).map(n.assertWid);try{return await(0,i.membershipApprovalRequestAction)(e,r,"Reject")}catch(t){throw new o.WPPError("error_on_reject_membership_request","Error on reject member on group "+e.toString())}};let n=r(41687),o=r(62857),i=r(52757)},34697(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.removeIcon=async function(e){e=await(0,o.ensureGroup)(e);return 200===(await n.functions.requestDeletePicture(e.id)).status};let n=r(14647),o=r(2818)},84054(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.removeParticipants=async function(e,t){Array.isArray(t)||(t=[t]);let r=await(0,c.ensureGroup)(e,!0),n=[];if(t.map(s.assertWid).map(e=>{var t;null!=(t=r.groupMetadata)&&t.participants.get(e)&&n.push(e)}),0===n.length)throw new l.WPPError("not_valid_group_participants","No valid participants found for the group "+e);t=(await(0,d.ensureGroupAndParticipants)(e,n)).participants;if(t.some(e=>{var t;return!(null!=(t=r.groupMetadata)&&t.participants.canRemove(e))}))throw new l.WPPError("group_participant_is_not_a_group_member",`Group ${r.id._serialized}: Group participant is not a group member`);return u.removeParticipants(r,t)};let s=r(41687),l=r(62857),u=n(r(52757)),c=r(23527),d=r(97944)},43930(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.revokeInviteCode=async function(e){e=await(0,o.ensureGroup)(e,!0);return(0,n.sendRevokeGroupInviteCode)(e.id)};let n=r(52757),o=r(2818)},29166(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.setDescription=async function(e,t){var r,n,e=await(0,a.ensureGroup)(e);if(null!=(n=e.groupMetadata)&&n.canSetDescription())return n=await Promise.resolve((0,i.randomMessageId)()),await(0,i.sendSetGroupDescription)(e.id,t,n,null==(r=e.groupMetadata)?void 0:r.descId),e.groupMetadata.descId=n,e.groupMetadata.desc=t,!0;throw new o.WPPError("you_are_not_allowed_set_group_description","You are not allowed to set group description in "+e.id._serialized,{groupId:e.id.toString()})};let o=r(62857),i=r(52757),a=r(2818)},99403(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.setIcon=async function(e,t){var r=await(0,i.ensureGroup)(e);if(await(0,i.iAmRestrictedMember)(e))throw new n.WPPError("group_you_are_restricted_member","You are a restricted member in "+r.id._serialized);e=await(0,n.convertToFile)(t),t=await(0,n.resizeImage)(e,{width:96,height:96,mimeType:"image/jpeg",resize:"cover"}),e=await(0,n.resizeImage)(e,{width:640,height:640,mimeType:"image/jpeg",resize:"cover"}),t=await(0,n.blobToBase64)(t),e=await(0,n.blobToBase64)(e);return(0,o.sendSetPicture)(r.id,t,e)};let n=r(62857),o=r(52757),i=r(2818)},76131(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.GroupProperty=void 0,t.setProperty=async function(e,t,r){var n,e=await(0,a.ensureGroup)(e);if(t!==s.ANNOUNCEMENT&&(null==(n=e.groupMetadata)||!n.canSetGroupProperty()))throw new o.WPPError("you_are_not_allowed_set_group_property","You are not allowed to set property in "+e.id._serialized,{groupId:e.id.toString()});if(t==s.ANNOUNCEMENT&&(null==(n=e.groupMetadata)||!n.canSetEphemeralSetting()))throw new o.WPPError("you_are_not_allowed_set_ephemeral_setting","You are not allowed to set ephemeral setting in "+e.id._serialized,{groupId:e.id.toString()});if(t===s.EPHEMERAL){if(![0,86400,604800,7776e3].includes(r="boolean"!=typeof r&&1!==r?r:604800))throw new o.WPPError("invalid_ephemeral_duration","Invalid ephemeral duration",{value:r})}else r=r?1:0;return await(0,i.sendSetGroupProperty)(e.id,t,r),!0};let o=r(62857),i=r(52757),a=r(2818);var s;(r=s||(t.GroupProperty=s={})).ANNOUNCEMENT="announcement",r.EPHEMERAL="ephemeral",r.RESTRICT="restrict"},36520(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.setSubject=async function(e,t){var r,e=await(0,i.ensureGroup)(e);if(null!=(r=e.groupMetadata)&&r.canSetSubject())return await(0,o.sendSetGroupSubject)(e.id,t),e.name=t,e.formattedTitle=t,!0;throw new n.WPPError("you_are_not_allowed_set_group_subject","You are not allowed to set group subject in "+e.id._serialized,{groupId:e.id.toString()})};let n=r(62857),o=r(52757),i=r(2818)},64456(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),r(86288),o(r(2818),t)},26738(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;0<=s;s--)(o=e[s])&&(a=(i<3?o(a):3<i?o(t,r,a):o(t,r))||a);return 3<i&&a&&Object.defineProperty(t,r,a),a},r=(Object.defineProperty(t,"__esModule",{value:!0}),t.Tracker=void 0,r(20748));function o(e=0,t=2147483647){return Math.floor(Math.random()*(t-e+1)+e)}class i{static get clientState(){var e=!localStorage.cid,t=localStorage.cid||sessionStorage.cid||o(1e9)+"."+Math.floor(Date.now()/1e3);return{firstVisit:e,cid:localStorage.cid=sessionStorage.cid=t}}constructor(e){this.trackingId=e,this.events=[],this.userProperties={},this.lastTime=Date.now(),this.hitsCount=1,this.documentTitle=""}get sid(){var e=this.trackingId+"_sid",t=sessionStorage[e]||Math.floor(Date.now()/1e3);return sessionStorage[e]=t}get sct(){var e=this.trackingId+"_sct";let t=parseInt(localStorage[e]);return isNaN(t)&&(t=0),localStorage[e]=t+1,localStorage[e]}getHeader(){var{cid:e,firstVisit:t}=i.clientState;return{v:2,tid:this.trackingId,_p:i.pageLoadHash,cid:e,_fv:t?1:void 0,ul:(navigator.language||"").toLowerCase()||void 0,sr:screen.width+"x"+screen.height,_s:this.hitsCount++,sid:this.sid,sct:this.sct,seg:1,dl:location.href,dr:document.referrer,dt:this.documentTitle||document.title}}getUserProperties(){var e=this.userProperties;return this.userProperties={},Object.entries(e).filter(([,e])=>void 0!==e).map(([e,t])=>"number"==typeof t?["upn."+e,String(t)]:["up."+e,String(t)])}processEvents(){let t=this.events;if(this.events=[],t.length){let r=t.map(([e,r,t])=>{var n=[];if(n.push(["en",e]),n.push(["_ee","1"]),r)for(let t in r){let e=r[t];void 0!==e&&("number"==typeof e?n.push(["epn."+t,String(e)]):n.push(["ep."+t,String(e)]))}return n.push(["_et",String(t)]),n}),e=Object.entries(this.getHeader()).filter(([,e])=>void 0!==e).map(([e,t])=>[e,String(t)]);e.push(...this.getUserProperties());var n=new URLSearchParams(e);if(1===r.length){for(let[e,t]of r[0])n.append(e,t);navigator.sendBeacon(i.collectURL+"?"+n.toString())}else{let e=r.map(e=>new URLSearchParams(e).toString());navigator.sendBeacon(i.collectURL+"?"+n.toString(),e.join("\n"))}}}processUserEngagement(){this.trackEvent("user_engagement")}trackEvent(e,t){var r=Date.now(),n=r-this.lastTime;this.lastTime=r,this.events.push([e,t,n]),this.processEvents(),this.processUserEngagement()}setUserProperty(e,t){this.userProperties[e]=t,this.trackEvent("user_engagement")}}(t.Tracker=i).collectURL="https://analytics.google.com/g/collect",i.pageLoadHash=o(),n([(0,r.debounce)(1e3)],i.prototype,"processEvents",null),n([(0,r.debounce)(3e5)],i.prototype,"processUserEngagement",null)},22418(e,r,t){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t}),s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.waVersion=void 0,r.trackException=function(e,t=!1){l.config.disableGoogleAnalytics||(f.trackEvent("exception",{description:e,fatal:t}),g&&g.trackEvent("exception",{description:e,fatal:t}))};let l=t(91491),u=n(t(72927)),c=t(13691),d=t(26738),p=(s(t(26738),r),r.waVersion="3.20.1",["W: ","-",", WA-JS: ",r.waVersion]),f=new d.Tracker("G-MTQ4KY110F"),g=l.config.googleAnalyticsId?new d.Tracker(l.config.googleAnalyticsId):null;c.internalEv.on("webpack.injected",()=>{let e=u.isAuthenticated(),t=u.isMultiDevice()?"multidevice":"legacy";if(l.config.disableGoogleAnalytics||(f.documentTitle=p.join(""),f.setUserProperty("method",t),f.setUserProperty("wa_js",r.waVersion),f.setUserProperty("powered_by",l.config.poweredBy||"-")),c.internalEv.on("conn.main_init",()=>{var e;p[1]=(null==(e=window.Debug)?void 0:e.VERSION)||"-",l.config.disableGoogleAnalytics||(f.documentTitle=p.join(""),f.setUserProperty("whatsapp",p[1]))}),g&&!l.config.disableGoogleAnalytics){if(f.trackEvent("page_view",{authenticated:e,method:t}),g.documentTitle=p.join("-"),g.setUserProperty("method",t),g.setUserProperty("wa_js",r.waVersion),g.setUserProperty("powered_by",l.config.poweredBy||"-"),c.internalEv.on("conn.main_init",()=>{var e;p[1]=(null==(e=window.Debug)?void 0:e.VERSION)||"-",g.documentTitle=p.join(""),g.setUserProperty("whatsapp",p[1])}),"object"==typeof l.config.googleAnalyticsUserProperty)for(let t in l.config.googleAnalyticsUserProperty){let e=l.config.googleAnalyticsUserProperty[t];g.setUserProperty(t,e)}g.trackEvent("page_view",{authenticated:e,method:t})}c.internalEv.on("config.update",e=>{if(!l.config.disableGoogleAnalytics)if("poweredBy"===e.path[0])f.setUserProperty("powered_by",e.value||"-"),g&&g.setUserProperty("powered_by",e.value||"-");else if("googleAnalyticsUserProperty"===e.path[0]&&g&&"object"==typeof l.config.googleAnalyticsUserProperty)for(let e in l.config.googleAnalyticsUserProperty){var t=l.config.googleAnalyticsUserProperty[e];g.setUserProperty(e,t)}})}),l.config.disableGoogleAnalytics||(c.internalEv.on("conn.authenticated",()=>{var e=u.isMultiDevice()?"multidevice":"legacy";f.trackEvent("login",{method:e}),g&&f.trackEvent("login",{method:e})}),c.internalEv.on("conn.logout",()=>{var e=u.isMultiDevice()?"multidevice":"legacy";f.trackEvent("logout",{method:e}),g&&g.trackEvent("logout",{method:e})}))},28156(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t}),s=(Object.defineProperty(t,"__esModule",{value:!0}),t.license=t.supportedWhatsappWeb=t.version=t.waitFor=t.stopListeningTo=t.setMaxListeners=t.removeListener=t.removeAllListeners=t.prependOnceListener=t.prependMany=t.prependListener=t.prependAny=t.once=t.onAny=t.on=t.offAny=t.off=t.many=t.listenersAny=t.listeners=t.listenerCount=t.listenTo=t.hasListeners=t.getMaxListeners=t.eventNames=t.emitAsync=t.emit=t.order=t.whatsapp=t.newsletter=t.util=t.status=t.profile=t.labels=t.group=t.community=t.ev=t.contact=t.conn=t.chat=t.catalog=t.privacy=t.cart=t.call=t.blocklist=t.config=t.isFullReady=t.isReady=t.isInjected=t.webpack=void 0,r(91491),r(80687),r(22418),n(r(1132))),l=(t.webpack=s,r(1132)),u=(Object.defineProperty(t,"isInjected",{enumerable:!0,get:function(){return l.isInjected}}),Object.defineProperty(t,"isReady",{enumerable:!0,get:function(){return l.isReady}}),Object.defineProperty(t,"isFullReady",{enumerable:!0,get:function(){return l.isFullReady}}),r(91491)),c=(Object.defineProperty(t,"config",{enumerable:!0,get:function(){return u.config}}),t.blocklist=n(r(61042)),t.call=n(r(38893)),t.cart=n(r(81151)),t.privacy=n(r(33599)),t.catalog=n(r(40164)),t.chat=n(r(74023)),t.conn=n(r(72927)),t.contact=n(r(56191)),t.ev=n(r(13691)),t.community=n(r(83874)),t.group=n(r(64456)),t.labels=n(r(26105)),t.profile=n(r(5882)),t.status=n(r(31167)),t.util=n(r(62857)),t.newsletter=n(r(74310)),t.whatsapp=n(r(14647)),t.order=n(r(37783)),r(13691));Object.defineProperty(t,"emit",{enumerable:!0,get:function(){return c.emit}}),Object.defineProperty(t,"emitAsync",{enumerable:!0,get:function(){return c.emitAsync}}),Object.defineProperty(t,"eventNames",{enumerable:!0,get:function(){return c.eventNames}}),Object.defineProperty(t,"getMaxListeners",{enumerable:!0,get:function(){return c.getMaxListeners}}),Object.defineProperty(t,"hasListeners",{enumerable:!0,get:function(){return c.hasListeners}}),Object.defineProperty(t,"listenTo",{enumerable:!0,get:function(){return c.listenTo}}),Object.defineProperty(t,"listenerCount",{enumerable:!0,get:function(){return c.listenerCount}}),Object.defineProperty(t,"listeners",{enumerable:!0,get:function(){return c.listeners}}),Object.defineProperty(t,"listenersAny",{enumerable:!0,get:function(){return c.listenersAny}}),Object.defineProperty(t,"many",{enumerable:!0,get:function(){return c.many}}),Object.defineProperty(t,"off",{enumerable:!0,get:function(){return c.off}}),Object.defineProperty(t,"offAny",{enumerable:!0,get:function(){return c.offAny}}),Object.defineProperty(t,"on",{enumerable:!0,get:function(){return c.on}}),Object.defineProperty(t,"onAny",{enumerable:!0,get:function(){return c.onAny}}),Object.defineProperty(t,"once",{enumerable:!0,get:function(){return c.once}}),Object.defineProperty(t,"prependAny",{enumerable:!0,get:function(){return c.prependAny}}),Object.defineProperty(t,"prependListener",{enumerable:!0,get:function(){return c.prependListener}}),Object.defineProperty(t,"prependMany",{enumerable:!0,get:function(){return c.prependMany}}),Object.defineProperty(t,"prependOnceListener",{enumerable:!0,get:function(){return c.prependOnceListener}}),Object.defineProperty(t,"removeAllListeners",{enumerable:!0,get:function(){return c.removeAllListeners}}),Object.defineProperty(t,"removeListener",{enumerable:!0,get:function(){return c.removeListener}}),Object.defineProperty(t,"setMaxListeners",{enumerable:!0,get:function(){return c.setMaxListeners}}),Object.defineProperty(t,"stopListeningTo",{enumerable:!0,get:function(){return c.stopListeningTo}}),Object.defineProperty(t,"waitFor",{enumerable:!0,get:function(){return c.waitFor}}),t.version="3.20.1",t.supportedWhatsappWeb=">=2.2326.10-beta",t.license="Apache-2.0",s.injectLoader()},4475(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.addNewLabel=async function(e,t={}){(0,n.assertIsBusiness)();let r=t.labelColor||void 0;if("string"==typeof(r=r||await(0,a.getNewLabelColor)())&&2<r.length&&(r=(0,i.getAllLabelColors)().findIndex(e=>e===r)),r=parseInt(r.toString()),await(0,a.colorIsInLabelPalette)(r))return t=await(0,i.getNextLabelId)(),await(0,i.labelAddAction)(e,r),(0,a.getLabelById)(t.toString());throw new o.WPPError("color_not_in_pallet","Color not in pallet")};let n=r(41687),o=r(62857),i=r(52757),a=r(62540)},3105(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.addOrRemoveLabels=async function(e,t){(0,n.assertIsBusiness)(),Array.isArray(e)||(e=[e]),Array.isArray(t)||(t=[t]);e=e.map(e=>(0,n.assertGetChat)(e)),t=t.map(e=>({id:e.labelId,type:e.type}));return o.LabelStore.addOrRemoveLabels(t,e)};let n=r(41687),o=r(14647)},9793(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.colorIsInLabelPalette=async function(e){(0,n.assertIsBusiness)();var t=await(0,o.getLabelColorPalette)();return t&&(t.includes(e.toString())||null!=t[parseInt(e.toString())])};let n=r(41687),o=r(62540)},90805(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.deleteAllLabels=async function(){(0,n.assertIsBusiness)();var e=await(0,o.getAllLabels)();return(0,o.deleteLabel)(e.map(e=>e.id))};let n=r(41687),o=r(62540)},50451(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.deleteLabel=async function(e){(0,n.assertIsBusiness)();let t=!1;Array.isArray(e)||(t=!0,e=[e]);var r=[];for(let t of e){let e=o.LabelStore.get(t.toString());e&&await(0,i.labelDeleteAction)(t.toString(),e.name,e.colorIndex),r.push({id:t,deleteLabelResult:null!=e&&null==o.LabelStore.get(t.toString())})}return t?r[0]:r};let n=r(41687),o=r(14647),i=r(52757)},40866(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.editLabel=async function(e,t={}){(0,o.assertIsBusiness)();var r=a.LabelStore.get(e.toString());if(!r)throw new i.WPPError("label_not_exist",`Label with id ${e} not exist`);let n=t.labelColor||void 0;if(n&&("string"==typeof n&&2<n.length&&(n=(0,s.getAllLabelColors)().findIndex(e=>e===n)),n=parseInt(n.toString()),!await(0,l.colorIsInLabelPalette)(n)))throw new i.WPPError("color_not_in_pallet","Color not in pallet");return await(0,s.labelEditAction)(e,t.name||r.name,0,n||r.colorIndex),(0,l.getLabelById)(e.toString())};let o=r(41687),i=r(62857),a=r(14647),s=r(52757),l=r(62540)},90846(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getAllLabels=async function(){return o.LabelStore.getModelsArray().map(e=>({id:e.id,name:e.name,color:e.hexColor?(0,n.assertColor)(e.hexColor):null,count:(0,a.patchLabelCount)(e),hexColor:(0,i.colorIndexToHex)(e.colorIndex),colorIndex:e.colorIndex}))};let n=r(41687),o=r(14647),i=r(52757),a=r(30612)},28068(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getLabelById=async function(e){e=i.LabelStore.get(e);if(e)return{id:e.id,name:e.name,color:e.hexColor?(0,n.assertColor)(e.hexColor):null,count:(0,s.patchLabelCount)(e),hexColor:(0,a.colorIndexToHex)(e.colorIndex),colorIndex:e.colorIndex};throw new o.WPPError("canot_get_label_error","Can't get label by id")};let n=r(41687),o=r(62857),i=r(14647),a=r(52757),s=r(30612)},5978(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getLabelColorPalette=async function(){(0,n.assertIsBusiness)();var e=(0,i.getAllLabelColors)();if(e)return e;throw new o.WPPError("canot_get_color_palette","Can't get color palette")};let n=r(41687),o=r(62857),i=r(52757)},34753(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getNewLabelColor=async function(){(0,n.assertIsBusiness)();var e=await i.LabelStore.getNextAvailableColor();if(e)return(0,n.assertColor)(Number(e));throw new o.WPPError("cannot_get_color","Can't get new label color")};let n=r(41687),o=r(62857),i=r(14647)},62540(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getNewLabelColor=t.getLabelColorPalette=t.getLabelById=t.getAllLabels=t.editLabel=t.deleteLabel=t.deleteAllLabels=t.colorIsInLabelPalette=t.addOrRemoveLabels=t.addNewLabel=void 0;var n=r(4475),o=(Object.defineProperty(t,"addNewLabel",{enumerable:!0,get:function(){return n.addNewLabel}}),r(3105)),i=(Object.defineProperty(t,"addOrRemoveLabels",{enumerable:!0,get:function(){return o.addOrRemoveLabels}}),r(9793)),a=(Object.defineProperty(t,"colorIsInLabelPalette",{enumerable:!0,get:function(){return i.colorIsInLabelPalette}}),r(90805)),s=(Object.defineProperty(t,"deleteAllLabels",{enumerable:!0,get:function(){return a.deleteAllLabels}}),r(50451)),l=(Object.defineProperty(t,"deleteLabel",{enumerable:!0,get:function(){return s.deleteLabel}}),r(40866)),u=(Object.defineProperty(t,"editLabel",{enumerable:!0,get:function(){return l.editLabel}}),r(90846)),c=(Object.defineProperty(t,"getAllLabels",{enumerable:!0,get:function(){return u.getAllLabels}}),r(28068)),d=(Object.defineProperty(t,"getLabelById",{enumerable:!0,get:function(){return c.getLabelById}}),r(5978)),p=(Object.defineProperty(t,"getLabelColorPalette",{enumerable:!0,get:function(){return d.getLabelColorPalette}}),r(34753));Object.defineProperty(t,"getNewLabelColor",{enumerable:!0,get:function(){return p.getNewLabelColor}})},26105(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(62540),t),o(r(27055),t)},30612(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.patchLabelCount=function(e){let t=0;for(var r of e.labelItemCollection._models)if("Chat"===r.parentType){let e=n.ChatStore.get(r.parentId);null!=e&&e.archive||(t+=1)}return t};let n=r(14647)},27055(e,t){Object.defineProperty(t,"__esModule",{value:!0})},8686(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.create=async function(e,t){let r,n,o,i;if(null!=t&&t.picture){let e=await(0,a.convertToFile)(t.picture);i=await(0,a.blobToBase64)(e),{data:i}=await(0,a.downloadImage)(i,"image/jpeg")}e=await(0,s.createNewsletterQuery)({name:e,description:(null==t?void 0:t.description)||null,picture:i||null});return{idJid:null==e?void 0:e.idJid,inviteCode:null==e?void 0:e.newsletterInviteLinkMetadataMixin.inviteCode,inviteLink:"https://whatsapp.com/channel/"+(null==e?void 0:e.newsletterInviteLinkMetadataMixin.inviteCode),name:null==(r=null==e?void 0:e.newsletterNameMetadataMixin)?void 0:r.nameElementValue,state:null==(n=null==e?void 0:e.newsletterStateMetadataMixin)?void 0:n.stateType,subscribersCount:null==e?void 0:e.newsletterSubscribersMetadataMixin.subscribersCount,description:(null==t?void 0:t.description)||null,timestamp:null==(o=null==e?void 0:e.newsletterCreationTimeMetadataMixin)?void 0:o.creationTimeValue}};let a=r(62857),s=r(52757)},1158(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.destroy=async function(e){if(!e||!e.includes("newsletter"))throw new n.WPPError("send_correctly_newsletter_id","Please, send the correct newsletter ID.");try{return await(0,o.deleteNewsletter)(e)}catch(e){return!1}};let n=r(62857),o=r(52757)},25578(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.edit=async function(e,n){var t;let o;if(null!=n&&n.picture){let e=n.picture,t=(n.picture.includes("http")&&({data:e}=await(0,i.downloadImage)(null==n?void 0:n.picture,"image/jpeg")),await(0,i.convertToFile)(e)),r=await(0,i.resizeImage)(t,{width:640,height:640,mimeType:"image/jpeg",resize:"cover"});o=await(0,i.blobToBase64)(r)}await(0,a.editNewsletterMetadataAction)(await(0,s.ensureNewsletter)(e),{editDescription:!!n.description,editName:!!n.name,editPicture:!(!o&&null!=n.picture)},{name:n.name,description:n.description,picture:null==n.picture?null:o});n=await(0,a.queryNewsletterMetadataByJid)(e,{picture:!0,description:!0,name:!0,state:!0,creationTime:!0});return{idJid:null==n?void 0:n.idJid,inviteCode:null==n?void 0:n.newsletterInviteLinkMetadataMixin.inviteCode,inviteLink:"https://whatsapp.com/channel/"+(null==n?void 0:n.newsletterInviteLinkMetadataMixin.inviteCode),name:null==(t=null==n?void 0:n.newsletterNameMetadataMixin)?void 0:t.nameElementValue,state:null==(e=null==n?void 0:n.newsletterStateMetadataMixin)?void 0:e.stateType,subscribersCount:null==n?void 0:n.newsletterSubscribersMetadataMixin.subscribersCount,description:null==(e=null==(t=null==n?void 0:n.newsletterDescriptionMetadataMixin)?void 0:t.descriptionQueryDescriptionResponseMixin)?void 0:e.elementValue,timestamp:null==(t=null==n?void 0:n.newsletterCreationTimeMetadataMixin)?void 0:t.creationTimeValue}};let i=r(62857),a=r(52757),s=r(16211)},16211(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ensureNewsletter=async function(e){e=(0,n.assertGetChat)(e);if(e.isNewsletter)return e;throw new o.WPPError("not_a_newsletter",`Chat ${e.id._serialized} is not a newsletter`)};let n=r(41687),o=r(62857)},94523(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.follow=async function(e){if(!e||!e.includes("@newsletter"))throw new n.WPPError("invalid_newsletter_id","Please provide a valid newsletter ID (must contain @newsletter)");try{return await(0,o.mexJoinNewsletter)(e),!0}catch(e){if(419===e.status)throw new n.WPPError("newsletter_follower_limit","This newsletter has reached the follower limit. Please try again later.",{error:e});if(405===e.status)throw new n.WPPError("newsletter_closed","This newsletter is closed to new followers. Try again later.",{error:e});if(451===e.status)throw new n.WPPError("newsletter_geosuspended","This newsletter is not available in your country.",{error:e});throw new n.WPPError("newsletter_follow_failed","Failed to follow newsletter: "+e.message,{error:e})}};let n=r(62857),o=r(52757)},37069(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getSubscribers=async function(e){if(!e||!e.includes("newsletter"))throw new n.WPPError("send_correctly_newsletter_id","Please, send the correct newsletter ID.");try{return(await(0,o.getNewsletterSubscribers)(e,9,"LIMITED")).subscribers}catch(e){return!1}};let n=r(62857),o=r(52757)},48812(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.unfollow=t.search=t.mute=t.getSubscribers=t.follow=t.edit=t.destroy=t.create=void 0;var n=r(8686),o=(Object.defineProperty(t,"create",{enumerable:!0,get:function(){return n.create}}),r(1158)),i=(Object.defineProperty(t,"destroy",{enumerable:!0,get:function(){return o.destroy}}),r(25578)),a=(Object.defineProperty(t,"edit",{enumerable:!0,get:function(){return i.edit}}),r(94523)),s=(Object.defineProperty(t,"follow",{enumerable:!0,get:function(){return a.follow}}),r(37069)),l=(Object.defineProperty(t,"getSubscribers",{enumerable:!0,get:function(){return s.getSubscribers}}),r(7071)),u=(Object.defineProperty(t,"mute",{enumerable:!0,get:function(){return l.mute}}),r(80614)),c=(Object.defineProperty(t,"search",{enumerable:!0,get:function(){return u.search}}),r(17956));Object.defineProperty(t,"unfollow",{enumerable:!0,get:function(){return c.unfollow}})},7071(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.mute=async function(e,t){var r=await(0,u.ensureNewsletter)(e);if(null!=t&&"boolean"!=typeof t)throw new i.WPPError("invalid_mute_value","Mute value must be boolean");var n=null!=(n=null===s.CHANNEL_EVENT_SURFACE||void 0===s.CHANNEL_EVENT_SURFACE?void 0:s.CHANNEL_EVENT_SURFACE.CHANNEL_UPDATES_HOME)?n:1,o=!1===t?0:-1;return l.toggleNewsletterAdminActivityMuteStateAction?await(0,l.toggleNewsletterAdminActivityMuteStateAction)(r.id,o,{eventSurface:n}):!1===t?await(0,l.unmuteNewsletter)([e]):await(0,l.muteNewsletter)([e]),a.NewsletterStore.get(e)};let i=r(62857),a=r(14647),s=r(20514),l=r(52757),u=r(16211)},80614(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.search=async function(i,a){if(!i||0===i.trim().length)throw new n.WPPError("invalid_search_query","Search query cannot be empty");try{let e={searchText:i.trim(),categories:(null==a?void 0:a.categories)||[],limit:(null==a?void 0:a.limit)||20,cursorToken:null==a?void 0:a.cursorToken},t=await(0,s.mexFetchNewsletterDirectorySearchResults)(e),r=null==t?void 0:t.xwa2_newsletters_directory_search,n=(null==r?void 0:r.result)||[],o=null==r?void 0:r.page_info;return{newsletters:n.map(e=>{var t,r=e.thread_metadata||{};let n=0;if(r.subscribers_count){let e=parseInt(r.subscribers_count,10);n=isNaN(e)?0:e}let o=0;if(r.creation_time){let e=parseInt(r.creation_time,10);o=isNaN(e)?0:e}return{idJid:e.idJid||e.id||"",name:(null==(t=r.name)?void 0:t.text)||e.name||"",description:(null==(t=r.description)?void 0:t.text)||e.description||"",picture:(null==(t=r.picture)?void 0:t.direct_path)||r.picture||"",subscribersCount:n,verification:r.verification||"",handle:r.handle||null,inviteCode:r.invite||"",creationTime:o,_raw:e}}),pageInfo:o?{hasNextPage:o.has_next_page,endCursor:o.end_cursor}:void 0}}catch(i){throw new n.WPPError("newsletter_search_failed","Failed to search newsletters: "+i.message,{error:i})}};let n=r(62857),s=r(52757)},17956(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.unfollow=async function(e){if(!e||!e.includes("@newsletter"))throw new n.WPPError("invalid_newsletter_id","Please provide a valid newsletter ID (must contain @newsletter)");try{return await(0,o.mexLeaveNewsletter)(e),!0}catch(e){if(400===e.status)return!0;throw new n.WPPError("newsletter_unfollow_failed","Failed to unfollow newsletter: "+e.message,{error:e})}};let n=r(62857),o=r(52757)},74310(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(48812),t)},3421(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),r(55497)},55497(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});let s=r(13691),l=n(r(1132)),u=r(14647);l.onInjected(()=>{u.MsgStore.on("add",t=>{var r;if("interactive"===t.type&&"payment_method"===(null==(r=t.interactivePayload)?void 0:r.buttons[0].name)&&t.isNewMsg){let e=JSON.parse(null==(r=t.interactivePayload)?void 0:r.buttons[0].buttonParamsJson);queueMicrotask(()=>{s.internalEv.emit("order.payment_status",{method:e.payment_method,timestamp:e.payment_timestamp,reference_id:e.reference_id,msgId:t.id})})}})})},80369(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.accept=async function(e){e=e.msgId,e=a.MsgStore.get(e);if(!e)throw new i.WPPError("msg_not_found","Message not found");if(e.type!==s.MSG_TYPE.ORDER)throw new i.WPPError("msg_not_order","Message is not an order");if(!e.orderId||!e.token)throw new i.WPPError("invalid_order_message","Message is missing orderId or token");var t=e.chat,r=e.sellerJid||e.to;if(!t||!r)throw new i.WPPError("invalid_order_message","Message does not contain valid order information");var r=await(0,l.queryOrder)(e.orderId,80,80,e.token),n={items:r.products.map(e=>({id:e.id.toString(),name:e.name,amount:e.price||0,quantity:e.quantity||1,isCustomItem:!1,isQuantitySet:!0})),totalAmount:r.total||0,subtotal:r.subtotal||0,tax:r.tax||void 0,currency:r.currency,referenceId:e.orderId},r=((0,l.updateMessageTable)(e.id,{status:u.OrderMessageStatus.ACCEPTED}),e.set({status:u.OrderMessageStatus.ACCEPTED}),{reference_id:e.orderId,type:"physical-goods",payment_configuration:"merchant_categorization_code",currency:r.currency,total_amount:{value:n.totalAmount,offset:1e3},order_type:"ORDER",order:{status:"payment_requested",items:n.items.map(e=>({retailer_id:e.id,name:e.name,amount:{value:e.amount,offset:1e3},quantity:e.quantity,isCustomItem:e.isCustomItem||!1,isQuantitySet:e.isQuantitySet||!0})),subtotal:{value:n.subtotal,offset:1e3},tax:n.tax?{value:n.tax,offset:1e3}:null}}),n={type:"interactive",nativeFlowName:"order_details",interactiveType:"native_flow",interactiveHeader:{hasmediaAttachment:!1,mediaType:void 0,subtitle:void 0,thumbnail:e.thumbnail,title:null},interactivePayload:{buttons:[{buttonParamsJson:JSON.stringify(r),name:"review_and_pay"}],messageVersion:1}};await(0,o.sendRawMessage)(t.id,n,{quotedMsg:e})};let o=r(97829),i=r(62857),a=r(14647),s=r(20514),l=r(52757),u=r(60738)},21747(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.decline=async function(e){var{msgId:e,declineNote:t}=e,e=u.MsgStore.get(e);if(!e)throw new l.WPPError("msg_not_found","Message not found");if(e.type!==c.MSG_TYPE.ORDER)throw new l.WPPError("msg_not_order","Message is not an order");if(!e.orderId||!e.token)throw new l.WPPError("invalid_order_message","Message is missing orderId or token");var r=e.chat,n=e.sellerJid||e.to;if(!r||!n)throw new l.WPPError("invalid_order_message","Message does not contain valid order information");var o=await(0,d.queryOrder)(e.orderId,80,80,e.token),i={items:o.products.map(e=>({id:e.id.toString(),name:e.name,amount:e.price||0,quantity:e.quantity||1,isCustomItem:!1,isQuantitySet:!0})),totalAmount:o.total||0,subtotal:o.subtotal||0,tax:o.tax||void 0,currency:o.currency,referenceId:e.orderId},a=e.msgContextInfo(r.id),n=((0,d.updateMessageTable)(e.id,{status:p.OrderMessageStatus.DECLINED}),e.set({status:p.OrderMessageStatus.DECLINED}),await(0,d.sendOrderStatusMessageAsMerchant)({chat:r,sellerJid:n,orderInfo:i,orderNote:t,orderStatus:p.OrderStatus.Canceled,offset:2,paymentStatus:p.PaymentStatus.Pending,paymentMethod:void 0,contextInfo:a}),{reference_id:e.orderId,type:"physical-goods",payment_configuration:"merchant_categorization_code",currency:o.currency,total_amount:{value:i.totalAmount,offset:1e3},order_type:"ORDER",order:{status:"canceled",items:i.items.map(e=>({retailer_id:e.id,name:e.name,amount:{value:e.amount,offset:1e3},quantity:e.quantity,isCustomItem:e.isCustomItem||!1,isQuantitySet:e.isQuantitySet||!0})),subtotal:{value:i.subtotal,offset:1e3},tax:i.tax?{value:i.tax,offset:1e3}:null}}),t={type:"interactive",nativeFlowName:"order_details",interactiveType:"native_flow",interactiveHeader:{hasmediaAttachment:!1,mediaType:void 0,subtitle:void 0,thumbnail:e.thumbnail,title:null},interactivePayload:{buttons:[{buttonParamsJson:JSON.stringify(n),name:"review_and_pay"}],messageVersion:1}};await(0,s.sendRawMessage)(r.id,t,{quotedMsg:e})};let s=r(97829),l=r(62857),u=r(14647),c=r(20514),d=r(52757),p=r(60738)},34949(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.get=async function(e){var t=o.MsgStore.get(e);if(!t)throw new n.WPPError("msg_not_found","Message not found");if(t.type!==i.MSG_TYPE.ORDER)throw new n.WPPError("msg_not_is_a_order","Message not is a order");{let e=await(0,a.queryOrder)(t.orderId,80,80,t.token);return new o.OrderModel({id:t.orderId,products:e.products,itemCount:e.products.length,subtotal:e.subtotal,tax:e.tax,total:e.total,currency:e.currency,createdAt:e.createdAt,sellerJid:t.sellerJid})}};let n=r(62857),o=r(14647),i=r(20514),a=r(52757)},18165(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.update=t.get=t.decline=t.accept=void 0;var n=r(80369),o=(Object.defineProperty(t,"accept",{enumerable:!0,get:function(){return n.accept}}),r(21747)),i=(Object.defineProperty(t,"decline",{enumerable:!0,get:function(){return o.decline}}),r(34949)),a=(Object.defineProperty(t,"get",{enumerable:!0,get:function(){return i.get}}),r(31728));Object.defineProperty(t,"update",{enumerable:!0,get:function(){return a.update}})},31728(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.update=async function(e){var{msgId:e,orderStatus:t,orderNote:r,offset:n=2,referenceId:o,paymentStatus:i=g.PaymentStatus.Pending,paymentMethod:a}=e,e=d.MsgStore.get(e);if(!e)throw new c.WPPError("msg_not_found","Message not found");if(e.type!==p.MSG_TYPE.ORDER)throw new c.WPPError("msg_not_order","Message is not an order");if(e.status!==g.OrderMessageStatus.ACCEPTED&&e.status!==g.OrderMessageStatus.DECLINED)throw new c.WPPError("order_not_processed","Order must be accepted or declined before updating. Use accept() or decline() first.");var s=e.chat,l=e.sellerJid||e.to;if(!s||!l)throw new c.WPPError("invalid_order_message","Message does not contain valid order information");var u=await(0,f.queryOrder)(e.orderId,80,80,e.token),u={items:u.products.map(e=>({id:e.id.toString(),name:e.name,amount:e.price||0,quantity:e.quantity||1,isCustomItem:!1,isQuantitySet:!0})),totalAmount:u.total||0,subtotal:u.subtotal||0,tax:u.tax||void 0,currency:u.currency,referenceId:o||e.orderId},o=e.msgContextInfo(s.id);await(0,f.sendOrderStatusMessageAsMerchant)({chat:s,sellerJid:l,orderInfo:u,orderNote:r,orderStatus:t,offset:n,paymentStatus:i,paymentMethod:a,contextInfo:o})};let c=r(62857),d=r(14647),p=r(20514),f=r(52757),g=r(60738)},37783(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(3421),t),o(r(18165),t),o(r(60738),t)},60738(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.OrderMessageStatus=t.PaymentStatus=t.OrderStatus=void 0,t.OrderStatus={Pending:"pending",Processing:"processing",PartiallyShipped:"partially_shipped",Shipped:"shipped",Complete:"completed",Canceled:"canceled",PaymentRequested:"payment_requested",PreparingToShip:"preparing_to_ship",Delivered:"delivered",Confirmed:"confirmed",Delayed:"delayed",Failed:"failed",OutForDelivery:"out_for_delivery",Refunded:"refunded"},t.PaymentStatus={Pending:"pending",Captured:"captured",Failed:"failed",Canceled:"canceled"},t.OrderMessageStatus={INQUIRY:1,1:"INQUIRY",ACCEPTED:2,2:"ACCEPTED",DECLINED:3,3:"DECLINED"}},95629(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.get=async function(){return Object.assign(Object.assign({},(0,n.getUserPrivacySettings)()),{status:await(0,n.getStatusPrivacySetting)()})};let n=r(52757)},73865(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getDisallowedList=async function(e){var t;if("string"==typeof e&&Object.values(n.PrivacyDisallowedListType).includes(e))return(t=await(0,i.getPrivacyDisallowedListTable)().get(e))?t.disallowedList:null;throw new o.WPPError("incorrect_type",`Incorrect type ${e||"<empty>"} for get disalowed list`,{type:e})};let n=r(83734),o=r(62857),i=r(52757)},85837(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.setStatus=t.setReadReceipts=t.setProfilePic=t.setOnline=t.setLastSeen=t.setAddGroup=t.setAbout=t.getDisallowedList=t.get=void 0;var n=r(95629),o=(Object.defineProperty(t,"get",{enumerable:!0,get:function(){return n.get}}),r(73865)),i=(Object.defineProperty(t,"getDisallowedList",{enumerable:!0,get:function(){return o.getDisallowedList}}),r(99804)),a=(Object.defineProperty(t,"setAbout",{enumerable:!0,get:function(){return i.setAbout}}),r(26947)),s=(Object.defineProperty(t,"setAddGroup",{enumerable:!0,get:function(){return a.setAddGroup}}),r(56414)),l=(Object.defineProperty(t,"setLastSeen",{enumerable:!0,get:function(){return s.setLastSeen}}),r(41898)),u=(Object.defineProperty(t,"setOnline",{enumerable:!0,get:function(){return l.setOnline}}),r(84474)),c=(Object.defineProperty(t,"setProfilePic",{enumerable:!0,get:function(){return u.setProfilePic}}),r(81096)),d=(Object.defineProperty(t,"setReadReceipts",{enumerable:!0,get:function(){return c.setReadReceipts}}),r(85019));Object.defineProperty(t,"setStatus",{enumerable:!0,get:function(){return d.setStatus}})},77602(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.prepareDisallowedList=async function(e,t,r){if("contact_blacklist"!==t)return{ids:[],dhash:null,idsFormatted:[],allUsers:[]};if("string"!=typeof e||!Object.values(o.PrivacyDisallowedListType).includes(e))throw new i.WPPError("incorrect_type",`Incorrect type ${e||"<empty>"} for get disalowed list`,{type:e});var n,t=await(0,s.getPrivacyDisallowedListTable)().get(e);if(r&&0!==(null==r?void 0:r.length))return null==t?{ids:(r=null==r?void 0:r.filter(e=>"remove"!==e.action)).map(e=>new a.Wid(e.id,{intentionallyUsePrivateConstructor:!0})),dhash:null,idsFormatted:r.map(e=>({wid:new a.Wid(e.id,{intentionallyUsePrivateConstructor:!0}),action:"add"})),allUsers:r.map(e=>new a.Wid(e.id,{intentionallyUsePrivateConstructor:!0}))}:(e=t.disallowedList.filter(t=>!r.some(e=>"remove"===e.action&&e.id===t)),n=r.filter(e=>"remove"!==e.action),n=[].concat(n.map(e=>new a.Wid(e.id,{intentionallyUsePrivateConstructor:!0})),e.map(e=>new a.Wid(e,{intentionallyUsePrivateConstructor:!0}))),{ids:r.map(e=>new a.Wid(e.id,{intentionallyUsePrivateConstructor:!0})),dhash:t.dhash,idsFormatted:r.map(e=>({wid:new a.Wid(e.id,{intentionallyUsePrivateConstructor:!0}),action:e.action})),allUsers:n});if(t)return{ids:t.disallowedList.map(e=>new a.Wid(e,{intentionallyUsePrivateConstructor:!0})),dhash:t.dhash,idsFormatted:[],allUsers:t.disallowedList.map(e=>new a.Wid(e,{intentionallyUsePrivateConstructor:!0}))};throw new i.WPPError("disallowed_list_is_mandatory","Disallowed list is empty, please send disallowed list param")};let o=r(83734),i=r(62857),a=r(14647),s=r(52757)},99804(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.setAboutTypes=void 0,t.setAbout=async function(e,t){if("string"==typeof e&&Object.values(s).includes(e))return t=await(0,a.prepareDisallowedList)(n.PrivacyDisallowedListType.About,e,t),await(0,i.setPrivacyForOneCategory)({name:n.PrivacyDisallowedListType.About,value:e,dhash:"contact_blacklist"===e?t.dhash:null,users:"contact_blacklist"===e?t.idsFormatted:void 0},"contact_blacklist"===e?t.allUsers:void 0),(0,i.getUserPrivacySettings)().about;throw new o.WPPError("incorrect_type",`Incorrect type ${e||"<empty>"} for set about privacy`,{value:e})};let n=r(83734),o=r(62857),i=r(52757),a=r(77602);var s;(r=s||(t.setAboutTypes=s={})).all="all",r.contacts="contacts",r.none="none",r.contact_blacklist="contact_blacklist"},26947(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.setAddGroupTypes=void 0,t.setAddGroup=async function(e,t){if("string"==typeof e&&Object.values(s).includes(e))return t=await(0,a.prepareDisallowedList)(n.PrivacyDisallowedListType.GroupAdd,e,t),await(0,i.setPrivacyForOneCategory)({name:n.PrivacyDisallowedListType.GroupAdd,value:e,dhash:"contact_blacklist"===e?t.dhash:null,users:"contact_blacklist"===e?t.idsFormatted:void 0},"contact_blacklist"===e?t.allUsers:void 0),(0,i.getUserPrivacySettings)().groupAdd;throw new o.WPPError("incorrect_type",`Incorrect type ${e||"<empty>"} for set add group privacy`,{value:e})};let n=r(83734),o=r(62857),i=r(52757),a=r(77602);var s;(r=s||(t.setAddGroupTypes=s={})).all="all",r.contacts="contacts",r.contact_blacklist="contact_blacklist"},56414(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.setLastSeenTypes=void 0,t.setLastSeen=async function(e,t){if("string"==typeof e&&Object.values(s).includes(e))return t=await(0,a.prepareDisallowedList)(n.PrivacyDisallowedListType.LastSeen,e,t),await(0,i.setPrivacyForOneCategory)({name:"last",value:e,dhash:"contact_blacklist"===e?t.dhash:null,users:"contact_blacklist"===e?t.idsFormatted:void 0},"contact_blacklist"===e?t.allUsers:void 0),(0,i.getUserPrivacySettings)().lastSeen;throw new o.WPPError("incorrect_type",`Incorrect type ${e||"<empty>"} for set last seen privacy`,{value:e})};let n=r(83734),o=r(62857),i=r(52757),a=r(77602);var s;(r=s||(t.setLastSeenTypes=s={})).all="all",r.contacts="contacts",r.none="none",r.contact_blacklist="contact_blacklist"},41898(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.setOnlineTypes=void 0,t.setOnline=async function(e){if("string"==typeof e&&Object.values(i).includes(e))return await(0,o.setPrivacyForOneCategory)({name:"online",value:e}),(0,o.getUserPrivacySettings)().online;throw new n.WPPError("incorrect_type",`Incorrect type ${e||"<empty>"} for set online privacy`,{value:e})};let n=r(62857),o=r(52757);var i;(r=i||(t.setOnlineTypes=i={})).all="all",r.match_last_seen="match_last_seen"},84474(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.setProfilePicTypes=void 0,t.setProfilePic=async function(e,t){if("string"==typeof e&&Object.values(s).includes(e))return t=await(0,a.prepareDisallowedList)(n.PrivacyDisallowedListType.ProfilePicture,e,t),await(0,i.setPrivacyForOneCategory)({name:n.PrivacyDisallowedListType.ProfilePicture,value:e,dhash:"contact_blacklist"===e?t.dhash:null,users:"contact_blacklist"===e?t.idsFormatted:void 0},"contact_blacklist"===e?t.allUsers:void 0),(0,i.getUserPrivacySettings)().profilePicture;throw new o.WPPError("incorrect_type",`Incorrect type ${e||"<empty>"} for set profile pic privacy`,{value:e})};let n=r(83734),o=r(62857),i=r(52757),a=r(77602);var s;(r=s||(t.setProfilePicTypes=s={})).all="all",r.contacts="contacts",r.none="none",r.contact_blacklist="contact_blacklist"},81096(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.setReadReceiptsTypes=void 0,t.setReadReceipts=async function(e){if("string"==typeof e&&Object.values(i).includes(e))return await(0,o.setPrivacyForOneCategory)({name:"readreceipts",value:e}),(0,o.getUserPrivacySettings)().readReceipts;throw new n.WPPError("incorrect_type",`Incorrect type ${e||"<empty>"} for set read receipts privacy`,{value:e})};let n=r(62857),o=r(52757);var i;(r=i||(t.setReadReceiptsTypes=i={})).all="all",r.none="none"},85019(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.setStatusTypes=void 0,t.setStatus=async function(e,t){if("string"!=typeof e||!Object.values(a).includes(e))throw new o.WPPError("incorrect_type",`Incorrect type ${e||"<empty>"} for set about privacy`,{value:e});if(e!=a.ALLOW_LIST&&e!=a.DENY_LIST||t)return t?(t=(t=Array.isArray(t)?t:[t]).map(n.assertWid),await(0,i.setStatusPrivacyConfig)({setting:e,list:t})):await(0,i.setStatusPrivacyConfig)({setting:e,list:[]}),(0,i.getStatusPrivacySetting)();throw new o.WPPError("list_is_mandatory","List is empty <empty>, send the list to allow or deny")};let n=r(41687),o=r(62857),i=r(52757);var a;(r=a||(t.setStatusTypes=a={})).contact="contact",r.DENY_LIST="deny-list",r.ALLOW_LIST="allow-list"},33599(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(85837),t)},40923(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.editBusinessProfile=async function(e){if(!i.Conn.isSMB)throw new o.WPPError("NOT_BUSINESS_PROFILE","Not a business profile");e.website&&Array.isArray(e.website)&&(e.website=e.website.map(e=>({url:e}))),await(0,a.editBusinessProfile)(e);e=(0,n.getMyUserWid)();return i.BusinessProfileStore.fetchBizProfile(e)};let n=r(21942),o=r(62857),i=r(14647),a=r(52757)},42670(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getMyProfileName=function(){return n.functions.getPushname()};let n=r(14647)},82807(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getMyProfilePicture=async function(){var e=(0,n.getMyUserWid)();return o.ProfilePicThumbStore.find(e)};let n=r(21942),o=r(14647)},29116(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getMyStatus=async function(){return(await o.StatusStore.find((0,n.getMyUserWid)())).status};let n=r(21942),o=r(14647)},23144(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.setMyStatus=t.setMyProfilePicture=t.setMyProfileName=t.removeMyProfilePicture=t.isBusiness=t.getMyStatus=t.getMyProfilePicture=t.getMyProfileName=t.editBusinessProfile=void 0;var n=r(40923),o=(Object.defineProperty(t,"editBusinessProfile",{enumerable:!0,get:function(){return n.editBusinessProfile}}),r(42670)),i=(Object.defineProperty(t,"getMyProfileName",{enumerable:!0,get:function(){return o.getMyProfileName}}),r(82807)),a=(Object.defineProperty(t,"getMyProfilePicture",{enumerable:!0,get:function(){return i.getMyProfilePicture}}),r(29116)),s=(Object.defineProperty(t,"getMyStatus",{enumerable:!0,get:function(){return a.getMyStatus}}),r(17616)),l=(Object.defineProperty(t,"isBusiness",{enumerable:!0,get:function(){return s.isBusiness}}),r(95333)),u=(Object.defineProperty(t,"removeMyProfilePicture",{enumerable:!0,get:function(){return l.removeMyProfilePicture}}),r(35098)),c=(Object.defineProperty(t,"setMyProfileName",{enumerable:!0,get:function(){return u.setMyProfileName}}),r(20059)),d=(Object.defineProperty(t,"setMyProfilePicture",{enumerable:!0,get:function(){return c.setMyProfilePicture}}),r(48736));Object.defineProperty(t,"setMyStatus",{enumerable:!0,get:function(){return d.setMyStatus}})},17616(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.isBusiness=function(){return n.Conn.isSMB};let n=r(14647)},95333(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.removeMyProfilePicture=async function(){return 200===(await o.functions.requestDeletePicture((0,n.getMyUserWid)())).status};let n=r(21942),o=r(14647)},35098(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.setMyProfileName=async function(e){return await n.functions.setPushname(e),!0};let n=r(14647)},20059(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.setMyProfilePicture=async function(e){var e=await(0,o.convertToFile)(e),t=await(0,o.resizeImage)(e,{width:96,height:96,mimeType:"image/jpeg",resize:"cover"}),e=await(0,o.resizeImage)(e,{width:640,height:640,mimeType:"image/jpeg",resize:"cover"}),t=await(0,o.blobToBase64)(t),e=await(0,o.blobToBase64)(e);return(0,i.sendSetPicture)((0,n.getMyUserWid)(),t,e)};let n=r(21942),o=r(62857),i=r(52757)},48736(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.setMyStatus=async function(e){await u.setMyStatus(e);var t=await l.StatusStore.find((0,s.getMyUserWid)());return t&&(t.status=e),!0};let s=r(21942),l=r(14647),u=n(r(52757))},5882(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(23144),t)},47494(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultSendStatusOptions=void 0,t.defaultSendStatusOptions={waitForAck:!0}},4213(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),r(9364)},9364(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});let s=r(13691),l=n(r(1132)),u=r(14647);l.onInjected(()=>{u.StatusV3Store.on("sync",()=>{s.internalEv.emit("status.sync")})})},16973(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.get=function(e){e=(0,n.assertWid)(e);return o.StatusV3Store.get(e)};let n=r(41687),o=r(14647)},93809(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getMyStatus=async function(){let e=o.StatusV3Store.getMyStatus();return e=e||await o.StatusV3Store.find((0,n.getMyUserWid)())};let n=r(21942),o=r(14647)},99341(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.updateParticipants=t.sendVideoStatus=t.sendTextStatus=t.sendReadStatus=t.sendRawStatus=t.sendImageStatus=t.remove=t.getMyStatus=t.get=void 0;var n=r(16973),o=(Object.defineProperty(t,"get",{enumerable:!0,get:function(){return n.get}}),r(93809)),i=(Object.defineProperty(t,"getMyStatus",{enumerable:!0,get:function(){return o.getMyStatus}}),r(68249)),a=(Object.defineProperty(t,"remove",{enumerable:!0,get:function(){return i.remove}}),r(2700)),s=(Object.defineProperty(t,"sendImageStatus",{enumerable:!0,get:function(){return a.sendImageStatus}}),r(71459)),l=(Object.defineProperty(t,"sendRawStatus",{enumerable:!0,get:function(){return s.sendRawStatus}}),r(34809)),u=(Object.defineProperty(t,"sendReadStatus",{enumerable:!0,get:function(){return l.sendReadStatus}}),r(72686)),c=(Object.defineProperty(t,"sendTextStatus",{enumerable:!0,get:function(){return u.sendTextStatus}}),r(53390)),d=(Object.defineProperty(t,"sendVideoStatus",{enumerable:!0,get:function(){return c.sendVideoStatus}}),r(45218));Object.defineProperty(t,"updateParticipants",{enumerable:!0,get:function(){return d.updateParticipants}})},28227(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.postSendStatus=function(r){r.sendMsgResult.then(async()=>{var e,t=n.MsgStore.get(r.id);t&&(n.StatusV3Store.addStatusMessages(t.author,[t]),n.StatusV3Store.handleUpdate(t.attributes,null,!1),e=n.StatusV3Store.getMyStatus())&&e.msgs.add(t)})};let n=r(14647)},68249(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.remove=async function(e){var t=await(0,n.getMessageById)(e);try{return await(0,a.revokeStatus)(i.StatusV3Store.get(i.UserPrefs.getMaybeMePnUser()),t),!0}catch(t){throw new o.WPPError("error_on_remove_status","Error on remove status with id "+e.toString())}};let n=r(74023),o=r(62857),i=r(14647),a=r(52757)},2700(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.sendImageStatus=async function(e,t={}){var r=(0,i.getMyUserWid)(),r=new a.MsgKey({fromMe:!0,id:(0,s.randomHex)(16),participant:r,remote:(0,n.assertWid)("status@broadcast")});return t=Object.assign(Object.assign(Object.assign({},l.defaultSendStatusOptions),{messageId:r}),t),(0,o.sendFileMessage)("status@broadcast",e,Object.assign(Object.assign({},t),{type:"image"}))};let n=r(41687),o=r(74023),i=r(21942),a=r(14647),s=r(52757),l=r(31167)},71459(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.sendRawStatus=async function(e,t={}){var r=(0,u.getMyUserWid)(),n=new d.MsgKey({fromMe:!0,id:(0,f.randomHex)(16),participant:r,remote:(0,s.assertWid)("status@broadcast")}),n=(t=Object.assign(Object.assign(Object.assign({},g.defaultSendStatusOptions),{messageId:n}),t),e.author=r,await l.sendRawMessage("status@broadcast",e,Object.assign({},t)));return(0,m.postSendStatus)(n),n};let s=r(41687),l=n(r(74023)),u=r(21942),c=n(r(1132)),d=r(14647),p=r(54993),f=r(52757),g=r(31167),m=r(28227);c.onInjected(()=>{(0,p.wrapModuleFunction)(f.createMsgProtobuf,(e,...t)=>{var[r]=t,e=e(...t);return e.extendedTextMessage&&("number"==typeof r.backgroundColor&&(e.extendedTextMessage.backgroundArgb=r.backgroundColor),"number"==typeof r.textColor&&(e.extendedTextMessage.textArgb=r.textColor),"number"==typeof r.font&&(e.extendedTextMessage.font=r.font),e.extendedTextMessage.inviteLinkGroupTypeV2=0,e.extendedTextMessage.previewType=0),e}),(0,p.wrapModuleFunction)(f.encryptAndSendMsg,async(t,...e)=>{var r,[n,o]=e;if("status@broadcast"==(null==(r=n.data.to)?void 0:r.toString())){let e=(0,f.createMsgProtobuf)(n.data);try{return await(0,f.encryptAndSendStatusMsg)(n,e,o),{t:n.data.t,sync:null,phash:null,addressingMode:null,count:null,error:null}}catch(t){return null}}return t(...e)})}),c.onFullReady(()=>{(0,p.wrapModuleFunction)(f.getABPropConfigValue,(e,...t)=>{var[r]=t;switch(r){case"web_status_posting_enabled":case"post_status_in_companion":return 1}return e(...t)}),(0,p.wrapModuleFunction)(f.primaryFeatureEnabled,(e,...t)=>{var[r]=t;switch(r){case"post_status_in_companion":case"text_status_creation_support":return!0}return e(...t)})})},34809(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.sendReadStatus=async function(e,t){var e=(0,o.assertWid)(e),r=i.StatusV3Store.get(e),n=null==r?void 0:r.msgs.get(t),r=(await(null==r?void 0:r.sendReadStatus(n,null==n?void 0:n.mediaKeyTimestamp)),i.StatusV3Store.get(e));return(null==(n=null==r?void 0:r.msgs.get(t))?void 0:n.serialize())||[]};let o=r(41687),i=r(14647)},72686(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.sendTextStatus=async function(e,t={}){t=Object.assign(Object.assign({},i.defaultSendStatusOptions),t);let r=(0,o.assertColor)("#000000"),n=0;["number","string"].includes(typeof t.backgroundColor)&&(r=(0,o.assertColor)(t.backgroundColor));e={body:e,type:"chat",richPreviewType:0,inviteGrpType:0,font:n=t.font&&0<=t.font&&t.font<=5?t.font:n,backgroundColor:r};return(0,a.sendRawStatus)(e,t)};let o=r(41687),i=r(31167),a=r(99341)},53390(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.sendVideoStatus=async function(e,t={}){var r=(0,i.getMyUserWid)(),r=new a.MsgKey({fromMe:!0,id:(0,s.randomHex)(16),participant:r,remote:(0,n.assertWid)("status@broadcast")});return t=Object.assign(Object.assign(Object.assign({},l.defaultSendStatusOptions),{messageId:r}),t),(0,o.sendFileMessage)("status@broadcast",e,Object.assign(Object.assign({},t),{type:"video"}))};let n=r(41687),o=r(74023),i=r(21942),a=r(14647),s=r(52757),l=r(31167)},45218(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.updateParticipants=async function(e){let t="custom",r=(0,a.getMyUserWid)();e&&0!==e.length||(e=s.ContactStore.getModelsArray().filter(e=>e.isMyContact&&!e.isContactBlocked).filter(e=>e.notifyName&&!e.isMe).filter(e=>!e.id.equals(r)).map(e=>e.id),t="contacts");var e=e.map(o.assertWid).filter(e=>!e.equals(r)),e=(i.config.sendStatusToDevice&&e.push(r),e.map(e=>new s.ParticipantModel({id:e,isAdmin:!1,isSuperAdmin:!1}))),n=s.WidFactory.createWid("status@broadcast");await s.functions.updateParticipants({group:n,participants:e,version:Date.now(),isOffline:!1}),localStorage.setItem("wpp-status-participants",t)};let o=r(41687),i=r(91491),a=r(21942),s=r(14647)},31167(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),r(4213),r(98281),o(r(47494),t),o(r(99341),t)},98281(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});let s=r(28156),l=r(21942),u=n(r(1132)),c=r(54993),d=r(52757);u.onFullReady(function(){(0,c.wrapModuleFunction)(d.handleSingleMsg,async(e,...t)=>{var[r,n]=t;if(!s.config.syncAllStatus&&r.isStatusV3()){let e=(0,l.getMyUserWid)();if(n.author&&!e.equals(n.author))return}return e(...t)})})},10632(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.blobToArrayBuffer=function(n){return new Promise((e,t)=>{let r=new FileReader;r.onloadend=function(){e(r.result)},r.onabort=t,r.onerror=t,r.readAsArrayBuffer(n)})}},66604(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.blobToBase64=function(n){return new Promise((e,t)=>{let r=new FileReader;r.onloadend=function(){e(r.result)},r.onabort=t,r.onerror=t,r.readAsDataURL(n)})}},39681(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.convertToFile=async function(r,n,o){if(r instanceof File)return r;let i=null;if("string"==typeof r&&(0,l.isUrl)(r)){let e=await fetch(r);i=await e.blob()}else if("string"==typeof r){let e=(0,s.default)(r);if(!(e=!e&&(0,l.isBase64)(r)?(0,s.default)("data:;base64,"+r):e))throw"invalid_data_url";n=n||e.contentType;let t=e.toBuffer();i=new Blob([Uint8Array.from(t)],{type:n})}else i=r;if(!o||!n){let t=await a.default.fromBuffer(await i.arrayBuffer());if(t){let e=t.mime.split("/")[0];o=o||e+"."+t.ext,n=n||t.mime}o=o||"unknown",n=n||"application/octet-stream"}return new File([i],o,{type:n,lastModified:Date.now()})};let a=n(r(53846)),s=n(r(62759)),l=r(62857)},13257(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.createWid=function(e){var t;if(e)return(t=o())&&t.isWidlike&&t.isWidlike(e)?t.createWidFromWidLike(e):"string"==typeof(e=e&&"object"==typeof e&&"object"==typeof e._serialized?e._serialized:e)?/@\w*lid\b/.test(e)?i(e,"lid"):/^\d+$/.test(e)?i(e,"c.us"):/^\d+-\d+$/.test(e)?i(e,"g.us"):/status$/.test(e)?i(e,"broadcast"):t&&"function"==typeof t.createWid?t.createWid(e):void 0:void 0};let n=r(14647);function o(){return void 0!==n.WidFactory&&n.WidFactory?n.WidFactory:"undefined"!=typeof globalThis&&globalThis.WidFactory?globalThis.WidFactory:void 0}let i=(e,t)=>{var r=o();if(r)return"function"==typeof r.createUserWidOrThrow?r.createUserWidOrThrow(e,t):"function"==typeof r.createUserWid?r.createUserWid(e,t):"function"==typeof r.createWid?r.createWid(t?e+"@"+t:e):void 0}},97016(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.downloadImage=function(t,o="image/jpeg",i=.85){return new Promise((r,e)=>{let n=new Image;n.crossOrigin="anonymous",n.src=t,n.onerror=e,n.onload=()=>{var e=document.createElement("canvas"),t=e.getContext("2d"),t=(e.height=n.naturalHeight,e.width=n.naturalWidth,t.drawImage(n,0,0),e.toDataURL(o,i));r({data:t,height:n.naturalHeight,width:n.naturalWidth})}})}},55026(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.WPPError=void 0;class r extends Error{constructor(e,t,r={}){if(super(t),this.code=e,r){let t=Object.keys(r);for(let e of t)this[e]=r[e]}}}t.WPPError=r},24298(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchDataFromPNG=function(t){return new Promise((i,e)=>{let a=new Image;a.crossOrigin="anonymous",a.src=t,a.onerror=e,a.onload=function(){var e=document.createElement("canvas"),t=e.getContext("2d"),r=(e.width=a.naturalWidth,e.height=a.naturalHeight,t.drawImage(a,0,0),t.getImageData(0,0,e.width,e.height).data),n=new Uint8Array(Math.floor(3*r.length/4));for(let e=0,t=0;e<r.length;e+=4)n[t++]=r[e],n[t++]=r[e+1],n[t++]=r[e+2];let o=BigInt(0);for(let e=0;e<8;e++)o=(o<<BigInt(8))+BigInt(n[e]);t=Number(o);i(n.subarray(8,8+t))}})}},21294(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatFileSize=function(e){var t;return 0===e?"0 Bytes":(t=Math.floor(Math.log(e)/Math.log(1024)),parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t])},t.getMediaTypeForValidation=function(e,t){return e&&"auto-detect"!==e?e:t.startsWith("image/")?"image":t.startsWith("video/")?"video":t.startsWith("audio/")?"audio":"document"}},25274(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.generateOrderUniqueId=function(){var e=String(Date.now())+Math.random().toFixed(4).slice(-4);return("function"==typeof BigInt?BigInt:Number)(e).toString(36).toUpperCase()}},82368(e,t,r){var i=r(48287).hp;Object.defineProperty(t,"__esModule",{value:!0}),t.getVideoInfoFromBuffer=function(e){var e=i.from(e),t=i.from("mvhd"),t=e.indexOf(t)+17,r=e.readUInt32BE(t),t=e.readUInt32BE(t+4),n=e.indexOf(i.from("moov")),n=e.indexOf(i.from("trak"),n+4),n=e.indexOf(i.from("stbl"),n+4),n=e.indexOf(i.from("avc1"),n+4),o=e.readUInt16BE(n+4+24),e=e.readUInt16BE(n+4+26),n=Math.floor(t/r*1e3)/1e3;return{duration:Math.floor(n),width:o,height:e}}},62857(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(10632),t),o(r(66604),t),o(r(39681),t),o(r(13257),t),o(r(97016),t),o(r(55026),t),o(r(24298),t),o(r(25274),t),o(r(82368),t),o(r(7418),t),o(r(89076),t),o(r(12040),t),o(r(31617),t),o(r(59036),t),o(r(16817),t)},7418(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isBase64=function(e){return r.test(e)};let r=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/},89076(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isUrl=function(e){if(!e||"string"!=typeof e)return!1;var t=e.trim();if(!/^https?:\/\//i.test(t))return!1;try{let e=new URL(t);return"http:"===e.protocol||"https:"===e.protocol}catch(e){return!1}}},73113(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchRemoteLinkPreviewData=async function(t){if(s[t])return d("Link preview found in the cache",t),s[t];let r=new TextDecoder;for(let e=p.length-1;0<=e;e--){var n,o=p[e],i=(d("Fetching link preview using "+o,t),o+"/v1/link-preview/fetch-data.png?url="+encodeURI(t)),i=await(0,a.fetchDataFromPNG)(i).then(e=>r.decode(e)).then(e=>JSON.parse(e)).catch(()=>null);if(null!==i&&("title"in i||"status"in i)){if(i.title||200===i.status)return n=/^video/.test(i.mediaType),n={title:i.title,description:i.description,canonicalUrl:i.url,matchedText:t,richPreviewType:n?1:0,doNotPlayInline:!n,imageUrl:i.image},s[t]=n,setTimeout(()=>{delete s[t]},3e5),n}else d(`The server ${o} is unavailable for link preview`),p.splice(e,1)}return null},t.generateThumbnailLinkPreviewData=async function(e){var t,r,n,o,i,a,s;return g[e]?(d("Thumb for link preview found in cache.",e),g[e]):!p[0]||(t=p[0],d("Downloading the preview image using "+t,e),t=t+"/v1/link-preview/download-image?url="+encodeURI(e),!(t=await(0,c.downloadImage)(t).catch(()=>null)))||t.width<f||t.height<100?null:(s=t.data,o=await new Promise((i,t)=>{let a=new Image;a.crossOrigin="anonymous",a.src=s,a.onerror=t,a.onload=()=>{try{let e=document.createElement("canvas"),t=e.getContext("2d");e.width=f,e.height=f;var r=Math.min(a.width,a.height),n=(a.width-r)/2,o=(a.height-r)/2;t.drawImage(a,n,o,r,r,0,0,f,f),i(e.toDataURL("image/jpeg").replace(/^data:image\/jpeg;base64,/,""))}catch(e){t()}}}),i=t.data.replace("data:image/jpeg;base64,",""),a=await l.OpaqueData.createFromBase64Jpeg(i),r=new Uint8Array(32),window.crypto.getRandomValues(r),r={key:l.Base64.encodeB64(r),timestamp:(0,u.unixTime)()},n=new AbortController,a={thumbnail:o,thumbnailHQ:i,mediaKey:(i=(o=await(0,u.uploadThumbnail)({thumbnail:a,mediaType:"thumbnail-link",mediaKeyInfo:r,uploadOrigin:1,forwardedFromWeb:!1,signal:n.signal,timeout:3e3,isViewOnce:!1})).mediaEntry).mediaKey,mediaKeyTimestamp:i.mediaKeyTimestamp,thumbnailDirectPath:i.directPath,thumbnailSha256:o.filehash,thumbnailEncSha256:i.encFilehash,thumbnailWidth:t.width,thumbnailHeight:t.height},g[e]=a,setTimeout(()=>{delete g[e]},3e5),a)};let o=n(r(17833)),i=r(91491),l=r(14647),u=r(52757),c=r(97016),a=r(24298),d=(0,o.default)("WA-JS:link-preview"),p=i.config.linkPreviewApiServers||["https://cobrancas.uppermesh.com.br:8000","https://wajsapi.titanchat.com.br","https://wppc-linkpreview.cloudtrix.com.br"],f=140,s={},g={};var m=p;for(let e=m.length-1;0<e;e--){var y=Math.floor(Math.random()*(e+1));[m[e],m[y]]=[m[y],m[e]]}},12040(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.resizeImage=function(r,n={}){return new Promise((e,t)=>{new o.default(r,Object.assign(Object.assign({},n),{success:e,error:t}))})};let o=n(r(23807))},31617(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.toArrayBuffer=function(e){return e?e instanceof ArrayBuffer?e:(ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)).slice().buffer:null}},59036(e,t){Object.defineProperty(t,"__esModule",{value:!0})},16817(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.wrapFunction=function(t,r){return(...e)=>r(t,...e)}},1132(e,i,t){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(i,"__esModule",{value:!0}),i.fallbackModules=i.webpackRequire=i.__debug=i.isFullReady=i.isReady=i.isInjected=i.loaderType=void 0,i.onInjected=function(e,t=0){a.internalEv.on("webpack.injected",()=>{setTimeout(e,t)})},i.onReady=function(e,t=0){a.internalEv.on("webpack.ready",()=>{setTimeout(e,t)})},i.onFullReady=function(e,t=0){a.internalEv.on("webpack.full_ready",()=>{setTimeout(e,t)})},i.injectLoader=function(){if(!i.isInjected){let t=self||window,e=setInterval(async()=>{"unknown"===i.loaderType?t.require&&t.__d&&(i.loaderType="meta",i.webpackRequire=function(e){try{return t.ErrorGuard.skipGuardGlobal(!0),t.importNamespace(e)}catch(e){}return null},Object.defineProperty(i.webpackRequire,"m",{get:()=>{var t,r=(0,i.__debug)().modulesMap,n={};for(let e of Object.keys(r).filter(e=>/^(?:use)?WA/.test(e)&&!["WAWebEmojiPanelContentEmojiSearchEmpty.react","WAWebMoment-es-do"].includes(e)))n[e]=null==(t=r[e])?void 0:t.factory;return n}}),i.isInjected=!0,s("injected"),await a.internalEv.emitAsync("webpack.injected").catch(()=>null),await l,await new Promise(e=>setTimeout(e,1e3)),i.isReady=!0,s("ready to use"),await a.internalEv.emitAsync("webpack.ready").catch(()=>null),window.wppForceMainLoad?(s("wppForceMainLoad is set, waiting 5 seconds"),await new Promise(e=>setTimeout(e,5e3))):(s("waiting main ready"),await u),i.isFullReady=!0,s("full ready to use"),await a.internalEv.emitAsync("webpack.full_ready").catch(()=>null)):clearInterval(e)},1e3),r="webpackChunkwhatsapp_web_client",n=t[r]||[];n&&0!==(null==n?void 0:n.length)?i.loaderType="webpack":Object.defineProperty(t,r,n);var o=Date.now();n.push([[o],{},e=>{i.webpackRequire=e,queueMicrotask(()=>(async e=>{i.loaderType="webpack",i.webpackRequire=e,i.isInjected=!0,s("injected"),await a.internalEv.emitAsync("webpack.injected").catch(()=>null),await new Promise(e=>setTimeout(e,500));var t=new Array(1e4).fill(1).map((e,t)=>e+t).filter(e=>{let t=i.webpackRequire.u(e);return t.includes("locales")?navigator.languages.some(e=>t.includes("locales/"+e)):!t.includes("undefined")});for(let e of t.filter(e=>{e=i.webpackRequire.u(e);return e.includes("main")&&!e.includes("locales")}))try{await i.webpackRequire.e(e)}catch(t){s("load file error",i.webpackRequire.u(e))}i.isReady=!0,s("ready to use"),await a.internalEv.emitAsync("webpack.ready").catch(()=>null),s("wppForceMainLoad",window.wppForceMainLoad),window.wppForceMainLoad?await new Promise(e=>setTimeout(e,5e3)):await u,s("loading full runtime files");for(let e of t)try{await i.webpackRequire.e(e)}catch(t){s("load file error",i.webpackRequire.u(e))}s("all runtime files loaded"),i.isFullReady=!0,s("full ready to use"),await a.internalEv.emitAsync("webpack.full_ready").catch(()=>null)})(e))}])}},i.moduleSource=c,i.isReactComponent=f,i.searchId=g,i.search=function(e,t=!1){e=g(e,t);return e?m(e):null},i.modules=function(r,e=!1){var n={};let o=Object.keys(i.webpackRequire.m);for(let t of o=e?o.reverse():o)if(!f(t))try{let e=m(t);r&&!r(e,t)||(n[t]=e)}catch(r){continue}return s(Object.keys(n).length+" modules found with: "+(null==r?void 0:r.toString())),n},i.loadModule=m,i.injectFallbackModule=function(e,t){if(/^fallback_/.test(e+=""))throw new Error("Invalid fallback ID");i.fallbackModules["fallback_"+e]=t};let n=r(t(17833)),a=t(13691),s=(0,n.default)("WA-JS:webpack"),l=(i.loaderType="unknown",i.isInjected=!1,i.isReady=!1,i.isFullReady=!1,i.__debug=()=>(self||window).require("__debug"),i.fallbackModules={},a.internalEv.waitFor("conn.main_init")),u=a.internalEv.waitFor("conn.main_ready"),o=new Map;function c(e){var t;return"webpack"===i.loaderType&&i.webpackRequire.m[e]?o.has(e)?o.get(e):(t=i.webpackRequire.m[e].toString(),o.set(e,t),t):""}let d=new Map,p=new Map;function f(e){var t;return d.has(e)?d.get(e):(t=c(e),t=/\w+\.(Pure)?Component\s*\{/.test(t),d.set(e,t),t)}function g(r,e=!1){if(p.has(r))return p.get(r);let n=Object.keys(i.webpackRequire.m);e&&(n=n.reverse());var o=setTimeout(()=>{s("Searching for: "+r.toString())},500);for(let t of n)if(!f(t))try{let e=(0,i.webpackRequire)(t);if(r(e,t))return s(`Module found: ${t} - `+r.toString()),clearTimeout(o),p.set(r,t),t}catch(r){continue}for(let t of n=Object.keys(i.fallbackModules))try{let e=i.fallbackModules[t];if(r(e,t))return s(`Fallback Module found: ${t} - `+r.toString()),clearTimeout(o),p.set(r,t),t}catch(r){continue}return s("Module not found: "+r.toString()),p.set(r,null),null}function m(e){return/^fallback_/.test(e)?i.fallbackModules[e]:(0,i.webpackRequire)(e)}},28922(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{AggReactionsCollection:"AggReactionsCollection"},e=>e.AggReactionsCollection)},93316(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{BaseCollection:"BaseCollection"},e=>e.BaseCollection)},924(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{BlocklistCollection:["BlocklistCollectionImpl","BlocklistCollection"]},e=>e.BlocklistCollectionImpl||e.BlocklistCollection)},18795(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{BotProfileCollection:["BotProfileCollection"]},e=>e.BotProfileCollection)},51150(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{BusinessCategoriesResultCollection:"BusinessCategoriesResultCollectionImpl"},e=>e.BusinessCategoriesResultCollectionImpl)},21330(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{BusinessProfileCollection:["BusinessProfileCollectionImpl","BusinessProfileCollection"]},e=>e.BusinessProfileCollectionImpl||e.BusinessProfileCollection)},83573(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{ButtonCollection:["ButtonCollectionImpl","ButtonCollection"]},e=>e.ButtonCollectionImpl||e.ButtonCollection)},96993(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{CallCollection:["CallCollectionImpl","default.constructor"]},e=>e.CallCollectionImpl||e.default.processIncomingCall)},22523(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{CartCollection:["CartCollectionImpl","CartCollection"]},e=>e.CartCollectionImpl||e.CartCollection)},25716(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{CartItemCollection:["CartItemCollectionImpl","CartItemCollection"]},e=>e.CartItemCollectionImpl||e.CartItemCollection)},10674(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{CatalogCollection:["CatalogCollectionImpl","CatalogCollection"]},e=>e.CatalogCollectionImpl||e.CatalogCollection)},29683(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{ChatCollection:"ChatCollectionImpl"},e=>e.ChatCollectionImpl)},27462(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{ChatstateCollection:["ChatstateCollectionImpl","Chatstate"]},e=>e.ChatstateCollectionImpl||e.Chatstate)},60193(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{Collection:"default"},e=>e.default.toString().includes("Collection initialized without model"))},54477(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{ContactCollection:"ContactCollectionImpl"},e=>e.ContactCollectionImpl)},16794(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{EmojiVariantCollection:["EmojiVariantCollectionImpl","EmojiVariantCollection"]},e=>e.EmojiVariantCollectionImpl||e.EmojiVariantCollection)},58699(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{GroupMetadataCollection:"default.constructor"},e=>"function"==typeof e.default.onParentGroupChange||"function"==typeof e.default._handleParentGroupChange)},86451(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{LabelCollection:["LabelCollectionImpl","LabelCollection"]},e=>e.LabelCollectionImpl||e.LabelCollection)},35052(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{LabelItemCollection:["LabelItemCollectionImpl","LabelItemCollection"]},e=>e.LabelItemCollectionImpl||e.LabelItemCollection)},67880(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{MsgCollection:"MsgCollectionImpl"},e=>e.MsgCollectionImpl)},1160(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{MsgInfoCollection:["MsgInfoCollectionImpl","MsgInfoCollection"]},e=>e.MsgInfoCollectionImpl||e.MsgInfoCollection)},58383(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{ParticipantCollection:["ParticipantCollection"]},e=>e.ParticipantCollection)},22712(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{MuteCollection:["MuteCollectionImpl","MuteCollection"]},e=>e.MuteCollectionImpl||e.MuteCollection)},85509(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{NoteCollection:["NoteCollection.constructor"]},e=>e.NoteCollection)},21865(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{OrderCollection:["OrderCollectionImpl","OrderCollection"]},e=>e.OrderCollectionImpl||e.OrderCollection)},27082(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{OrderItemCollection:["OrderItemCollectionImpl","OrderItemCollection"]},e=>e.OrderItemCollectionImpl||e.OrderItemCollection)},2100(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{ParticipantCollection:["default"]},e=>e.default.prototype.iAmMember)},90175(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{PinInChatCollection:["PinInChatCollectionImpl","PinInChatCollection"]},e=>e.PinInChatCollectionImpl||e.PinInChatCollection)},74308(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{PresenceCollection:["PresenceCollectionImpl","PresenceCollection"]},e=>e.PresenceCollectionImpl||e.PresenceCollection)},6384(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{ProductCollCollection:["ProductCollCollectionImpl","ProductCollCollection"]},e=>e.ProductCollCollectionImpl||e.ProductCollCollection)},88354(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{ProductCollection:["ProductCollectionImpl","ProductCollection"]},e=>e.ProductCollectionImpl||e.ProductCollection)},99013(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{ProductImageCollection:["ProductImageCollectionImpl","ProductImageCollection"]},e=>e.ProductImageCollectionImpl||e.ProductImageCollection)},9239(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{ProductMessageListCollection:["ProductMessageListCollectionImpl","ProductMessageListCollection"]},e=>e.ProductMessageListCollectionImpl||e.ProductMessageListCollection)},39240(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{ProfilePicThumbCollection:["ProfilePicThumbCollectionImpl","ProfilePicThumbCollection"]},e=>e.ProfilePicThumbCollectionImpl||e.ProfilePicThumbCollection)},79320(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{QuickReplyCollection:["QuickReplyCollectionImpl","QuickReplyCollection"]},e=>e.QuickReplyCollectionImpl||e.QuickReplyCollection)},9601(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{ReactionsCollection:["ReactionsCollectionImpl","ReactionsCollection"]},e=>e.ReactionsCollectionImpl||e.ReactionsCollection)},76363(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{ReactionsSendersCollection:"ReactionsSendersCollection"},e=>e.ReactionsSendersCollection)},37354(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{RecentEmojiCollection:["RecentEmojiCollectionImpl","RecentEmojiCollection"]},e=>e.RecentEmojiCollectionImpl||e.RecentEmojiCollection)},17987(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{RecentStickerCollection:["RecentStickerCollectionImpl","RecentStickerCollection"]},e=>e.RecentStickerCollectionImpl||e.RecentStickerCollection)},18393(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{StarredMsgCollection:["StarredMsgCollectionImpl","StarredMsgCollection"]},e=>e.StarredMsgCollectionImpl||e.StarredMsgCollection)},85959(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{StatusCollection:["TextStatusCollectionImpl","TextStatusCollection"]},e=>e.TextStatusCollectionImpl||e.TextStatusCollection)},23572(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{StatusV3Collection:["StatusV3CollectionImpl","StatusCollectionImpl","StatusCollection"]},e=>e.StatusV3CollectionImpl||e.StatusV3Collection||e.StatusCollectionImpl||e.StatusCollection)},87210(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{StickerCollection:"StickerCollectionImpl"},e=>e.StickerCollectionImpl||e.StickerCollection)},84471(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{StickerPackCollection:["StickerPackCollectionImpl","StickerPackCollection"]},e=>e.StickerPackCollectionImpl||e.StickerPackCollection)},69634(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{StickerSearchCollection:["StickerSearchCollectionImpl","StickerSearchCollection"]},e=>e.StickerSearchCollectionImpl||e.StickerSearchCollection)},40999(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{TemplateButtonCollection:"TemplateButtonCollection"},e=>e.TemplateButtonCollectionImpl||e.TemplateButtonCollection)},12105(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(28922),t),o(r(93316),t),o(r(924),t),o(r(18795),t),o(r(51150),t),o(r(21330),t),o(r(83573),t),o(r(96993),t),o(r(22523),t),o(r(25716),t),o(r(10674),t),o(r(29683),t),o(r(27462),t),o(r(60193),t),o(r(54477),t),o(r(54477),t),o(r(54477),t),o(r(16794),t),o(r(58699),t),o(r(86451),t),o(r(35052),t),o(r(67880),t),o(r(1160),t),o(r(58383),t),o(r(22712),t),o(r(85509),t),o(r(21865),t),o(r(27082),t),o(r(2100),t),o(r(90175),t),o(r(74308),t),o(r(6384),t),o(r(88354),t),o(r(99013),t),o(r(9239),t),o(r(39240),t),o(r(79320),t),o(r(9601),t),o(r(76363),t),o(r(37354),t),o(r(17987),t),o(r(18393),t),o(r(85959),t),o(r(23572),t),o(r(87210),t),o(r(84471),t),o(r(69634),t),o(r(40999),t)},34491(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{DROP_ATTR:["DROP_ATTR"]},e=>e.DROP_ATTR)},40504(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{SANITIZED_VERSION_STR:["SANITIZED_VERSION_STR"]},e=>e.SANITIZED_VERSION_STR)},19198(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(34491),t),o(r(40504),t)},91979(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{ACK:["ACK","default.ACK"],EDIT_ATTR:["EDIT_ATTR","default.EDIT_ATTR"],ACK_STRING:["ACK_STRING","default.ACK_STRING"]},e=>e.ACK&&e.ACK_STRING||e.default.ACK&&e.default.ACK_STRING)},48077(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{CALL_STATES:["CALL_STATES","CallState"]},e=>e.CALL_STATES||e.CallState)},71214(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{CHANNEL_EVENT_SURFACE:"CHANNEL_EVENT_SURFACE"},e=>e.CHANNEL_EVENT_SURFACE)},49193(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{GROUP_SETTING_TYPE:["GROUP_SETTING_TYPE","default.GROUP_SETTING_TYPE"]},e=>e.GROUP_SETTING_TYPE||e.default.GROUP_SETTING_TYPE)},10611(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{KIC_ENTRY_POINT_TYPE:"KIC_ENTRY_POINT_TYPE"},e=>e.KIC_ENTRY_POINT_TYPE)},14774(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{LogoutReason:"LogoutReason",LOGOUT_REASON_CODE:"LOGOUT_REASON_CODE"},e=>e.LogoutReason&&e.LOGOUT_REASON_CODE)},48486(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{MSG_TYPE:["MSG_TYPE","default.MSG_TYPE"],SYSTEM_MESSAGE_TYPES:["SYSTEM_MESSAGE_TYPES","default.SYSTEM_MESSAGE_TYPES"]},e=>e.MSG_TYPE||e.default.MSG_TYPE)},63718(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{OUTWARD_TYPES:"OUTWARD_TYPES"},e=>e.OUTWARD_TYPES)},57579(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{PIN_STATE:"PIN_STATE"},e=>e.PIN_STATE)},51351(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{PinExpiryDurationOption:"PinExpiryDurationOption"},e=>e.PinExpiryDurationOption)},89763(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{SOCKET_STATE:["SOCKET_STATE","default.SOCKET_STATE"],SOCKET_STREAM:["SOCKET_STREAM","default.SOCKET_STREAM"],WATCHED_SOCKET_STATE:["WATCHED_SOCKET_STATE","default.WATCHED_SOCKET_STATE"]},e=>e.SOCKET_STATE||e.default.SOCKET_STATE)},40936(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{SendMsgResult:"SendMsgResult"},e=>e.SendMsgResult)},20514(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(91979),t),o(r(48077),t),o(r(71214),t),o(r(49193),t),o(r(10611),t),o(r(14774),t),o(r(48486),t),o(r(63718),t),o(r(57579),t),o(r(51351),t),o(r(40936),t)},54993(e,s,t){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t}),n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(s,"__esModule",{value:!0}),s._moduleIdMap=void 0,s.exportModule=h,s.exportProxyModel=function(e,r){let n=r.replace(/Model$/,""),o=[n];o.push(n.replace(/^(\w)/,e=>e.toLowerCase()));var t=n.split(/(?=[A-Z])/);o.push(t.join("-").toLowerCase()),o.push(t.join("_").toLowerCase()),h(e,{[r]:["default",r,n]},e=>{var t;return o.includes((null==(t=null==(t=e.default)?void 0:t.prototype)?void 0:t.proxyName)||(null==(t=null==(t=e[r])?void 0:t.prototype)?void 0:t.proxyName)||(null==(e=null==(t=e[n])?void 0:t.prototype)?void 0:e.proxyName))})},s.wrapModuleFunction=function(e,t){if("function"==typeof e){var r=s._moduleIdMap.get(e);if(r){var n=p.loadModule(r),o=y.get(e);if(o){f.extend("wrap")(`Wrapping '${o} for module ${r}'`);var i=o.split("."),a=i.pop();if(a){i=i.reduce((e,t)=>null==e?void 0:e[t],n);i[a]=("getShouldAppearInList"==a?(0,u.wrapShouldAppearFunction):(0,d.wrapFunction))(e.bind(i),t),m.set(i[a],r),y.set(i[a],o)}else{let e="function was not found in the module "+r;void(0,c.trackException)(e)}}}}};let l=n(t(17833)),u=t(43859),c=t(22418),d=t(62857),p=r(t(1132)),f=(0,l.default)("WA-JS:export");class g extends WeakMap{constructor(){super(...arguments),this.stringMap=new Map}delete(e){return"string"==typeof e?this.stringMap.delete(e):super.delete(e)}get(e){return"string"==typeof e?this.stringMap.get(e):super.get(e)}has(e){return"string"==typeof e?this.stringMap.has(e):super.has(e)}set(e,t){return"string"==typeof e?this.stringMap.set(e,t):super.set(e,t),this}}let m=new g,y=new g;function h(e,t,s){"string"==typeof t&&(t={[t]:null});for(let a of Object.keys(t)){let i=t[a];Object.defineProperty(e,a,{enumerable:!0,configurable:!0,get(){let r,n;var o=p.searchId(s);if(o){let t=p.loadModule(o);if(Array.isArray(i)){for(let e of i)if(r=()=>e.split(".").reduce((e,t)=>null==e?void 0:e[t],t),r()){n=e;break}if(!r()){let e=`Property ${i.join(" or ")} was not found for ${a} in module `+o;return(0,c.trackException)(e),void Object.defineProperty(this,a,{get:()=>{}})}}else if("string"==typeof i){if(!(r=()=>i.split(".").reduce((e,t)=>null==e?void 0:e[t],t))()){let e=`Property ${i} was not found for ${a} in module `+o;return(0,c.trackException)(e),void Object.defineProperty(this,a,{get:()=>{}})}n=i}else r=()=>t;if(r){Object.defineProperty(this,a,{get:r});try{let e=r();m.set(e,o),n&&y.set(e,n)}catch(r){}return r()}Object.defineProperty(this,a,{get:()=>{}})}else{let e=`Module ${a} was not found with `+s.toString();["revokeStatus","toggleNewsletterAdminActivityMuteStateAction"].includes(a)||(0,c.trackException)(e),void Object.defineProperty(this,a,{get:()=>{}})}}})}}s._moduleIdMap=m},11782(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{GROUP_JID:"GROUP_JID",CHAT_JID:"CHAT_JID"},e=>e.GROUP_JID&&e.CHAT_JID)},83019(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{STATUS_JID:"STATUS_JID"},e=>e.STATUS_JID)},35674(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{getAllABPropConfigs:"getAllABPropConfigs",getAllABPropsMap:"getAllABPropsMap",getABPropConfigNameFromCode:"getABPropConfigNameFromCode"},e=>e.getAllABPropConfigs&&e.getABPropConfigNameFromCode)},72116(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{addAndSendMessageEdit:"addAndSendMessageEdit"},e=>e.addAndSendMessageEdit)},19885(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{addAndSendMsgToChat:"addAndSendMsgToChat"},e=>e.addAndSendMsgToChat)},33505(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{addOrEditNoteAction:"addOrEditNoteAction",retrieveOnlyNoteForChatJid:"retrieveOnlyNoteForChatJid"},e=>e.addOrEditNoteAction&&e.retrieveOnlyNoteForChatJid)},25736(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});r=r(54993);(0,r.exportModule)(t,{addProductToCart:"addProductToCart"},e=>e.addProductToCart),(0,r.exportModule)(t,{updateProductQuantityCart:"default"},e=>{return null==(e=null==(e=e.default)?void 0:e.displayName)?void 0:e.includes("BizUpdateProductQuantityCartAction")}),(0,r.exportModule)(t,{deleteProductFromCart:"default"},e=>{return null==(e=null==(e=e.default)?void 0:e.displayName)?void 0:e.includes("BizDeleteProductFromCartAction")})},55889(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{addToLabelCollection:"addToLabelCollection",createLabelItemId:"createLabelItemId",getParentCollection:"getParentCollection",initializeLabels:"initializeLabels",removeLabelFromCollection:"removeLabelFromCollection"},e=>e.addToLabelCollection)},50854(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{blockContact:"blockContact",unblockContact:"unblockContact"},e=>e.blockContact&&e.unblockContact)},22328(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{calculateFilehashFromBlob:"calculateFilehashFromBlob"},e=>e.calculateFilehashFromBlob)},29697(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{canEditCaption:"canEditCaption"},e=>e.canEditCaption)},77082(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{canEditMsg:["canEditText","canEditMsg"]},e=>e.canEditMsg||e.canEditText)},71274(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{canReplyMsg:"canReplyMsg"},e=>e.canReplyMsg)},40581(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{canSaveAsMyContact:["canSaveAsMyContact","canSaveAsMyContacts"],canSaveAsMyContacts:["canSaveAsMyContact","canSaveAsMyContacts"]},e=>e.canSaveAsMyContact||e.canSaveAsMyContacts)},4525(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});let n=r(1132),o=r(54993),i=r(57411),a=r(43593),s=r(41968),l=r(80214);(0,o.exportModule)(t,{changeOptInStatusForExternalWebBeta:"changeOptInStatusForExternalWebBeta"},e=>e.changeOptInStatusForExternalWebBeta),(0,n.injectFallbackModule)("changeOptInStatusForExternalWebBeta",{changeOptInStatusForExternalWebBeta:async e=>{await Promise.all([(0,s.setWhatsAppWebExternalBetaDirtyBitIdb)(!0),(0,s.setWhatsAppWebExternalBetaJoinedIdb)(e)]),await(0,i.stopComms)(),await(0,i.startWebComms)(),await(0,i.startHandlingRequests)(),await(0,l.syncABPropsTask)(),await(0,a.frontendFireAndForget)("changeOptInStatusForExternalWebBeta",{}),await(0,s.setWhatsAppWebExternalBetaDirtyBitIdb)(!1)}})},63548(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{checkChatExistedOrCreate:["checkChatExistedOrCreate","checkChatExistsOrCreate"]},e=>e.checkChatExistedOrCreate||e.checkChatExistsOrCreate)},58652(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});r=r(54993);(0,r.exportModule)(t,{createCollection:"createCollection"},e=>e.createCollection),(0,r.exportModule)(t,{deleteCollection:"deleteCollection",editCollection:"editCollection"},e=>e.deleteCollection&&e.editCollection),(0,r.exportModule)(t,{queryCollectionsIQ:["queryCollectionsIQ","default"]},e=>{return e.queryCollectionsIQ||(null==(e=null==(e=e.default)?void 0:e.displayName)?void 0:e.toString().includes("QueryProductCollections"))})},71400(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{colorIndexToHex:"colorIndexToHex",getAllLabelColors:"getAllLabelColors"},e=>e.colorIndexToHex&&e.getAllLabelColors)},37300(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});r=r(54993);(0,r.exportModule)(t,{getNotifyName:"getNotifyName",getPremiumMessageName:"getPremiumMessageName",getUserid:"getUserid",getUserhash:"getUserhash",getIsMe:"getIsMe",getIsUser:"getIsUser",getIsGroup:"getIsGroup",getIsBroadcast:"getIsBroadcast",getIsNewsletter:"getIsNewsletter",getIsPSA:"getIsPSA",getIsIAS:"getIsIAS",getIsSupportAccount:"getIsSupportAccount",getIsWAContact:"getIsWAContact",getCanRequestPhoneNumber:"getCanRequestPhoneNumber",getShowBusinessCheckmarkAsPrimary:"getShowBusinessCheckmarkAsPrimary",getShowBusinessCheckmarkAsSecondary:"getShowBusinessCheckmarkAsSecondary",getShowBusinessCheckmarkInChatlist:"getShowBusinessCheckmarkInChatlist",getIsDisplayNameApproved:"getIsDisplayNameApproved",getShouldForceBusinessUpdate:"getShouldForceBusinessUpdate"},e=>e.getNotifyName&&e.getIsMe&&e.getUserid),(0,r.exportModule)(t,{getDisplayName:"getDisplayName",getPnForLid:"getPnForLid",getDisplayNameOrPnForLid:["getUserDisplayNameForLid","getDisplayNameOrPnForLid"],getFormattedPhone:["getFormattedPhone","getFormattedUsernameOrPhone"],getFormattedUsernameOrPhone:["getFormattedUsernameOrPhone","getFormattedPhone"],getFormattedShortNameWithNonBreakingSpaces:"getFormattedShortNameWithNonBreakingSpaces",getFormattedShortName:"getFormattedShortName",getFormattedName:"getFormattedName",getFormattedUser:"getFormattedUser",getSearchName:"getSearchName"},e=>e.getPhoneNumber&&e.getTextStatusString&&e.getPnForLid),(0,r.exportModule)(t,{getIsMyContact:"getIsMyContact",getMentionName:["getMentionName","getFormattedShortName"]},e=>e.getIsMyContact),(0,r.exportModule)(t,{getSearchVerifiedName:"getSearchVerifiedName",getHeader:"getHeader"},e=>e.getSearchVerifiedName&&e.getHeader)},46915(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{createChat:"createChat"},e=>e.createChat)},15878(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{createChatRecord:"createChatRecord"},e=>e.createChatRecord)},95141(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{createEventCallLink:"createEventCallLink"},e=>e.createEventCallLink)},95612(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{createFanoutMsgStanza:"createFanoutMsgStanza"},e=>e.createFanoutMsgStanza)},97718(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{createGroup:"createGroup"},e=>e.createGroup&&!e.sendForNeededAddRequest)},7967(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{createMsgProtobuf:"createMsgProtobuf"},e=>e.createMsgProtobuf)},28940(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{createNewsletterQuery:"createNewsletterQuery"},e=>e.createNewsletterQuery)},48441(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{createOrUpdateReactions:["addOrUpdateReactionsModelCollection"]},e=>e.addOrUpdateReactionsModelCollection)},10293(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{createOrder:"createOrder"},e=>e.createOrder)},25882(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{currencyForCountryShortcode:["currencyForCountryShortcode"]},e=>e.currencyForCountryShortcode)},70806(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{deleteContactAction:"deleteContactAction",deleteContactActionV2:"deleteContactAction"},e=>e.deleteContactAction)},51137(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{deleteNewsletter:"deleteNewsletter"},e=>e.deleteNewsletter)},85882(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{editBusinessProfile:"editBusinessProfile"},e=>e.editBusinessProfile)},82641(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{editNewsletterMetadataAction:"editNewsletterMetadataAction"},e=>e.editNewsletterMetadataAction)},4375(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{encodeMaybeMediaType:"encodeMaybeMediaType"},e=>e.encodeMaybeMediaType)},16877(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{encryptAndSendGroupMsg:"encryptAndSendGroupMsg"},e=>e.encryptAndSendGroupMsg)},53008(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{encryptAndSendMsg:"encryptAndSendMsg"},e=>e.encryptAndSendMsg)},32(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{encryptAndSendSenderKeyMsg:"encryptAndSendSenderKeyMsg"},e=>e.encryptAndSendSenderKeyMsg)},61158(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{encryptAndSendStatusMsg:"encryptAndSendStatusMsg"},e=>e.encryptAndSendStatusMsg)},34040(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{encryptMsgProtobuf:"encryptMsgProtobuf"},e=>e.encryptMsgProtobuf)},6357(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});let s=n(r(1132));(0,r(54993).exportModule)(t,{fetchLinkPreview:["getLinkPreview","default"]},(e,t)=>{return!(!e.getLinkPreview||e.getAck)||(e=s.moduleSource(t)).includes(".genMinimalLinkPreview")&&e.includes(".getProductOrCatalogLinkPreview")})},21892(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});let n=r(64456),o=r(1132),i=r(54993),a=r(9534);(0,i.exportModule)(t,{fetchMexGroupInviteCode:"fetchMexGroupInviteCode"},e=>e.fetchMexGroupInviteCode),(0,o.injectFallbackModule)("fetchMexGroupInviteCode",{fetchMexGroupInviteCode:async e=>{var t=await(0,n.iAmAdmin)(e);return(0,a.queryGroupInviteCode)(e,t).then(e=>e.code)}})},34324(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{findChat:["findChat","findExistingChat"]},e=>e.findChat||e.findExistingChat)},49035(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{findCommonGroups:"findCommonGroups"},e=>e.findCommonGroups)},95554(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{findFirstWebLink:"findFirstWebLink"},e=>e.findFirstWebLink)},84874(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{findOrCreateLatestChat:"findOrCreateLatestChat"},e=>e.findOrCreateLatestChat)},40300(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{forwardMessages:"forwardMessages"},(e,t)=>"WAWebChatForwardMessage"===t)},64538(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});let n=r(1132),o=r(54993),i=r(40649);(0,o.exportModule)(t,{forwardMessagesToChats:"forwardMessagesToChats"},e=>e.forwardMessagesToChats),(0,n.injectFallbackModule)("forwardMessagesToChats",{forwardMessagesToChats:(e,t,r)=>i.ChatStore.forwardMessagesToChats(e,t,r)})},43593(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{frontendFireAndForget:"frontendFireAndForget"},e=>e.frontendFireAndForget)},24444(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{genBotMsgSecretFromMsgSecret:"genBotMsgSecretFromMsgSecret"},e=>e.genBotMsgSecretFromMsgSecret)},47440(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{genLinkDeviceCodeForPhoneNumber:"genLinkDeviceCodeForPhoneNumber"},e=>e.genLinkDeviceCodeForPhoneNumber)},25602(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{genMinimalLinkPreview:"genMinimalLinkPreview"},e=>e.genMinimalLinkPreview)},85541(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{generateVideoThumbsAndDuration:"generateVideoThumbsAndDuration"},e=>e.generateVideoThumbsAndDuration)},95524(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{getABPropConfigValue:"getABPropConfigValue"},e=>e.getABPropConfigValue)},92538(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{getAsMms:"getAsMms"},e=>e.getAsMms)},89559(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{getChatRecordByAccountLid:"getChatRecordByAccountLid"},e=>e.getChatRecordByAccountLid)},42930(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{getCommunityParticipants:"getCommunityParticipants"},e=>e.getCommunityParticipants)},19553(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{getCountryShortcodeByPhone:["getCountryShortcodeByPhone"]},e=>e.getCountryShortcodeByPhone)},79731(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{getCurrentLid:"getCurrentLid"},e=>e.getCurrentLid)},74857(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{getEnforceCurrentLid:["getEnforceCurrentLid","getCurrentLidForUserWid","toLid"]},e=>e.getEnforceCurrentLid||e.getCurrentLidForUserWid||e.toLid)},92787(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{getEphemeralFields:"getEphemeralFields"},e=>e.getEphemeralFields)},89168(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{getErrorCodeFromLogoutReason:"getErrorCodeFromLogoutReason"},e=>e.getErrorCodeFromLogoutReason)},55072(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{getExisting:"getExisting"},e=>e.getExisting)},86362(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{getFanOutList:"getFanOutList"},e=>e.getFanOutList)},58084(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{getGroupSenderKeyList:"getGroupSenderKeyList",markForgetSenderKey:"markForgetSenderKey"},e=>e.getGroupSenderKeyList)},66852(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{getGroupSizeLimit:"getGroupSizeLimit"},e=>e.getGroupSizeLimit)},6281(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{getHistorySyncProgress:["getHistorySyncProgressModel","getHistorySyncProgress"]},e=>e.getHistorySyncProgressModel||e.getHistorySyncProgress&&!e.getHistorySyncLogDetailsString)},54616(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{getMembershipApprovalRequests:"getMembershipApprovalRequests"},e=>e.getMembershipApprovalRequests)},78943(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{getNewsletterSubscribers:"getNewsletterSubscribers"},e=>e.getNewsletterSubscribers)},52385(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{getNextLabelId:"getNextLabelId"},e=>e.getNextLabelId)},21236(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{getNumChatsPinned:["getNumChatsPinned","getNumConversationsPinned"]},e=>e.getNumChatsPinned||e.getNumConversationsPinned)},29473(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{getOrderInfo:"getOrderInfo"},e=>e.getOrderInfo)},55631(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{getParticipants:"getParticipants"},e=>e.getParticipants&&e.addParticipants)},43520(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{getPhoneLangPref:"getPhoneLangPref",setPhoneLangPref:"setPhoneLangPref"},e=>e.getPhoneLangPref&&e.setPhoneLangPref)},72216(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{getPhoneNumber:"getPhoneNumber"},e=>e.getPhoneNumber)},4389(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{getPrivacyDisallowedListTable:"getPrivacyDisallowedListTable"},e=>e.getPrivacyDisallowedListTable)},65130(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{getPushname:"getPushname",getUserPrivacySettings:"getUserPrivacySettings"},e=>e.getPushname&&e.setBrowserId&&e.getUserPrivacySettings)},21427(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{getQuotedMsgObj:"getQuotedMsgObj"},e=>e.getQuotedMsgObj)},23749(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{getReactions:"getReactions"},e=>e.getReactions)},73890(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{getSearchContext:"getSearchContext"},e=>e.getSearchContext)},36048(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1132),r=r(54993);(0,r.exportModule)(t,{getShouldAppearInList:"getShouldAppearInList",getPreviewMessage:"getPreviewMessage",getShowChangeNumberNotification:"getShowChangeNumberNotification",getShouldShowUnreadDivider:"getShouldShowUnreadDivider"},e=>e.getShouldAppearInList&&e.getPreviewMessage&&e.getShowChangeNumberNotification&&e.getShouldShowUnreadDivider),(0,r.exportModule)(t,{getHasUnread:"getHasUnread"},e=>e.getHasUnread),(0,n.injectFallbackModule)("getShouldAppearInList",{getShouldAppearInList:e=>e.shouldAppearInList,getPreviewMessage:e=>e.previewMessage,getShowChangeNumberNotification:e=>e.showChangeNumberNotification,getShouldShowUnreadDivider:e=>e.shouldShowUnreadDivider}),(0,n.injectFallbackModule)("getHasUnread",{getHasUnread:e=>e.hasUnread})},27027(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{getStatusAllowList:"default.getStatusAllowList",getStatusContacts:"default.getStatusContacts",getStatusDenyList:"default.getStatusDenyList",getStatusList:"default.getStatusList",getStatusPrivacySetting:"default.getStatusPrivacySetting",getStatusPrivacySettingConfig:"default.getStatusPrivacySettingConfig",setStatusPrivacyConfig:"default.setStatusPrivacyConfig"},e=>e.default.getStatusList)},44804(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{getTableVotes:["getTable"]},e=>e.getTable.toString().includes("poll"))},22696(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});let n=r(1132),o=r(54993),i=r(44804),a=r(42547);(0,o.exportModule)(t,{getVotes:"getVotes",getVote:"getVote"},e=>e.getVotes&&e.getVote),(0,n.injectFallbackModule)("getVotes",{getVote:e=>e,getVotes:async e=>(await(0,i.getTableVotes)().anyOf(["parentMsgKey"],e.map(e=>e.toString()))).map(e=>(0,a.voteFromDbRow)(e))})},41968(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{getWhatsAppWebExternalBetaJoinedIdb:["getWhatsAppWebExternalBetaJoinedIdb","getWhatsAppWebBetaJoined"],setWhatsAppWebExternalBetaDirtyBitIdb:["setWhatsAppWebExternalBetaDirtyBitIdb","setWhatsAppWebBetaDirtyBit"],setWhatsAppWebExternalBetaJoinedIdb:["setWhatsAppWebExternalBetaJoinedIdb","setWhatsAppWebBetaJoined"]},e=>e.getWhatsAppWebExternalBetaJoinedIdb&&e.setWhatsAppWebExternalBetaDirtyBitIdb&&e.setWhatsAppWebExternalBetaJoinedIdb||e.getWhatsAppWebBetaJoined&&e.setWhatsAppWebBetaDirtyBit&&e.setWhatsAppWebBetaJoined)},70772(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{addParticipants:"addParticipants",removeParticipants:"removeParticipants",promoteCommunityParticipants:"promoteCommunityParticipants",promoteParticipants:"promoteParticipants",demoteCommunityParticipants:"demoteCommunityParticipants",demoteParticipants:"demoteParticipants"},e=>e.addParticipants&&e.removeParticipants&&e.promoteCommunityParticipants&&e.promoteParticipants&&e.demoteCommunityParticipants&&e.demoteParticipants&&!e.updateParticipants)},2058(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});r=r(54993);(0,r.exportModule)(t,{handleStatusSimpleAck:["handleStatusSimpleReceipt"],handleStatusSimpleReceipt:["handleStatusSimpleReceipt"]},e=>e.handleStatusSimpleReceipt),(0,r.exportModule)(t,{handleChatSimpleAck:["handleChatSimpleReceipt"],handleChatSimpleReceipt:["handleChatSimpleReceipt"]},e=>e.handleChatSimpleReceipt),(0,r.exportModule)(t,{handleGroupSimpleAck:["handleGroupSimpleReceipt"],handleGroupSimpleReceipt:["handleGroupSimpleReceipt"]},e=>e.handleGroupSimpleReceipt)},96954(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{handleSingleMsg:["handleSingleMsg"]},e=>e.handleSingleMsg)},52757(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(35674),t),o(r(72116),t),o(r(19885),t),o(r(25736),t),o(r(55889),t),o(r(50854),t),o(r(22328),t),o(r(29697),t),o(r(77082),t),o(r(71274),t),o(r(40581),t),o(r(4525),t),o(r(63548),t),o(r(58652),t),o(r(71400),t),o(r(37300),t),o(r(46915),t),o(r(15878),t),o(r(95141),t),o(r(95612),t),o(r(97718),t),o(r(7967),t),o(r(28940),t),o(r(10293),t),o(r(48441),t),o(r(25882),t),o(r(70806),t),o(r(51137),t),o(r(85882),t),o(r(82641),t),o(r(4375),t),o(r(16877),t),o(r(53008),t),o(r(32),t),o(r(61158),t),o(r(34040),t),o(r(6357),t),o(r(21892),t),o(r(34324),t),o(r(49035),t),o(r(95554),t),o(r(84874),t),o(r(40300),t),o(r(64538),t),o(r(43593),t),o(r(24444),t),o(r(85541),t),o(r(47440),t),o(r(25602),t),o(r(95524),t),o(r(92538),t),o(r(89559),t),o(r(42930),t),o(r(19553),t),o(r(79731),t),o(r(74857),t),o(r(92787),t),o(r(89168),t),o(r(55072),t),o(r(86362),t),o(r(58084),t),o(r(66852),t),o(r(6281),t),o(r(54616),t),o(r(78943),t),o(r(52385),t),o(r(21236),t),o(r(29473),t),o(r(55631),t),o(r(43520),t),o(r(72216),t),o(r(4389),t),o(r(65130),t),o(r(21427),t),o(r(23749),t),o(r(73890),t),o(r(36048),t),o(r(27027),t),o(r(44804),t),o(r(22696),t),o(r(41968),t),o(r(11782),t),o(r(70772),t),o(r(2058),t),o(r(96954),t),o(r(89336),t),o(r(35454),t),o(r(28690),t),o(r(5724),t),o(r(2931),t),o(r(1009),t),o(r(34601),t),o(r(97153),t),o(r(27981),t),o(r(24369),t),o(r(33750),t),o(r(87071),t),o(r(946),t),o(r(64119),t),o(r(89791),t),o(r(7016),t),o(r(97591),t),o(r(43002),t),o(r(74323),t),o(r(92111),t),o(r(14877),t),o(r(6678),t),o(r(58625),t),o(r(65005),t),o(r(65512),t),o(r(35154),t),o(r(51262),t),o(r(9534),t),o(r(90087),t),o(r(40469),t),o(r(33433),t),o(r(18827),t),o(r(34048),t),o(r(68278),t),o(r(1703),t),o(r(28081),t),o(r(95528),t),o(r(88856),t),o(r(76030),t),o(r(72110),t),o(r(42556),t),o(r(99544),t),o(r(10200),t),o(r(11370),t),o(r(67047),t),o(r(7882),t),o(r(76966),t),o(r(37008),t),o(r(2571),t),o(r(54649),t),o(r(63028),t),o(r(17472),t),o(r(40502),t),o(r(97920),t),o(r(98927),t),o(r(43410),t),o(r(59502),t),o(r(98872),t),o(r(34910),t),o(r(59604),t),o(r(35603),t),o(r(83019),t),o(r(3424),t),o(r(29044),t),o(r(80214),t),o(r(72804),t),o(r(6946),t),o(r(958),t),o(r(54530),t),o(r(84236),t),o(r(70434),t),o(r(50481),t),o(r(69758),t),o(r(24245),t),o(r(21475),t),o(r(88570),t),o(r(26206),t),o(r(43068),t),o(r(76418),t),o(r(99481),t),o(r(42547),t)},89336(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{initializeAltDeviceLinking:"initializeAltDeviceLinking"},e=>e.initializeAltDeviceLinking)},35454(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{isAnimatedWebp:"isAnimatedWebp"},e=>e.isAnimatedWebp)},28690(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{isAuthenticated:["isLoggedIn","Z"],isLoggedIn:["isLoggedIn","Z"]},e=>{var t;return(null==(t=e.Z)?void 0:t.toString().includes("isRegistered"))&&(null==(t=e.Z)?void 0:t.toString().includes("getLoginTokens"))||e.isLoggedIn})},5724(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{isFilterExcludedFromSearchTreatmentInInboxFlow:"isFilterExcludedFromSearchTreatmentInInboxFlow"},e=>e.isFilterExcludedFromSearchTreatmentInInboxFlow)},2931(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{isLidMigrated:["Lid1X1MigrationUtils.isLidMigrated"]},e=>e.Lid1X1MigrationUtils&&"function"==typeof e.Lid1X1MigrationUtils.isLidMigrated)},1009(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{isRegistered:["isRegistered"]},e=>e.isRegistered)},34601(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{isUnreadTypeMsg:["isUnreadTypeMsg","isUnreadType","getIsUnreadType"]},e=>e.isUnreadTypeMsg||e.isUnreadType||e.getIsUnreadType)},97153(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{isWid:"default.isWid"},e=>e.default.isWid)},27981(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{joinGroupViaInvite:"joinGroupViaInvite"},e=>e.joinGroupViaInvite&&e.resetGroupInviteCode)},24369(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{keepMessage:"keepMessage",undoKeepMessage:"undoKeepMessage"},e=>e.keepMessage)},33750(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{labelAddAction:"labelAddAction",labelDeleteAction:"labelDeleteAction",labelEditAction:"labelEditAction"},e=>e.labelAddAction&&e.labelDeleteAction&&e.labelEditAction)},87071(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});r=r(54993);(0,r.exportModule)(t,{markUnread:"markUnread",sendSeen:"sendSeen"},e=>e.markUnread&&e.sendSeen),(0,r.exportModule)(t,{markPlayed:"markPlayed",canMarkPlayed:"canMarkPlayed"},e=>e.markPlayed)},946(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{mediaTypeFromProtobuf:"mediaTypeFromProtobuf"},e=>e.mediaTypeFromProtobuf)},64119(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{membershipApprovalRequestAction:"membershipApprovalRequestAction"},e=>e.membershipApprovalRequestAction)},89791(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{mexFetchNewsletterDirectorySearchResults:"mexFetchNewsletterDirectorySearchResults"},e=>e.mexFetchNewsletterDirectorySearchResults)},7016(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{mexJoinNewsletter:"mexJoinNewsletter"},e=>e.mexJoinNewsletter)},97591(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{mexLeaveNewsletter:"mexLeaveNewsletter"},e=>e.mexLeaveNewsletter)},43002(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{msgDataFromMsgModel:"msgDataFromMsgModel"},e=>e.msgDataFromMsgModel)},74323(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{msgFindQuery:"msgFindQuery"},e=>e.msgFindQuery&&e.getMsgsByMsgKey||e.msgFindQuery&&e.queryMessageType)},92111(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{muteNewsletter:"muteNewsletter"},e=>e.muteNewsletter)},14877(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{processRawAudioVideo:"processRawAudioVideo"},e=>e.processRawAudioVideo)},6678(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{processRawMedia:["processRawMedia","default"]},e=>{var t;return e.processRawMedia||(null==(t=null==(e=e.default)?void 0:e.toString)?void 0:t.call(e).includes("Received unsupported mediaType"))})},58625(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{processRawSticker:"processRawSticker"},e=>e.processRawSticker)},65512(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{productVisibilitySet:"productVisibilitySet"},e=>e.productVisibilitySet)},65005(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{addProduct:"addProduct",editProduct:"editProduct",deleteProducts:"deleteProducts",sendProductToChat:"sendProductToChat",queryCatalog:"queryCatalog",queryProduct:"queryProduct",queryProductList:"queryProductList"},e=>e.sendProductToChat)},35154(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{sendSetPicture:"sendSetPicture",requestDeletePicture:"requestDeletePicture"},e=>e.sendSetPicture&&e.requestDeletePicture)},51262(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{queryAllGroups:"queryAllGroups"},e=>e.queryAllGroups)},9534(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{queryGroupInviteCode:"queryGroupInviteCode"},e=>e.queryGroupInviteCode)},90087(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{queryNewsletterMetadataByJid:"queryNewsletterMetadataByJid"},e=>e.queryNewsletterMetadataByJid)},40469(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{queryOrder:"queryOrder"},e=>e.queryOrder&&e.queryOrderResponse)},33433(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{randomHex:"randomHex"},e=>e.randomHex)},18827(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{randomMessageId:["default.newId"]},e=>e.default.newId)},34048(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{removeStatusMessage:["removeStatusMessage"]},e=>e.removeStatusMessage)},68278(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{reportSpam:"reportSpam"},e=>e.reportSpam)},1703(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{resetGroupInviteCode:"resetGroupInviteCode"},e=>e.resetGroupInviteCode)},28081(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{revokeStatus:["default"]},e=>{return null==(e=null==(e=e.default)?void 0:e.displayName)?void 0:e.includes("RevokeStatusAction")})},95528(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{saveContactAction:"saveContactAction",saveContactActionV2:"saveContactAction"},e=>e.saveContactAction)},88856(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{selectChatForOneOnOneMessage:"selectChatForOneOnOneMessage"},e=>e.selectChatForOneOnOneMessage)},76030(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{sendClear:"sendClear"},e=>{return e.sendClear&&(null==(e=null==(e=e.sendClear)?void 0:e.toString())?void 0:e.includes("WAWebStateUtils"))})},72110(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{sendCreateCommunity:"sendCreateCommunity",sendDeactivateCommunity:"sendDeactivateCommunity",sendLinkSubgroups:"sendLinkSubgroups",sendUnlinkSubgroups:"sendUnlinkSubgroups"},e=>e.sendCreateCommunity)},42556(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});let s=r(38385),l=n(r(1132)),u=r(54993),c=r(97718);(0,u.exportModule)(t,{sendCreateGroup:"sendCreateGroup"},e=>e.sendCreateGroup),l.injectFallbackModule("sendCreateGroup",{sendCreateGroup:async(e,t,r,n)=>(0,s.compare)(self.Debug.VERSION,"2.3000.1027323699",">=")?await(0,c.createGroup)({title:e,ephemeralDuration:r||0,restrict:!0,announce:!0,membershipApprovalMode:!1,memberAddMode:!0,parentGroupId:n},t.map(e=>({phoneNumber:e}))).then(e=>({gid:e.wid,participants:e.participants.map(e=>({userWid:e.wid,code:null!=e.error?e.error.toString():"200",invite_code:e.invite_code,invite_code_exp:e.invite_code_exp}))})):await(0,c.createGroup)({title:e,ephemeralDuration:r||0,restrict:!0,announce:!0,membershipApprovalMode:!1,memberAddMode:!0,parentGroupId:n},t).then(e=>({gid:e.wid,participants:e.participants.map(e=>({userWid:e.wid,code:null!=e.error?e.error.toString():"200",invite_code:e.invite_code,invite_code_exp:e.invite_code_exp}))}))})},99544(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{sendDelete:"sendDelete"},e=>e.sendDelete)},10200(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{sendExitGroup:"sendExitGroup"},e=>e.sendExitGroup)},11370(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{sendAddParticipants:["sendAddParticipants","addGroupParticipants"],sendRemoveParticipants:["sendRemoveParticipants","removeGroupParticipants"],sendPromoteParticipants:["sendPromoteParticipants","promoteGroupParticipants"],sendDemoteParticipants:["sendDemoteParticipants","demoteGroupParticipants"]},e=>e.sendAddParticipants&&e.sendRemoveParticipants&&e.sendPromoteParticipants&&e.sendDemoteParticipants||e.addGroupParticipants&&e.removeGroupParticipants&&e.promoteGroupParticipants&&e.demoteGroupParticipants)},67047(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});let s=r(64456),l=n(r(1132)),u=r(14647),c=r(54993),d=r(27981);(0,c.exportModule)(t,{sendJoinGroupViaInvite:"sendJoinGroupViaInvite"},e=>e.sendJoinGroupViaInvite),l.injectFallbackModule("sendJoinGroupViaInvite",{sendJoinGroupViaInvite:async e=>{var t=await(0,s.getGroupInfoFromInviteCode)(e);return u.ChatStore.get(t.id.toString())&&await(0,s.iAmMember)(t.id.toString())?t.id:(0,d.joinGroupViaInvite)(e).then(e=>e.gid)}})},7882(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{sendNewsletterMessageJob:["sendNewsletterMessageJob","sendNewsletterMessage"]},e=>e.sendNewsletterMessageJob||e.sendNewsletterMessage)},76966(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{sendOrderStatusMessageAsMerchant:"sendOrderStatusMessageAsMerchant"},e=>e.sendOrderStatusMessageAsMerchant&&e.sendOrderPaymentStatusMessageAsMerchant)},37008(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{sendPinInChatMsg:"sendPinInChatMsg"},e=>e.sendPinInChatMsg)},2571(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{sendQueryExists:["queryExists","queryWidExists"]},e=>e.queryExists&&e.queryPhoneExists||e.queryWidExists&&e.queryPhoneExists)},54649(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{sendQueryGroupInvite:"sendQueryGroupInvite"},e=>e.sendQueryGroupInvite)},63028(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});let s=n(r(1132)),l=r(54993),u=r(52757);(0,l.exportModule)(t,{sendQueryGroupInviteCode:"sendQueryGroupInviteCode"},e=>e.sendQueryGroupInviteCode),s.injectFallbackModule("sendQueryGroupInviteCode",{sendQueryGroupInviteCode:async e=>(0,u.fetchMexGroupInviteCode)(e)})},17472(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{sendReactionToMsg:"sendReactionToMsg"},e=>e.sendReactionToMsg)},40502(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});let s=n(r(1132)),l=r(54993),u=r(1703);(0,l.exportModule)(t,{sendRevokeGroupInviteCode:"sendRevokeGroupInviteCode"},e=>e.sendRevokeGroupInviteCode),s.injectFallbackModule("sendRevokeGroupInviteCode",{sendRevokeGroupInviteCode:async e=>(0,u.resetGroupInviteCode)(e).then(e=>e.code)})},97920(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{sendTextMsgToChat:"sendTextMsgToChat"},e=>e.sendTextMsgToChat)},98927(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{setArchive:"setArchive"},e=>e.setArchive)},43410(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{sendSetGroupSubject:["sendSetGroupSubject","setGroupSubject"],sendSetGroupDescription:["sendSetGroupDescription","setGroupDescription"],sendSetGroupProperty:["sendSetGroupProperty","setGroupProperty"]},e=>e.sendSetGroupSubject&&e.sendSetGroupDescription&&e.sendSetGroupProperty||e.setGroupSubject&&e.setGroupDescription&&e.setGroupProperty)},59502(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{setPin:"setPin"},e=>e.setPin&&!e.unpinAll&&!e.getPinLimit)},98872(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{setPrivacyForOneCategory:"setPrivacyForOneCategory"},e=>e.setPrivacyForOneCategory)},34910(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{setPushname:"setPushname"},e=>e.setPushname&&!e.setBrowserId)},59604(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{shouldHaveAccountLid:["shouldHaveAccountLid"]},e=>"function"==typeof e.shouldHaveAccountLid)},35603(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{getStatus:"getStatus",setMyStatus:"setMyStatus"},e=>e.getStatus&&e.setMyStatus&&e.queryStatusAll)},3424(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{primaryFeatureEnabled:"primaryFeatureEnabled"},e=>e.primaryFeatureEnabled)},29044(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{subscribePresence:"subscribePresence"},e=>e.subscribePresence)},80214(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{syncABPropsTask:"syncABPropsTask"},e=>e.syncABPropsTask)},6946(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{toUserLid:["toUserLid","toUserLidOrThrow"],toUserLidOrThrow:"toUserLidOrThrow"},e=>e.toUserLid||e.toUserLidOrThrow)},72804(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{toggleNewsletterAdminActivityMuteStateAction:"toggleNewsletterAdminActivityMuteStateAction"},e=>e.toggleNewsletterAdminActivityMuteStateAction)},958(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{typeAttributeFromProtobuf:"typeAttributeFromProtobuf"},e=>e.typeAttributeFromProtobuf)},54530(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});r=r(54993);let n=!1;(0,r.exportModule)(t,{unixTime:["unixTime","Clock.globalUnixTime"],unixTimeMs:["unixTimeMs","Clock.globalUnixTimeMilliseconds"]},e=>{var t;return!!e.unixTime||(!n&&null!=(t=e.Clock)&&t.globalUnixTime&&(n=!0,e.Clock.globalUnixTime=e.Clock.globalUnixTime.bind(e.Clock),e.Clock.globalUnixTimeMilliseconds=e.Clock.globalUnixTimeMilliseconds.bind(e.Clock)),null==(t=e.Clock)?void 0:t.globalUnixTime)})},84236(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{unmuteNewsletter:"unmuteNewsletter"},e=>e.unmuteNewsletter)},70434(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{updateCart:"updateCart"},e=>e.updateCart)},50481(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{updateCartEnabled:"updateCartEnabled"},e=>e.updateCartEnabled)},69758(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{updateDBForGroupAction:["updateDBForGroupAction","handleGroupActionMD"]},e=>e.updateDBForGroupAction||e.handleGroupActionMD)},24245(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{updateMessageTable:"updateMessageTable"},e=>e.updateMessageTable)},21475(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{updateNewsletterMsgRecord:"updateNewsletterMsgRecord",addNewsletterMsgsRecords:"addNewsletterMsgsRecords"},e=>e.updateNewsletterMsgRecord)},88570(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{updateParticipants:"updateParticipants"},e=>e.updateParticipants&&e.addParticipants)},26206(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{uploadMedia:"uploadMedia"},e=>e.uploadMedia)},43068(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{uploadProductImage:"uploadProductImage"},e=>e.uploadProductImage&&e.MediaPrep)},76418(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});let s=n(r(1132));(0,r(54993).exportModule)(t,{uploadThumbnail:"default"},(e,t)=>{return"WAWebMediaUploadMmsThumbnail"===t||(t=s.moduleSource(t)).includes("thumbnail")&&t.includes(".cancelUploadMedia")&&t.includes(".calculateFilehashFromBlob")})},99481(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{upsertVotes:["upsertVotesDb","upsertVotes"]},e=>e.upsertVotesDb||e.upsertVotes)},42547(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{voteFromDbRow:["voteFromDbRow"]},e=>e.voteFromDbRow)},14647(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)},s=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t}),l=(Object.defineProperty(t,"__esModule",{value:!0}),t.websocket=t.multidevice=t.functions=t._moduleIdMap=t.enums=t.contants=void 0,n(r(12105),t),t.contants=s(r(19198)),t.enums=s(r(20514)),r(54993));Object.defineProperty(t,"_moduleIdMap",{enumerable:!0,get:function(){return l._moduleIdMap}}),t.functions=s(r(52757)),n(r(45588),t),n(r(51990),t),t.multidevice=s(r(83703)),n(r(40649),t),n(r(70754),t),t.websocket=s(r(57411))},19170(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,"ApiContact",e=>e.getCurrentLid&&e.getPhoneNumber)},84513(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,"Base64",e=>e.encodeB64&&e.decodeB64)},48212(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{Browser:"default"},e=>e.default.id&&e.default.startDownloading)},91033(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,"ChatPresence",e=>e.markComposing)},35276(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{CmdClass:"CmdImpl",Cmd:"Cmd"},e=>e.Cmd&&e.CmdImpl)},46820(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{ComposeBoxActions:"ComposeBoxActions"},e=>e.ComposeBoxActions)},19336(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{Conn:"Conn"},e=>e.Conn&&e.ConnImpl||e.Conn)},42865(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{Constants:"default"},e=>e.default.IMG_THUMB_MAX_EDGE||e.default.WA_COMMERCE_POLICY_URL)},74942(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{createLidPnMappings:"createLidPnMappings"},e=>e.createLidPnMappings)},38627(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,"Enviroment",e=>void 0!==e.default.isWeb&&void 0!==e.default.isWindows||void 0!==e.isWeb&&void 0!==e.isWindows)},26740(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{EventEmitter:"default"},(e,t)=>"WAWebEventEmitter"===t||e.default.toString().includes("Callback parameter passed is not a function"))},33216(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,"ImageUtils",e=>e.rotateAndResize)},47868(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t}),n=(Object.defineProperty(t,"__esModule",{value:!0}),n(r(1132)));(0,r(54993).exportModule)(t,"IsOfficialClient",e=>void 0!==e.isOfficialClient),n.injectFallbackModule("IsOfficialClient",{isOfficialClient:!0})},95604(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{Lid1X1MigrationUtils:"Lid1X1MigrationUtils"},e=>e.Lid1X1MigrationUtils.isLidMigrated)},28117(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{lidPnCache:"lidPnCache"},e=>e.lidPnCache)},92448(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{LruMediaStore:"LruMediaStore"},e=>e.LruMediaStore&&"function"==typeof e.LruMediaStore.get&&"function"==typeof e.LruMediaStore.put&&"function"==typeof e.LruMediaStore.del&&"function"==typeof e.LruMediaStore.clear&&"function"==typeof e.LruMediaStore.count&&"function"==typeof e.LruMediaStore.has)},4749(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{MediaBlobCacheImpl:["InMemoryMediaBlobCacheImpl","MediaBlobCacheImpl"],MediaBlobCache:["InMemoryMediaBlobCache","MediaBlobCache"]},e=>e.InMemoryMediaBlobCacheImpl||e.MediaBlobCache)},32974(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{MediaEntry:["EncryptedMediaEntry","MediaEntry"]},e=>e.EncryptedMediaEntry||e.MediaEntry)},36939(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,"MediaGatingUtils",e=>e.getUploadLimit&&"function"==typeof e.getUploadLimit)},78959(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{MediaObject:"MediaObject"},e=>e.webMediaTypeToWamMediaType)},69675(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,"MediaObjectUtil",e=>e.getOrCreateMediaObject)},91911(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,"MediaPrep",e=>e.uploadProductImage&&e.MediaPrep)},33115(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,"MediaUtils",e=>e.getImageWidthHeight)},18358(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{MsgKey:"default"},e=>e.default.toString().includes("MsgKey error: obj is null/undefined"))},36061(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{MsgLoad:"ChatMsgsCollection"},e=>e.ChatMsgsCollection)},19424(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{NetworkStatus:"default"},e=>e.default.checkOnline)},84229(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});r=r(54993);(0,r.exportModule)(t,{OpaqueDataBase:"default"},e=>e.default.prototype.throwIfReleased),(0,r.exportModule)(t,{OpaqueData:"default"},e=>e.default.createFromData)},74070(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{ProductCatalogSession:"ProductCatalogSession"},e=>e.ProductCatalogSession)},65931(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});let n=r(1132),o=r(54993),i=r(35562);(0,o.exportModule)(t,{ServerProps:"ServerProps"},e=>e.getMaxFilesSizeServerProp&&e.ServerProps||e.getMaxFilesSize&&e.ServerProps),(0,n.injectFallbackModule)("ServerProps",{getMaxFilesSizeServerProp:()=>i.ServerPropsConstants.MAX_FILE_SIZE_BYTES,ServerProps:{}})},35562(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1132),o=r(54993),r=r(65931);(0,o.exportModule)(t,"ServerPropsConstants",e=>e.MAX_FILE_SIZE_BYTES),(0,n.injectFallbackModule)("ServerPropsConstants",{MMS_VCARD_AUTODOWNLOAD_SIZE_KB:64,VCARD_AS_DOCUMENT_SIZE_KB:64,VCARD_MAX_SIZE_KB:5e3,MULTICAST_LIMIT_GLOBAL:(null===r.ServerProps||void 0===r.ServerProps?void 0:r.ServerProps.frequentlyForwardedMax)||5,PTT_PLAYBACK_SPEED_HIDE_DELAY:1500,DEFAULT_MAX_FILE_SIZE_BYTES:104857600,MAX_FILE_SIZE_BYTES:(null===r.ServerProps||void 0===r.ServerProps?void 0:r.ServerProps.maxFileSize)||104857600,UNINITIALIZED_VALUE_WEB_BIZ_PROFILE_OPTIONS:3})},82183(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{Socket:"Socket"},e=>e.Socket)},40302(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{Stream:"Stream"},e=>e.Stream)},32122(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{USyncQuery:"USyncQuery"},e=>e.USyncQuery)},59659(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{USyncUser:"USyncUser"},e=>e.USyncUser)},43871(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,"UserPrefs",e=>{var t,r,n="function"==typeof(null==e?void 0:e.getMaybeMePnUser),o="function"==typeof(null==e?void 0:e.getMaybeMeUser);if(!n&&!o)return!1;try{if(e&&"function"!=typeof e.getMaybeMeUser&&null!=(t=e.hasOwnProperty)&&t.call(e,"getMaybeMeUser"))try{delete e.getMaybeMeUser}catch(e){}if(e&&"function"!=typeof e.getMaybeMePnUser&&null!=(r=e.hasOwnProperty)&&r.call(e,"getMaybeMePnUser"))try{delete e.getMaybeMePnUser}catch(e){}n&&!o?Object.defineProperty(e,"getMaybeMeUser",{value:e.getMaybeMePnUser.bind(e),configurable:!0,writable:!0}):o&&!n&&Object.defineProperty(e,"getMaybeMePnUser",{value:e.getMaybeMeUser.bind(e),configurable:!0,writable:!0})}catch(e){}return!0})},90167(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{getAutoDownloadPhotos:"getAutoDownloadPhotos",setAutoDownloadPhotos:"setAutoDownloadPhotos",getAutoDownloadAudio:"getAutoDownloadAudio",setAutoDownloadAudio:"setAutoDownloadAudio",getAutoDownloadVideos:"getAutoDownloadVideos",setAutoDownloadVideos:"setAutoDownloadVideos",getAutoDownloadDocuments:"getAutoDownloadDocuments",setAutoDownloadDocuments:"setAutoDownloadDocuments",getTheme:"getTheme",setTheme:"setTheme"},e=>e.getAutoDownloadPhotos&&e.setAutoDownloadPhotos&&e.getTheme)},70924(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,"VCard",e=>e.vcardFromContactModel)},94484(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{Wid:"default"},e=>e.default.isXWid)},43996(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,"WidFactory",e=>e.createWid)},45588(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(19170),t),o(r(84513),t),o(r(48212),t),o(r(91033),t),o(r(35276),t),o(r(46820),t),o(r(19336),t),o(r(42865),t),o(r(38627),t),o(r(26740),t),o(r(33216),t),o(r(47868),t),o(r(95604),t),o(r(28117),t),o(r(92448),t),o(r(4749),t),o(r(32974),t),o(r(36939),t),o(r(78959),t),o(r(69675),t),o(r(91911),t),o(r(33115),t),o(r(18358),t),o(r(36061),t),o(r(19424),t),o(r(84229),t),o(r(74070),t),o(r(65931),t),o(r(35562),t),o(r(82183),t),o(r(40302),t),o(r(43871),t),o(r(90167),t),o(r(32122),t),o(r(59659),t),o(r(70924),t),o(r(94484),t),o(r(43996),t)},10298(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"AggReactionsModel")},38656(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"AttachMediaModel")},27502(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"BlocklistModel")},94805(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"BotProfileModel")},51478(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"BusinessCategoriesResultModel")},33436(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"BusinessProfileModel")},98651(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"CallModel")},5424(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"CartItemModel")},55001(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"CartModel")},84424(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"CatalogModel")},19717(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"ChatModel")},28702(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"ChatPreferenceModel")},57516(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{ChatstateModel:"Chatstate"},e=>e.Chatstate&&e.ChatstateCollection||e.Chatstate)},27961(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{ConnModel:["ConnImpl","Conn"]},e=>e.ConnImpl||e.Conn&&!e.ConnImpl)},89853(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"ContactModel")},39467(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"ConversionTupleModel")},52710(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"EmojiVariantModel")},84291(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"GroupMetadataModel")},43669(e,t,r){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});let s=n(r(1132)),l=r(54993),u=r(52757);(0,l.exportModule)(t,{HistorySyncProgressModel:"HistorySyncProgressModel"},e=>e.HistorySyncProgressModel);n={};Object.defineProperty(n,"HistorySyncProgressModel",{configurable:!0,enumerable:!0,get:()=>(0,u.getHistorySyncProgress)().constructor}),s.injectFallbackModule("HistorySyncProgressModel",n)},74910(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"LabelItemModel")},30207(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"LabelModel")},67437(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"MediaDataModel")},8375(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{Model:"BaseModel"},e=>e.defineModel)},29836(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{ModelChatBase:"default"},(e,t)=>"WAWebSuperChatMsgs"===t||e.default.toString().includes("onEmptyMRM not implemented"))},35717(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"MsgButtonReplyMsgModel")},41202(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"MsgInfoModel")},88753(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"MsgInfoParticipantModel")},99090(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"MsgModel")},51868(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"MuteModel")},17993(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{NetworkStatusModel:"default.constructor"},e=>e.default.checkOnline)},76959(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"NoteModel")},40688(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"OrderItemModel")},55961(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"OrderModel")},88758(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"ParticipantModel")},53356(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{PresenceModel:"Presence"},e=>e.Presence&&e.ChatstateCollection||e.Presence&&e.Chatstate)},62078(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"ProductCollModel")},60771(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"ProductImageModel")},11685(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{ProductMessageListModel:"ProductMessageList"},e=>e.ProductMessageList)},68364(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"ProductModel")},18486(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"ProfilePicThumbModel")},76520(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"QuickReplyModel")},37285(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"ReactionsModel")},83497(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"ReactionsSendersModel")},49040(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"RecentEmojiModel")},56875(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"RecentStickerModel")},42217(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"ReplyButtonModel")},23752(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{ServerPropsModel:"ServerProps"},e=>e.getMaxFilesSizeServerProp&&e.ServerProps||e.getMaxFilesSize&&e.ServerProps)},38428(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{Socket:"Socket.constructor"},e=>{return null==(e=e.Socket)?void 0:e.initConn})},8489(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{StatusModel:["default"]},e=>{return null==(e=e.default)?void 0:e.prototype.__props.includes("status")})},77104(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{StatusV3Model:["default"]},e=>{return null==(e=e.default)?void 0:e.prototype.sendReadStatus})},4268(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"StickerModel")},45287(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"StickerPackModel")},15567(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{StreamModel:"Stream.constructor"},e=>e.Stream)},30781(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"TemplateButtonModel")},25468(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportProxyModel)(t,"UnreadMentionModel")},51990(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(10298),t),o(r(38656),t),o(r(27502),t),o(r(94805),t),o(r(51478),t),o(r(33436),t),o(r(98651),t),o(r(5424),t),o(r(55001),t),o(r(84424),t),o(r(19717),t),o(r(28702),t),o(r(57516),t),o(r(27961),t),o(r(89853),t),o(r(39467),t),o(r(52710),t),o(r(84291),t),o(r(43669),t),o(r(74910),t),o(r(30207),t),o(r(67437),t),o(r(8375),t),o(r(29836),t),o(r(35717),t),o(r(41202),t),o(r(88753),t),o(r(99090),t),o(r(51868),t),o(r(17993),t),o(r(76959),t),o(r(40688),t),o(r(55961),t),o(r(88758),t),o(r(88758),t),o(r(53356),t),o(r(62078),t),o(r(60771),t),o(r(11685),t),o(r(68364),t),o(r(18486),t),o(r(76520),t),o(r(37285),t),o(r(83497),t),o(r(49040),t),o(r(56875),t),o(r(42217),t),o(r(23752),t),o(r(38428),t),o(r(8489),t),o(r(77104),t),o(r(4268),t),o(r(45287),t),o(r(15567),t),o(r(30781),t),o(r(25468),t)},1570(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,"adv",e=>e.getADVSecretKey&&e.setADVSignedIdentity)},83703(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(1570),t),o(r(91921),t),o(r(60154),t)},91921(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{waNoiseInfo:"waNoiseInfo"},e=>e.waNoiseInfo)},60154(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{waSignalStore:"waSignalStore"},e=>e.waSignalStore)},40649(e,r,t){var o,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||(o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=o(e),n=0;n<r.length;n++)"default"!==r[n]&&i(t,e,r[n]);return a(t,e),t});Object.defineProperty(r,"__esModule",{value:!0});let s=n(t(12105)),l=t(54993);for(let e of["BlocklistStore","BusinessCategoriesResultStore","BusinessProfileStore","CallStore","CartStore","CatalogStore","ChatStore","ContactStore","EmojiVariantStore","GroupMetadataStore","LabelStore","MsgStore","MsgInfoStore","MuteStore","OrderStore","PinInChatStore","PresenceStore","ProductMessageListStore","ProfilePicThumbStore","QuickReplyStore","ReactionsStore","RecentEmojiStore","StatusStore","StatusV3Store","StickerStore","StickerSearchStore"]){let t=e.replace("Store","Collection");(0,l.exportModule)(r,{[e]:["default",t]},e=>(e.default||e[t])instanceof s[t])}(0,l.exportModule)(r,{RecentStickerStore:["default","RecentStickerCollectionMd","RecentStickerCollection"]},e=>e.RecentStickerCollection),(0,l.exportModule)(r,{StarredMsgStore:["default","AllStarredMsgsCollection"]},e=>e.StarredMsgCollection),(0,l.exportModule)(r,{StickerPackStore:["default","StickerPackCollectionMd","StickerPackCollection"]},e=>e.StickerPackCollection),(0,l.exportModule)(r,{NewsletterStore:"default"},(e,t)=>"WAWebNewsletterCollection"===t&&e.default),(0,l.exportModule)(r,{StatusStore:"TextStatusCollection"},e=>e.TextStatusCollection),(0,l.exportModule)(r,{StatusV3Store:["StatusV3Collection","StatusCollection"]},e=>e.StatusV3CollectionImpl||e.StatusCollection),(0,l.exportModule)(r,{BlocklistStore:["default","BlocklistCollection"]},e=>e.BlocklistCollection),(0,l.exportModule)(r,{PresenceStore:["PresenceCollectionImpl","PresenceCollection"]},e=>e.PresenceCollectionImpl||e.PresenceCollection),(0,l.exportModule)(r,{CartStore:["CartCollectionImpl","CartCollection"]},e=>e.CartCollectionImpl||e.CartCollection),(0,l.exportModule)(r,{CatalogStore:["CatalogCollectionImpl","CatalogCollection"]},e=>e.CatalogCollectionImpl||e.CatalogCollection),(0,l.exportModule)(r,{EmojiVariantStore:["EmojiVariantCollectionImpl","EmojiVariantCollection"]},e=>e.EmojiVariantCollectionImpl||e.EmojiVariantCollection),(0,l.exportModule)(r,{LabelStore:["LabelCollectionImpl","LabelCollection"]},e=>e.LabelCollectionImpl||e.LabelCollection),(0,l.exportModule)(r,{MsgInfoStore:["MsgInfoCollectionImpl","MsgInfoCollection"]},e=>e.MsgInfoCollectionImpl||e.MsgInfoCollection),(0,l.exportModule)(r,{MuteStore:["MuteCollectionImpl","MuteCollection"]},e=>e.MuteCollectionImpl||e.MuteCollection),(0,l.exportModule)(r,{OrderStore:["OrderCollectionImpl","OrderCollection"]},e=>e.OrderCollectionImpl||e.OrderCollection),(0,l.exportModule)(r,{PinInChatStore:["PinInChatCollectionImpl","PinInChatCollection"]},e=>e.PinInChatCollectionImpl||e.PinInChatCollection),(0,l.exportModule)(r,{ProductMessageListStore:["ProductMessageListCollectionImpl","ProductMessageListCollection"]},e=>e.ProductMessageListCollectionImpl||e.ProductMessageListCollection),(0,l.exportModule)(r,{RecentEmojiStore:["RecentEmojiCollectionImpl","RecentEmojiCollection"]},e=>e.RecentEmojiCollectionImpl||e.RecentEmojiCollection),(0,l.exportModule)(r,{StickerSearchStore:["StickerSearchCollectionImpl","StickerSearchCollection"]},e=>e.StickerSearchCollectionImpl||e.StickerSearchCollection),(0,l.exportModule)(r,{BusinessProfileStore:["BusinessProfileCollectionImpl","BusinessProfileCollection"]},e=>e.BusinessProfileCollectionImpl||e.BusinessProfileCollection),(0,l.exportModule)(r,{BotProfileStore:["BotProfileCollection"]},e=>e.BotProfileCollection),(0,l.exportModule)(r,{ProfilePicThumbStore:["ProfilePicThumbCollection","ProfilePicThumbCollectionImpl"]},e=>e.ProfilePicThumbCollection||e.ProfilePicThumbCollectionImpl),(0,l.exportModule)(r,{QuickReplyStore:["QuickReplyCollectionImpl","QuickReplyCollection"]},e=>e.QuickReplyCollectionImpl||e.QuickReplyCollection),(0,l.exportModule)(r,{NoteStore:["NoteCollection"]},e=>e.NoteCollection),(0,l.exportModule)(r,{ReactionsStore:["ReactionsCollectionImpl","ReactionsCollection"]},e=>e.ReactionsCollectionImpl||e.ReactionsCollection),(0,l.exportModule)(r,{ChatStore:["ChatCollection"]},e=>e.ChatCollection)},70754(e,t){Object.defineProperty(t,"__esModule",{value:!0})},34439(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{WapNode:"WapNode"},e=>e.WapNode)},57346(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{ensureE2ESessions:"ensureE2ESessions"},e=>e.ensureE2ESessions)},12045(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{generateId:"generateId"},e=>e.generateId)},57411(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(57346),t),o(r(12045),t),o(r(82257),t),o(r(82590),t),o(r(49440),t),o(r(81894),t),o(r(6123),t),o(r(34439),t)},82257(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{sendSmaxStanza:"sendSmaxStanza"},e=>e.sendSmaxStanza)},82590(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{smax:"smax"},e=>e.smax)},49440(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{startWebComms:"startWebComms"},e=>e.startWebComms)},81894(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{stopComms:"stopComms",startHandlingRequests:"startHandlingRequests"},e=>e.stopComms)},6123(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),(0,r(54993).exportModule)(t,{wap:"wap"},e=>e.wap)},20748(e,t){function d(n,o,i,e){var a={timer:void 0,lastArgs:[]},t=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];a.lastArgs=t,a.timer?clearTimeout(a.timer):o&&i.apply(this,a.lastArgs),a.timer=setTimeout(function(){o||i.apply(e,a.lastArgs),a.timer=void 0},n)};return(t=e?t.bind(e):t).options=a,t}function i(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(0===r.length)throw new Error("function applied debounce decorator should be a method");if(1===r.length)throw new Error("method applied debounce decorator should have valid name");var o,i,a,s,l=r[0],u=r[1],c=3===r.length&&r[2]?r[2]:Object.getOwnPropertyDescriptor(l,u);if(c)return o=(c=c).value,c.value=d(e,t,o),c;i=e,a=t,Object.defineProperty(l,u,{configurable:!0,enumerable:!1,get:function(){return s},set:function(e){s=d(i,a,e,this)}})}Object.defineProperty(t,"__esModule",{value:!0}),t.cancel=function(e){e&&e.options&&clearTimeout(e.options.timer)},t.debounce=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r,n=500,o=!1;return e.length&&("number"==typeof e[0]||"object"==typeof e[0]&&void 0!==e[0].leading)?("number"==typeof e[0]&&(n=e[0]),r=void 0,"object"==typeof e[0]&&void 0!==e[0].leading&&(r=e[0]),(r=1<e.length&&"object"==typeof e[1]&&void 0!==e[1].leading?e[1]:r)&&(o=r.leading),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.apply(void 0,[n,o].concat(e))}):i.apply(void 0,[n,o].concat(e))}},44276(e,t){var r;void 0!==(t="function"==typeof(r=function(){function t(e){return t.regex.test((e||"").trim())}return t.regex=/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i,t})?r.apply(t,[]):r)&&(e.exports=t)},54428(){}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];return void 0!==t||(t=__webpack_module_cache__[e]={exports:{}},__webpack_modules__[e].call(t.exports,t,t.exports,__webpack_require__)),t.exports}__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(28156);self.WATB=__webpack_exports__})()}.call(this)}.call(this,require("_process"),require("timers").setImmediate)},{_process:2,timers:3}],2:[function(e,t,r){var n,o,t=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(e){o=a}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return(n=setTimeout)(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}var l,u=[],c=!1,d=-1;function p(){c&&l&&(c=!1,l.length?u=l.concat(u):d=-1,u.length)&&f()}function f(){if(!c){for(var e=s(p),t=(c=!0,u.length);t;){for(l=u,u=[];++d<t;)l&&l[d].run();d=-1,t=u.length}l=null,c=!1,!function(t){if(o===clearTimeout)return clearTimeout(t);if((o===a||!o)&&clearTimeout)return(o=clearTimeout)(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function m(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new g(e,t)),1!==u.length||c||s(f)},g.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=m,t.addListener=m,t.once=m,t.off=m,t.removeListener=m,t.removeAllListeners=m,t.emit=m,t.prependListener=m,t.prependOnceListener=m,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],3:[function(l,e,u){!function(r,s){!function(){var n=l("process/browser.js").nextTick,e=Function.prototype.apply,o=Array.prototype.slice,i={},a=0;function t(e,t){this._id=e,this._clearFn=t}u.setTimeout=function(){return new t(e.call(setTimeout,window,arguments),clearTimeout)},u.setInterval=function(){return new t(e.call(setInterval,window,arguments),clearInterval)},u.clearTimeout=u.clearInterval=function(e){e.close()},t.prototype.unref=t.prototype.ref=function(){},t.prototype.close=function(){this._clearFn.call(window,this._id)},u.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},u.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},u._unrefActive=u.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},u.setImmediate="function"==typeof r?r:function(e){var t=a++,r=!(arguments.length<2)&&o.call(arguments,1);return i[t]=!0,n(function(){i[t]&&(r?e.apply(null,r):e.call(null),u.clearImmediate(t))}),t},u.clearImmediate="function"==typeof s?s:function(e){delete i[e]}}.call(this)}.call(this,l("timers").setImmediate,l("timers").clearImmediate)},{"process/browser.js":2,timers:3}],4:[function(e,t,r){!async function(){let R={},F;async function D(e){try{return(await WATB.contact.queryExists(e)).wid._serialized}catch(e){return!1}}function W(e){window.dispatchEvent(new CustomEvent("toAngular",{detail:e}))}function U(t){return new Promise(e=>setTimeout(e,t))}async function G(e){try{var t=await e();return Array.isArray(t)?t.filter(e=>e&&"object"==typeof e):[]}catch{return[]}}function q(e){try{return e.endsWith("lid")?WATB.whatsapp.ApiContact.getPhoneNumber(WATB.whatsapp.WidFactory.createUserWidOrThrow(e,"lid"))?._serialized:e}catch{return e}}window.WATB.webpack.onReady(function(){(R=WATB.whatsapp).sendPresenceAvailable=R.ChatPresence?.sendPresenceAvailable,R.sendReadStatus=R.StatusV3Model?.sendReadStatus,R.MsgStore?.on("change",(e,t)=>{!e.id?.fromMe&&e.__x_backupType&&"revoked"==e.__x_type&&(e=R.MsgStore.get(e.id._serialized))&&"chat"==e.__x_backupType&&W({action:"saveRevoked",id:e.id._serialized,type:e.__x_backupType,body:e.__x_backupBody,text:e.__x_backupText,from:(e.author||e.from)?.user})}),R.MsgStore?.on("add",async(r,e,t,n)=>{try{if(r&&r.isNewMsg&&r.id?.fromMe){if("g.us"==r.id?.remote?.server&&function(e){if(!e)return;let t=(`${e.body||""} `+(e.caption||"")).toLowerCase();return["@everyone","@all","@here","@\u0627\u0644\u062c\u0645\u064a\u0639","@\u0627\u0644\u0643\u0644","@todos","@tous","@\u05db\u05d5\u05dc\u05dd","@todos","@herkes"].some(e=>t.includes(e.toLowerCase()))}(r))try{var o=(await WATB.group.getParticipants(r.id?.remote?._serialized)).map(e=>e.id._serialized);await WATB.chat.sendTextMessage(r.id?.remote?._serialized,"@",{mentionedList:o})}catch(e){}try{W({action:"sentMsg",lastY:document.getElementById("pane-side").scrollTop})}catch(e){}}if(await U(3e3),r&&r.__x_isNewMsg&&!r.id?.fromMe&&"chat"==r.__x_type&&(r.__x_backupBody=r.__x_body,r.__x_backupText=r.__x_text,r.__x_backupType=r.__x_type),r&&r.__x_isNewMsg&&["chat","image","ptt","audio","buttons_response","gp2","list_response","template_button_reply","location","order","document"].includes(r.type)){var i,a="",s="",l="",u={},c={},d={};["chat","buttons_response","gp2","template_button_reply","list_response","location","order"].includes(r.type)?"location"==r.type?(a=r.body,s=r.text||r.loc||a,u={lat:r.lat,lng:r.lng,loc:r.loc}):"order"==r.type?(a=r.body,s=r.text||a,c={total:r.totalAmount1000,currency:r.totalCurrencyCode,count:r.itemCount}):(a=r.body,s=r.text||a,d=r.ctwaContext):(a=i=await WATB.chat.downloadMedia(r.id._serialized).then(WATB.util.blobToBase64),s=r.text||r.caption,l=i?.substring(i?.indexOf(":")+1,i?.indexOf(";"))||"");let e=r.from;var p=r.id?.fromMe;let t=r.senderObj;r.id?.fromMe&&(e=r.to,t=await WATB.contact.get(r.to)),W({action:"newMsg",id:r.id?._serialized,type:r.type,subtype:r.subtype,chat:e?._serialized,isFromMe:p,content:a,mime:l,text:s,location:u,order:c,ctwa:d,isGroupMsg:e?.server?.startsWith("g.us"),sender:q(p?r.to?._serialized:r.id?.participant?._serialized||t?.id?._serialized),lid:p?r.to?._serialized:r.id?.participant?._serialized||t?.id?._serialized,chatOpen:R.ChatStore?.get(e?._serialized)?.active,contactName:t?.name,waName:t?.pushname,groupName:r.pushname,time:r.t,isContact:Boolean(t?.isAddressBookContact),image:R.ProfilePicThumbStore?.get(t?.id?._serialized||r.id?.participant?._serialized)?.imgFull||"",labels:R.ChatStore?.get(e?._serialized)?.labels||[],msgs:R.ChatStore?.get(e?._serialized)?.msgs?.where({__x_type:"chat"})?.slice(0)?.slice(-20)?.map(e=>({role:e.id?.fromMe?"assistant":"user",content:e.body}))})}}catch(e){}}),R.Call?.on("add",async(e,t)=>{var r=R.ChatStore.get(e.peerJid._serialized),n=e.isGroupCall?"group":"personal",o=e.isVideo?"video":"audio";W({action:"newCall",id:e.id,chat:e.peerJid._serialized,content:"",type:n+"_"+o,sender:e.peerJid?._serialized,chatOpen:r?.active||!1,isContact:r?.contact?.isAddressBookContact||!0}),W({action:"saveCall",id:e.id,chat:e.peerJid._serialized,content:"",type:n+"_"+o,sender:e.peerJid?._serialized,chatOpen:r?.active||!1,isContact:r?.contact?.isAddressBookContact||!0})}),window.dispatchEvent(new CustomEvent("fromAngular",{detail:{action:"sync",auth:!0}}))}),window.addEventListener("fromAngular",async function(n){if("sync"==n.detail.action){var t=WATB.whatsapp.functions.getWhatsAppWebExternalBetaJoinedIdb(),o=WATB.conn.getMyUserId(),i=o?.user?await WATB.profile.getMyProfilePicture():{};o?.user!==localStorage.getItem("wauser")&&W({action:"logoutFirebase"}),localStorage.setItem("wauser",o?.user),W({action:"init",name:R.Conn?.pushname,phone:o?.user,image:i?.imgFull,isSMB:R.Conn?.isSMB,version:window.Debug?.VERSION,auth:n.detail.auth,isBeta:t}),G(()=>WATB.contact.list({onlyMyContacts:!0})).then(e=>W({info:"AllContacts",contacts:e.filter(e=>!e?.id?._serialized?.endsWith("@lid")).map(e=>({id:e?.id?.user,serialized:e?.id?._serialized,contactName:e?.name,waName:e?.pushname,labels:e?.labels||[]}))})),G(()=>WATB.chat.list()).then(e=>W({info:"AllChats",chats:e.map(e=>({id:e?.contact.id.user,serialized:e?.contact.id._serialized,contactName:e?.contact.name,waName:e?.contact.pushname,labels:e?.labels||[],canSend:e?.canSend,isAddressBookContact:e?.contact.isAddressBookContact,isGroup:e?.id?.isGroup(),image:R.ProfilePicThumbStore?.get(e.contact.id._serialized)?.imgFull||""}))})),G(()=>WATB.group.getAllGroups()).then(e=>W({info:"AllGroups",groups:e.filter(e=>"COMMUNITY"!==e?.groupType).map(e=>({id:e?.id?.user,serialized:e?.id?._serialized,name:e?.formattedTitle,labels:e?.labels||[],canSend:e?.canSend}))})),G(()=>WATB.labels.getAllLabels()).then(e=>W({info:"AllLabels",labels:e.map(e=>({id:e?.id,name:e?.name,count:e?.count,color:e?.hexColor}))})),G(()=>WATB.catalog.getMyCatalog()).then(e=>W({info:"AllProducts",products:e.map(e=>({id:e?.id,name:e?.name,url:e?.url,image:e?.imageCdnUrl,currency:e?.currency,description:e?.description,price:e?.priceAmount1000/1e3}))})),W({info:"AllChannels",channels:R.NewsletterStore?._models.map(e=>({id:e?.id,name:e?.name,canSend:e?.canSend}))}),R.GroupMetadataStore&&Promise.all(R.GroupMetadataStore?._models?.filter(e=>e.id?.isGroup())?.map(e=>R.GroupMetadataStore?.find(e.id))).then(e=>{W({info:"AllAdminGroups",groups:e?.filter(e=>e.participants?.iAmAdmin()||e.participants?.iAmSuperAdmin())?.map(e=>({id:e?.id?.user,serialized:e?.id._serialized,name:e?.subject}))})}).catch(e=>{})}else if("exportGroupsData"==n.detail.action||"exportGroupsMembers"==n.detail.action)try{var r=[];for(let e of n.detail.groups){var a=R.ChatStore.get(e),s=await R.GroupMetadataStore.find(e),l=!!await async function(e){try{return await e()||!1}catch{return!1}}(()=>WATB.group.iAmAdmin(e))&&await async function(e){try{return await e()||""}catch{return""}}(()=>WATB.group.getInviteCode(e)),u=await G(()=>WATB.group.getParticipants(e)),c=a.msgs?.last()||{};r.push({id:e,name:a.formattedTitle,link:l?"https://chat.whatsapp.com/"+l:"",owner:q(s.owner?._serialized||"")?.split("@")[0],date:new Date(1e3*s.creation).toLocaleString(),description:s.desc||"",last_timestamp:new Date(1e3*c.t).toLocaleString(),last_sender:q(c.author?._serialized||"")?.split("@")[0],members:u.map(e=>{var t=q(e.contact.phoneNumber?._serialized||e.id?._serialized||"");return{id:t&&t!=e.id?._serialized?t.split("@")[0]:e.contact.displayNameLID?.split("+")[1],lid:e.id?._serialized||"",contactName:e.contact.name,waName:e.contact.pushname,admin:Boolean(e.isAdmin).toString(),contact:Boolean(e.contact.isAddressBookContact).toString()}})})}W({action:n.detail.action,groupsData:r,fileFormat:n.detail.fileFormat})}catch(e){W({action:"showToast",type:"error",message:"UNKNOWN_ERROR_OCCURRED"})}else if("exportBroadcastsMembers"==n.detail.action){var e,d=[];for(e of n.detail.broadcasts){var p=R.ChatStore.get(e),f=await R.GroupMetadataStore.find(e);d.push({id:e,name:p.formattedTitle,date:new Date(1e3*f.creation),members:f.participants.map(e=>({id:e.id.user,contactName:e.contact.name,waName:e.contact.pushname}))})}W({action:n.detail.action,broadcastsData:d,fileFormat:n.detail.fileFormat})}else if("sendMsg"==n.detail.action){o=n.detail.options||{};let r=n.detail.content||"";i=n.detail.type||"text";let e=void 0;if(n.detail.chat?.endsWith("@g.us")?(e=n.detail.chat,n.detail.configs?.mention&&(t=await WATB.group.getParticipants(e),o.mentionedList=t.map(e=>e.id._serialized))):(t=await D(n.detail.chat))&&(e=t),e)try{var g=await WATB.chat.get(n.detail.configs?.chat||n.detail.configs?.variablesSourceChat||e)||await WATB.chat.find(n.detail.configs?.chat||n.detail.configs?.variablesSourceChat||e),m=g?R.ContactStore.get(g?.contact?.id?._serialized):{},y=g?.formattedTitle||"",h=(m?.pushname,await WATB.chat.get(n.detail.configs?.sender||n.detail.configs?.variablesSourceChat||e)),b=R.ContactStore.get(h?.contact?.id?._serialized),v=h?.formattedTitle||"",_=b?.pushname||"",M=q(b?.id?._serialized||"")?.split("@")[0]||"",P=n.detail.configs?.originalMessage||"";n.detail.options?.preview||delete o.linkPreview,n.detail.options?.quotedMessageId||delete o.quotedMessageId,r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=r.replace("${contactName}",v)).replace("${contactNameFirst}",v?.split(" ")[0]||"")).replace("${contactNameLast}",v?.split(" ")[1]||"")).replace("${waName}",_)).replace("${waNameFirst}",_?.split(" ")[0]||"")).replace("${waNameLast}",_?.split(" ")[1]||"")).replace("${phone}",M)).replace("${groupName}",y)).replace("${date}",(new Date).toLocaleDateString())).replace("${time}",(new Date).toLocaleTimeString())).replace("${messageContent}",P),n.detail.configs?.sheetRow&&(n.detail.configs?.sheetRow.forEach(function(e,t){r=r.replace("${"+(t+1)+"}",e)}),r=r.replace(/\${\d+\}/g,"")),r=function(t){if(0!=t.length)try{for(var e,r,n,o=new RegExp(/{([^{}]+?)}/);null!==(e=o.exec(t));)r=e[1].split("|"),n=Math.floor(Math.random()*r.length),t=t.replace(e[0],r[n]);return t}catch(e){return t}}(r=r.trim()||""),o.buttons?.body&&(o.buttons.body=r),o.caption&&(o.caption=r),o.poll&&(o.poll.name=r),"text"==i?WATB.chat.sendTextMessage(e,r,{linkPreview:o.preview,createChat:!0,quotedMsg:o.quotedMsg,mentionedList:o.mentionedList}):"contacts"==i||"vcard"==i?WATB.chat.sendVCardContactMessage(e,o.vcards,{createChat:!0,quotedMsg:o.quotedMsg}):"media"==i||"files"==i?WATB.chat.sendFileMessage(e,o.data,{...o,createChat:!0,quotedMsg:o.quotedMsg,mentionedList:o.mentionedList}):"poll"==i?WATB.chat.sendCreatePollMessage(e,r,o.options,{...o,createChat:!0,quotedMsg:o.quotedMsg}):"lists"==i?WATB.chat.sendListMessage(e,{...o.lists,createChat:!0,quotedMsg:o.quotedMsg}):"pix"==i?WATB.chat.sendPixKeyMessage(e,{...o.pix,createChat:!0,quotedMsg:o.quotedMsg}):"event"==i?WATB.chat.sendScheduledCallMessage(e,{...o.event,createChat:!0,quotedMsg:o.quotedMsg}):"location"==i&&WATB.chat.sendLocationMessage(e,{...o.location,createChat:!0,quotedMsg:o.quotedMsg})}catch(e){}else W({action:"markTargetInvalid",id:n.detail.chat})}else if("triggerWebhooks"==n.detail.action){let t=n.detail.message,e=t?.labels?await G(()=>WATB.labels.getAllLabels()):[],r={m_id:t?.id||"",m_type:t?.type||"",m_datetime:new Date(1e3*t?.time).toString()||"",m_timestamp:t?.time||"",m_user:t?.lid||"",m_phone:q(t?.sender||"")?.split("@")[0]||"",m_content:t?.content||"",m_text:t?.text||"",m_cname:t?.contactName||"",m_uname:t?.waName||"",m_gname:t?.isGroupMsg?t?.groupName:"",m_gid:t?.isGroupMsg?t?.chat:"",m_platform:WATB.chat.getPlatformFromMessage(t?.id),w_id:n.detail.workflow_id,c_labels:t?.labels?t?.labels?.map(t=>e.find(e=>e.id==t).name):[],c_image:R.ProfilePicThumbStore?.get(t?.isGroupMsg?t?.chat:t?.sender)?.imgFull||"",c_location:t?.location,c_order:t?.order};n.detail.webhooks.forEach(e=>{e.custom&&(r=function e(t,r){for(var n in t)t.hasOwnProperty(n)&&("object"==typeof t[n]?e(t[n],r):r.hasOwnProperty(t[n])&&(t[n]=r[t[n]]));return t}(JSON.parse(e.payload),r)),W({action:"triggerWebhook",id:e.id,data:r,returnReply:n.detail.return,returnTo:t?.chat})})}else if("blockChat"==n.detail.action)await WATB.blocklist.blockContact(n.detail.chat);else if("archiveChat"==n.detail.action)await U(1e3),await WATB.chat.archive(n.detail.chat);else if("addLabels"==n.detail.action)await WATB.labels.addOrRemoveLabels([n.detail.chat],n.detail.labels.map(e=>({labelId:e.id,type:"add"}))),await U(2e3),window.dispatchEvent(new CustomEvent("fromAngular",{detail:{action:"sync"}}));else if("removeLabels"==n.detail.action)await WATB.labels.addOrRemoveLabels([n.detail.chat],n.detail.labels.map(e=>({labelId:e.id,type:"remove"}))),await U(2e3),window.dispatchEvent(new CustomEvent("fromAngular",{detail:{action:"sync"}}));else if("toggleActiveChatLabel"==n.detail.action){t=WATB.chat.getActiveChat();t.labels?.includes(n.detail.label)?await WATB.labels.addOrRemoveLabels([t.id],[{labelId:n.detail.label,type:"remove"}]):await WATB.labels.addOrRemoveLabels([t.id],[{labelId:n.detail.label,type:"add"}]),await U(2e3),window.dispatchEvent(new CustomEvent("fromAngular",{detail:{action:"sync"}}))}else if("toggleActiveChatPin"==n.detail.action){g=WATB.chat.getActiveChat();g.pin=g.pin?0:g.t}else if("pinChats"==n.detail.action)for(var w of n.detail.chats){w=await WATB.chat.get(w);w&&(w.pin=w.t)}else if("getActiveChat"==n.detail.action){m=WATB.chat.getActiveChat(),h=m&&m.contact?.isBusiness?await R.BusinessProfileStore.find(m.id._serialized):{};m&&W({action:"getActiveChat",chat:{id:m.id?.user,serialized:m.id?._serialized,chat:m.id?._serialized,labels:m.labels,isGroup:m.id?.isGroup(),isUser:m.id?.isUser(),isContact:m.contact.isAddressBookContact,waName:m.contact.pushname,contactName:m.contact.name,hasUnread:m.hasUnread,isPinned:m.pin,image:R.ProfilePicThumbStore?.get(m.id)?.imgFull||"",email:h.email||"",description:h.description||"",website:h.website?h.website[0]?.url:"",draftMessage:m.draftMessage?.text||"",msgs:m?.msgs?.where({__x_type:"chat"})?.slice(0)?.slice(-10)?.map(e=>({role:e.id?.fromMe?"assistant":"user",content:e.body}))||[]}})}else if("changeChatReadStatus"==n.detail.action)await U(2e3),n.detail.status?await WATB.chat.markIsUnread(n.detail.chat):await WATB.chat.markIsRead(n.detail.chat);else if("viewDeletedMessage"==n.detail.action){b=await WATB.chat.getMessageById(n.detail.id);await WATB.chat.openChatAt(b.id.remote,n.detail.id)}else if("deleteChat"==n.detail.action)await U(2e3),await WATB.chat.delete(n.detail.chat);else if("toggleActiveChatReadStatus"==n.detail.action){v=WATB.chat.getActiveChat();v.hasUnread?await WATB.chat.markIsRead(v.id):await WATB.chat.markIsUnread(v.id),await WATB.chat.closeChat()}else if("viewStatusesPrivately"==n.detail.action)n.detail.value?R.StatusV3Model.sendReadStatus=function(e,t){return new Promise((e,t)=>{})}:R.StatusV3Model.sendReadStatus=R.sendReadStatus;else if("hideOnlineStatus"==n.detail.action)n.detail.value?(F=F||setInterval(()=>R.ChatPresence.sendPresenceUnavailable(),1e3),R.ChatPresence.sendPresenceAvailable=function(){return new Promise((e,t)=>{})}):(clearInterval(F),F=null,R.ChatPresence.sendPresenceAvailable=R.sendPresenceAvailable,R.ChatPresence.sendPresenceAvailable());else if("cloneGroup"==n.detail.action)try{var O=await WATB.group.ensureGroup(n.detail.group),j=await WATB.group.getParticipants(n.detail.group),S=await WATB.group.create(n.detail.name,j.map(e=>q(e.id._serialized))),C=(await WATB.group.setProperty(S.gid,"ephemeral",O.ephemeralDuration),await WATB.group.setDescription(S.gid,O.desc),await WATB.group.setProperty(S.gid,"restrict",O.true),await WATB.group.setProperty(S.gid,"announcement",O.announce),await WATB.contact.getProfilePictureUrl(O.id,!0)),x=C?await async function(e){try{var t=await fetch(e);if(!t.ok)throw new Error("Network response was not ok");let r=await t.blob(),n=new FileReader;return new Promise((e,t)=>{n.onloadend=()=>e(n.result),n.onerror=t,n.readAsDataURL(r)})}catch(e){}}(C):null;x&&await WATB.group.setIcon(S.gid,x)}catch(e){W({action:"showToast",type:"error",message:"UNKNOWN_ERROR_OCCURRED"})}else if("createGroup"==n.detail.action)try{await WATB.group.create(n.detail.name,n.detail.members.map(e=>q(e))),W({action:"showToast",type:"success",message:"GROUP_CREATED"})}catch(e){W({action:"showToast",type:"error",message:"UNKNOWN_ERROR_OCCURRED"})}else if("openChatAt"==n.detail.action)try{await WATB.chat.openChatAt(n.detail.chat)}catch(e){_=document.createElement("a");_.setAttribute("href","whatsapp://send?phone="+n.detail.chat),document.body.appendChild(_),_.click(),document.body.removeChild(_)}else if("sendTyping"==n.detail.action)await WATB.chat.markIsComposing(n.detail.chat,n.detail.delay||3e3);else if("sendLike"==n.detail.action){M=WATB.chat.getActiveChat();await WATB.chat.sendTextMessage(M.id,"\ud83d\udc4d")}else if("sendReaction"==n.detail.action)await WATB.chat.sendReactionToMessage(n.detail.id,n.detail.reaction);else if("transcribeMessage"==n.detail.action){y=await WATB.chat.getMessageById(n.detail.id);"ptt"!=y.type&&"audio"!=y.type||(P=await WATB.chat.downloadMedia(n.detail.id),W({action:"transcribeMessage",id:n.detail.id,audio:P,text:y?.caption||y?.body}))}else if("translateMessage"==n.detail.action){i=await WATB.chat.getMessageById(n.detail.id);W({action:"translateMessage",id:n.detail.id,text:i?.caption||i?.body||"Error"})}else if("setMsgBody"==n.detail.action){o=await WATB.chat.getMessageById(n.detail.id);o&&("chat"==o.type&&(o.body=n.detail.text),"chat"!==o.type)&&(o.caption=n.detail.text)}else if("addToGroups"==n.detail.action)for(var A of n.detail.groups){try{await WATB.group.addParticipants(A.serialized,n.detail.chat)}catch(e){}await U(5e3)}else if("removeFromGroups"==n.detail.action)for(var I of n.detail.groups){try{var N=await WATB.contact.getPnLidEntry(n.detail.chat);await WATB.group.removeParticipants(I.serialized,N.lid._serialized)}catch(e){}await U(5e3)}else if("restoreRevoked"==n.detail.action){for(var T of n.detail.messages)try{var E=await WATB.chat.getMessageById(T.id);E&&"chat"==T.type&&(E.__x_type="chat",E.__x_body="\ud83d\udeab _"+n.detail.note+":_ "+T.body,E.__x_text="\ud83d\udeab _"+n.detail.note+":_ "+T.body,E.__x_isRevoked=!1)}catch(e){}R.Cmd.refreshMessages()}else if("validateNumbers"==n.detail.action){var B,k=[],L=[];for(B of n.detail.numbers)try{(await D(B)?k:L).push(B)}catch(e){}W({action:"validateNumbers",validNumbers:k,invalidNumbers:L})}else"exposeMemory"==n.detail.action?window.blackHole=R:"resetDraft"==n.detail.action?(t=await R.ChatStore.getActive(),n.detail.text&&(R.ComposeBoxActions.setTextContent(t,n.detail.text),R.ComposeBoxActions.focus(t)),(g=document.getElementById("aiButton"))&&g.remove(),W({action:"reinitCurrentChat"})):"starMessage"==n.detail.action?await WATB.chat.starMessage(n.detail.message):"pinMessage"==n.detail.action?await WATB.chat.pinMsg(n.detail.message,!0):"muteChat"==n.detail.action?await WATB.chat.mute(n.detail.chat,{duration:n.detail.duration}):"unmuteChat"==n.detail.action?await WATB.chat.unmute(n.detail.chat):"saveContact"==n.detail.action?(await WATB.contact.get(n.detail.chat)).isAddressBookContact||WATB.contact.save(n.detail.chat,n.detail.first_name,{surname:n.detail.last_name,syncAdressBook:!0}):"openSaveContact"==n.detail.action&&(await WATB.whatsapp.Cmd.openCurrentChatInfo(),setTimeout(function(){var e=document.querySelector('button:has(svg path[d^="M14.7,12c2,0,3.6-1.6,3.6-3"])')||document.querySelector('button:has(svg path[d^="M18 11H16C15.7167 11 15.4792 10.9042"])');e&&e.click()},1500))})}()},{}]},{},[1,4]);
